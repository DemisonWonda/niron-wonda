;/*FB_PKG_DELIM*/

__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("MqttEnv",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});d=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};a.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.killswitch=function(a){return this.$7!=null?this.$7(a):c("killswitch")(a)};a.createSocket=function(a,b){return this.$8!=null?this.$8(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$9!=null?this.$9(a):a()};a.scheduleLoggingCallback=function(a){return this.$10!=null?this.$10(a):a()};a.configRead=function(a,b){return this.$11!=null?this.$11(a,b):b};a.configWrite=function(a,b){this.$12!=null&&this.$12(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k,l){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=l,this.$8=g,this.$9=h,this.$10=i,this.$11=j,this.$12=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new d();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();f.exports=a}),34);
__d("CacheStorage",["ErrorGuard","EventListenerImplForCacheStorage","ExecutionEnvironment","FBJSON","WebStorage","emptyFunction","err","killswitch"],(function(a,b,c,d,e,f,g){var h="_@_",i="3b",j="CacheStorageVersion",k={length:0,getItem:c("emptyFunction"),setItem:c("emptyFunction"),clear:c("emptyFunction"),removeItem:c("emptyFunction"),key:c("emptyFunction")};a=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=c("WebStorage").getLocalStorage())!=null?b:k)||this}b.available=function(){return!!c("WebStorage").getLocalStorage()};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=c("WebStorage").getSessionStorage())!=null?b:k)||this}b.available=function(){return!!c("WebStorage").getSessionStorage()};return b}(a);var l=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),m={memory:l,localstorage:b,sessionstorage:e};g=function(){function a(a,b){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;b&&(this._key_prefix=b);a==="AUTO"||!a?b="memory":b=a;b&&(!m[b]||!m[b].available()?(c("ExecutionEnvironment").canUseDOM,this._backend=new l()):this._backend=new m[b]());a=this.useBrowserStorage();a&&c("EventListenerImplForCacheStorage").listen(window,"storage",this._onBrowserValueChanged.bind(this));b=a?this._backend.getStore().getItem(j):this._backend.getStore()[j];b!==i&&(c("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}var b=a.prototype;b.useBrowserStorage=function(){return this._backend.getStore()===c("WebStorage").getLocalStorage()||this._backend.getStore()===c("WebStorage").getSessionStorage()};b.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};b._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};b.keys=function(){var a=this,b=[];c("ErrorGuard").guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};b.set=function(b,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=h+e:!f?(g={__t:Date.now(),__v:e},g=d("FBJSON").stringify(g)):g=d("FBJSON").stringify(e);f=this._backend;e=this._key_prefix+b;b=!0;var i=null;while(b)try{i=null,f.set(e,g),b=!1}catch(a){i=a;var j=f.keys().length;this._evictCacheEntries();b=f.keys().length<j}if(i!==null){this._exception=i;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};b.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};b.getLastSetException=function(){return this._exception};b.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};b._evictCacheEntries=function(){var b=[],c=this._backend;c.keys().forEach(function(e){if(e===j)return;var g=c.get(e);if(g===void 0){c.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=d("FBJSON").parse(g,f.id)}catch(a){c.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&b.push([e,g.__t])});b.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(b.length/2);e++)c.remove(b[e][0])};b.get=function(b,e){var g;if(this._backend){c("ErrorGuard").applyWithGuard(function(){g=this._backend.get(this._key_prefix+b)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(h.length);else try{g=d("FBJSON").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(b,g));return g};b.remove=function(a){this._backend&&c("ErrorGuard").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};b._setVersion=function(){var a=this;c("ErrorGuard").applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(j,i):a._backend.getStore()[j]=i},this,[],{name:"CacheStorage:setVersion"})};b.clear=function(){this._backend&&(c("ErrorGuard").applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};b.clearOwnKeys=function(){this._backend&&(c("ErrorGuard").applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(m)};a._hasMagicPrefix=function(a){return a.substr(0,h.length)===h};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();g._persistentWritesDisabled=!1;f.exports=g}),34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=b;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",b+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(b,c,f){c=b.split(":")[1];try{b=d("FBJSON").parse(f)}catch(a){b=void 0}if(b&&b.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),c].concat(b.__v))}});return e}var e=b.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{value:c,offset:b}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";var h={endpointWithSessionId:function(a,b){return h.endpointWithExtraParameter(a,"sid",b.toString())},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b,d){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithExtraParameter:function(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c},generateSessionId:function(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},promiseDone:function(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})},promiseDoneWithTimeout:function(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);h.promiseDone(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype},getWSAvailability:function(){var b="";if("WebSocket"in a&&a.WebSocket!==null)b+="W";else return"none";"CLOSING"in a.WebSocket.prototype&&(b+="C");return b}};f.exports=h}),34);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{wireMessage:null,position:e};b=i.offset;i=b+i.value;if(i>a.length)return{wireMessage:null,position:e};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{wireMessage:j,position:i}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=i.length+3;b+=d("MqttProtocolUtils").UTF8Length(this.clientId)+2;b+=d("MqttProtocolUtils").UTF8Length(this.connectOptions.userName)+2;var c=d("MqttProtocolUtils").encodeMultiByteInt(b);b=new ArrayBuffer(1+c.length+b);var e=new Uint8Array(b);e[0]=a;a=1;e.set(c,1);a+=c.length;e.set(i,a);a+=i.length;c=2|128;e[a++]=c;a=d("MqttProtocolUtils").writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),e,a);a=d("MqttProtocolUtils").writeString(this.clientId,d("MqttProtocolUtils").UTF8Length(this.clientId),e,a);a=d("MqttProtocolUtils").writeString(this.connectOptions.userName,d("MqttProtocolUtils").UTF8Length(this.connectOptions.userName),e,a);return b};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,PubAckUnsubAck:n,Ping:k,ConnAck:m,Connect:f,Disconnect:e,Subscription:o,Publish:q};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectionLost,i=g.onConnectFailure;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){h(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){i(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={userName:"",mqttVersion:3,getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,onConnectSuccess:function(a){},onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){}};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket"),b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error"),b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserName",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=c("gkx")("1166607")?!1:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l}var b=a.prototype;b.gen=function(a,b,d,e){e===void 0&&(e=[]);var f=c("gkx")("1166607")?!1:this.$7;d=d.map(function(a){a={topic:a.topic,payload:a.payload,qos:a.qos,messageId:a.messageId,isBase64Publish:!1};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});a={u:this.$1,s:a,cp:this.$3,ecp:this.$2,chat_on:this.$6,fg:f,d:this.$4,ct:this.$10,mqtt_sid:"",aid:this.$5,st:b,pm:d,dc:"",no_auto_fg:!0,gas:this.$8,pack:e,php_override:this.$9,p:this.$11,a:navigator.userAgent,aids:this.$12!=null?Object.fromEntries(this.$12):null};return JSON.stringify(a)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h=15,i=15,j=1,k=1,l=64,m="publish",n="subscribe",o="unsubscribe",p=function(a){},q=18e4,r=5*1e3,s=15,t=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=h;this.$21=i;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.onStateChange,d=a.onJSError,e=a.onMessageReceived,f=a.endpoint,g=a.mqttUserName,j=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=c;this.$3=e;this.$5=f;this.$6=g;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=d||p;j&&j.forEach(function(a){return b.$17.add(a)});this.$4=a;this.$20=h;this.$21=i;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(n)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var h={resolve:function(){},reject:function(a){}};g!=null&&(h.listener=g);var i=new(b("Promise"))(function(a,b){h.resolve=a,h.reject=b}),j=this.ensureConnected(m);!j?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),h.reject(c("err")("Client disconnected"))):this.$33(a,e,f,h);return i};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(o)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.onWindowUnload=function(){var a=this;this.publish("/browser_close","{}",0)["catch"](function(){a.$10.bumpCounter("on_window_unload.browser_close_publish_failed")})};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=c("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=c("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=c("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({userName:g,mqttVersion:3,getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnectSuccess:function(c){return a.$41(b,a.$18,f,i,e,c)},onConnection:function(){return a.$42(h,f)},onConnectionLost:function(b,c){return a.$43(b,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)}}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=j*Math.pow(2,this.$12));a=Math.max(a,k);a=Math.min(a,l);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>r,c=this.$12>s;(b||c)&&(this.$12=0);this.$16!==0&&a<=r&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({sessionID:this.$9,connectionStatus:a,connectionState:this.mqttStateFromConnectionState(this.$11),ackReceived:b,duration:k-c,total_duration:k-d,hostname:this.$5,attemptNumber:this.$13,successTotal:this.$14,failTotal:this.$15,subscribedTopics:e,publishes:f,errorCode:i,errorMessage:j,osConnectivity:g,messageSizeBytes:h,disconnectCount:this.$23});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===t){this.$48(q);return}}this.$48()};e.$42=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$41=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$43=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:b,duration:Date.now()-this.$16,disconnectCount:this.$23})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();g["default"]=a}),98);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;a=a.assetIds;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){var e=d("MqttEnv").Env.killswitch("MQTT_WS_FORCE_LONG_POLLING");if(e){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("MqttUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}}this.$10.run({onStateChange:function(a){b.$20(a)},onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},endpoint:this.$1,mqttUserName:this.$12,subscribedTopics:a,extraConnectMessageProvider:function(){return b.$23()}});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$10.onWindowUnload(),a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,e){e===void 0&&(e={qos:1,skipBuffer:!1});var f;e.qos===0?f=this.$27(a,b,e.listener):f=this.$28(a,b,e);c("MqttUtils").promiseDone(f,function(){},function(a){(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return f};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={resolve:function(){},reject:function(a){}},g=new(b("Promise"))(function(a,b){f.resolve=a,f.reject=b}),h=d("MqttEnv").Env.random();a={topic:a,payload:c,options:e,ack:f,publishToken:h,timeoutId:null,attempt:0,startTime:Date.now()};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(a);else{a.timeoutId=this.$31(h);this.$15.set(h,a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(a)}return g};e.$30=function(a){a.attempt+=1,c("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;c("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!0,protocol:k,errorMessage:null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g,disconnectCount:i.$10.getDisconnectCount()})},function(c){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!1,protocol:k,errorMessage:c!=null?c.toString():null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g,disconnectCount:i.$10.getDisconnectCount()})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},h,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadString.length*2,disconnectCount:this.$10.getDisconnectCount()});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadBytes.length,disconnectCount:this.$10.getDisconnectCount()});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$20=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$23=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$23()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};return a}();f.exports=a}),34);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","Log","LogHistory","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="mqtt_client",i=100,j="WEBSOCKET",k=typeof window!=="undefined"?window:self,l=null,m={CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",CLIENT_ERROR:"mqtt_client_error",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},n={CONNECT:"connect",DISCONNECT:"disconnect",OUTGOING_PUBLISH:"outgoing_publish",INCOMING_PUBLISH:"incoming_publish"};a=function(){a.getInstance=function(){l||(l=new a());return l};function a(){this.$1=d("LogHistory").getInstance(h),this.$2=0,this.$3=c("gkx")("778292"),this.$4=Date.now(),this.$5=c("ChannelClientID").getID(),this.$7(),this.$6=d("MqttGlobalStreamCounter").getInstance(),this.$6.isEnabled()||(this.$6=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.sessionID,d=a.connectionStatus,e=a.connectionState,f=a.ackReceived,g=a.duration,h=a.total_duration,i=a.hostname,k=a.attemptNumber,l=a.successTotal,o=a.failTotal;a.subscribedTopics;a.publishes;var p=a.osConnectivity;a.errorCode;var q=a.errorMessage,r=a.messageSizeBytes;a=a.disconnectCount;d=d?"success":"failed";this.bumpCounter(m.CONNECT+"."+d);d=l/(l+o);l=p&&this.getBrowserConnectivity();var s={event_type:n.CONNECT,acked:f,attempt_number:k.toString(),connection_state:e,client_type:j,duration:g.toString(),total_duration:h.toString(),error:q,session_id:b.toString(),os_connectivity:l,payload_size:r==null?void 0:r.toString(),extra_data:{device_id:this.$5,connect_success_rate:d.toString(),hostname:i},ws_count:(o=this.$6)==null?void 0:o.getGlobalState().totalConnectionStreams.toString(),disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.pullEventName,c=a.sessionID,e=a.status,f=a.duration,g=a.hostname;a=a.errorMessage;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:k.location.hostname,connection_status:e,duration:f,hostname:g,error_message:a};this.$9(b,c)};b.eventLogPullFinish=function(a){var b=a.pullEventName,c=a.sessionID,e=a.duration,f=a.errorMessage,g=a.publishReceived;a=a.publishSent;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:k.location.hostname,duration:e,error_message:f,publish_received:g,publish_sent:a};this.$9(b,c)};b.eventLogDisconnect=function(a){var b=a.sessionID;a.errorCode;var d=a.errorMessage,e=a.duration;a=a.disconnectCount;this.bumpCounter(m.DISCONNECT);var f={event_type:n.DISCONNECT,connection_state:"Disconnected",client_type:j,duration:e.toString(),error:d,session_id:b.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5},ws_count:(e=this.$6)==null?void 0:e.getGlobalState().totalConnectionStreams.toString(),disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.qos,f=a.payloadSizeBytes,g=a.success,h=a.protocol,i=a.errorMessage,k=a.connectionState,l=a.thisAttemptStartTime,o=a.firstAttemptStartTime,p=a.attempt;a=a.disconnectCount;this.bumpCounter(m.PUBLISH+"."+d);var q=Date.now(),r={event_type:n.OUTGOING_PUBLISH,session_id:b.toString(),topic:d,client_type:j,connection_state:k,qos:e.toString(),acked:e===1?g:null,duration:(q-l).toString(),total_duration:o!=null?(q-o).toString():null,error:i,payload_size:f.toString(),attempt_number:p.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5,protocol:h},disconnect_count:a.toString()};this.$8(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.connectionState,f=a.qos,g=a.payloadSizeBytes;a=a.disconnectCount;var h={event_type:n.INCOMING_PUBLISH,session_id:b.toString(),topic:d,client_type:j,connection_state:e,qos:f.toString(),payload_size:g.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5},disconnect_count:a.toString()};b=d=="/webrtc"||d=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(h).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(h).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(i))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&d("ODS").bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,i),d("ODS").bumpEntityKey(2966,"mqtt_ws_client",a,i)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==m.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,e){c("gkx")("762")&&b!==0?e=e||d("Random").coinflip(b):e=!0;e&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return k.navigator&&k.navigator.onLine!==void 0?k.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(k.navigator&&k.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentUser","MqttEnv","MqttLogger","Random","WebStorage","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h="mqtt:",i={genGk:function(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("832242");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("945829");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("1001007");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("1066746");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("968609");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("2795");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}},configRead:function(a,b){var d=c("WebStorage").getLocalStorage();if(d){d=d.getItem(h+a);if(d!=null)return d}return b},configWrite:function(a,b){var d=c("WebStorage").getLocalStorage();d&&(b==null?d.removeItem(h+a):c("WebStorage").setItemGuarded(d,h+a,b))},initialize:function(){d("MqttEnv").Env.initialize(c("Random").random,c("CurrentUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},i.genGk,null,null,null,i.configRead,i.configWrite)}};f.exports=i}),34);
__d("FBMqttChannel",["MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();a=new(c("MqttChannel"))({endpoint:c("MqttWebConfig").endpoint,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid,appId:c("MqttWebConfig").appID,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,capabilities:c("MqttWebConfig").capabilities,clientCapabilities:c("MqttWebConfig").clientCapabilities,chatVisibility:!1,phpOverride:c("MqttWebConfig").hostNameOverride});g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"6243845039071039",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9925683137457453"}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql",["MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsNotificationSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_notification_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qpl_join_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c},params:{id:b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_chat_tabs_notification_subscribe"},name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5248437728509060"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"9944623912245126",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometTopNavTabBadge.react",["CometNumberedBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.isBadgeHidden,d=a.isTab,e=a.overflow,f=a.setBadgeCount,g=a.testid,j=a.value;g=babelHelpers.objectWithoutPropertiesLoose(a,["isBadgeHidden","isTab","overflow","setBadgeCount","testid","value"]);i(function(){f&&f(j)},[j,f]);if(b===!0||j===0)return null;a=d===!0?"red":void 0;return h.jsx(c("CometNumberedBadge.react"),babelHelpers["extends"]({},g,{color:a,overflow:e,testid:void 0,value:j}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsBadgeCount.react",["CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometNumberedBadge.react","CometPlaceholder.react","CometRelay","hero-tracing","react","setupNotificationsLiveQuery","unrecoverableViolation","updateWidgetServiceWorker","useMaybeZeroNotificationsBadgeCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useEffect;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});e=e.viewer;if(e==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsBadgeCountFragment_viewer.graphql"),e);var f=c("useMaybeZeroNotificationsBadgeCount")(e==null?void 0:e.notifications_unseen_count);e=a.isBadgeHidden;var g=a.overflow,l=a.setBadgeCount,m=d("CometRelay").useRelayEnvironment();k(function(){var a=c("setupNotificationsLiveQuery")(m);return function(){return a.dispose()}},[m]);k(function(){l&&l(f),c("updateWidgetServiceWorker")()},[f,l]);return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("span",{}),children:e!==!0&&f>0?j.jsx(d("hero-tracing").HeroPagelet,{name:"NotificationsBadge",children:function(a,b){return j.jsxs(j.Fragment,{children:[j.jsx(c("CometNumberedBadge.react"),{overflow:g,ref:a,testid:void 0,value:f}),j.jsx(b,{})]})}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCondWrapper.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}f=c("gkx")("1224637")||c("gkx")("9125")?a:(e=b("cr:3921"))!=null?e:a;d=f;g["default"]=d}),98);
__d("MWChatHeadError.react",["fbt","ix","CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","CometPressable.react","MWChatInteraction.bs","MWXIcon.react","MWXTooltip.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={compose:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",$$css:!0},dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0}},l=h._("__JHASH__1kKkUA_eanI__JHASH__");function a(a){var b=a.contextRef;a=a.onPress;return j.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_CHATHEADS_LOAD),children:[j.jsx(c("CometHeroFailTrigger.react"),{description:"Error while loading chatheads",fail:!0}),j.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:l,children:j.jsx(c("CometPressable.react"),{"aria-label":l,disabled:a==null,display:"inline",onPress:a,ref:b,xstyle:function(a){return[k.compose,k.dropShadow]},children:j.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("502063"),24)})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatDisabled.react",["MWChatHeadError.react","react","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contextRef;a=a.onPress;var d=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT");return d?h.jsx("div",{className:"x1ey2m1c xds687c xixxii4",children:h.jsx("div",{className:"x191j7n5 x92rtbv x10l6tqk",children:h.jsx(c("MWChatHeadError.react"),{contextRef:b,onPress:a})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientSingleton.bs",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("LSPlatformClientInstances",["LSPlatformClientSingleton.bs","LSPlatformLsInitLog","LSSuspense","MAWTTRCSafe","MessengerLogHistory","PromiseAnnotate","WALoggerDeferred","asyncToGeneratorRuntime","cr:630","cr:714","cr:7348","cr:7350","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Beginning hardcoded init sync"]);h=function(){return a};return a}var i=d("MessengerLogHistory").getInstance("client_init"),j=(e=b("cr:630"))!=null?e:b("cr:7348"),k=(f=b("cr:714"))!=null?f:b("cr:7350"),l=c("LSSuspense").makeCollection(),m=!1;function a(a,e){m||(m=!0,j!=null&&k!=null&&(j.isArmadillo()||c("gkx")("9017")===!0)&&(i.debug("Starting MAW main thread logger setup..."),k.setupMainWaLogger(),i.debug("Starting MAW main thread logger setup success"),d("MAWTTRCSafe").markEvent("ls_init_start"),void d("WALoggerDeferred").LOG(h())));return c("LSSuspense").getFromCollection(l,a,function(){return d("PromiseAnnotate").setDisplayName(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Messenger loading UI suspending");try{i.debug("Loading LSPlatformClient factory...");var b=(yield e());i.debug("Loading LSPlatformClient factory success.");i.debug("Initializing LSPlatformClient...");b=(yield b.make(a));yield b.start();i.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton.bs").saveInstance(b);return b}catch(a){i.debug("Initialization failed");d("LSPlatformLsInitLog").fail("failure_during_client_setup");d("MAWTTRCSafe").addStringAnnotation("lsInitFailReason","failure_during_client_setup");d("MAWTTRCSafe").fail("ls_init_end");throw a}finally{i.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformConfigContext",["LSSuspense","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext;e=c("err")("LSPlatformConfig.NoLSPlatformProviderFound");e=c("LSSuspense").makeWithError(e);var j=d(e);function a(a){var b=a.children;a=a.config;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return c("LSSuspense").getOrSuspend(i(j))}g.LSPlatformConfigProvider=a;g.useOrSuspendLSPlatformConfig=b}),98);
__d("LSPlatformClientProvider.react",["CometPlaceholder.react","LSPlatformClientInstances","LSPlatformConfigContext","LSPlatformErrorsCatcher.react","MAWCondWrapper.react","ReStoreProvider.react","cr:6495","gkx","react","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=d("LSPlatformConfigContext").useOrSuspendLSPlatformConfig();return c("LSPlatformClientInstances").getOrInit(b,a)}function a(a){var b=a.children;a=a.loadLSPlatformClient;a=i(a);return h.jsx(d("ReStoreProvider.react").ReStoreProvider,{db:a.db,children:b})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.loadLSPlatformClient;i(a);return null}function e(a){var b=a.children;a=a.loadLSPlatformClient;c("suspendOrThrowIfUsedInSSR")("Messenger is not enabled for SSR");return h.jsxs(h.Fragment,{children:[h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{loadLSPlatformClient:a})}),b]})}var k=c("gkx")("9011")?e:a;function l(a){var d=a.children,e=a.errorFallback,f=a.loadLSPlatformClient;a=a.placeholder;return h.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:e,children:h.jsx(c("MAWCondWrapper.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:a,children:h.jsxs(k,{loadLSPlatformClient:f,children:[b("cr:6495")!=null&&h.jsx(b("cr:6495"),{}),d]})})})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=l}),98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6586"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6586")}),98);
__d("LSDedicatedMqttChannel",["FBMqttChannel","cr:1232"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:1232")!=null&&b("cr:1232").shutdownAndClear()}function d(a,d,e,f){return function(g){if(b("cr:1232")!=null)return b("cr:1232").getInstance(g,a,d,e,f);else return c("FBMqttChannel")}}g.shutdownAndClear=a;g.getInstance=d}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","CometRelayEnvironment","LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){return d("CometRelay").fetchQuery(c("CometRelayEnvironment"),h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql"),{deviceId:a,requestId:e,requestPayload:f,requestType:g}).toPromise().then(function(a){return a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request})}g["default"]=a}),98);
__d("LSPlatformDefaultUnderlyingApi.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(){return function(){}}function c(){return function(){}}function d(){return function(){}}function e(a,c){return b("Promise").resolve()}function g(){}g={cleanup:g,onConnectionStatusChange:c,onReconnect:d,publish:e,subscribe:a};f.defaultUnderlyingApi=g}),66);
__d("LSPlatformMqttRealtimeTransport.bs",["ExecutionEnvironment","I64","LSDedicatedMqttChannel","LSIntEnum","LSPlatformDefaultUnderlyingApi.bs","LSPlatformRealtimeTransport.bs","Promise","killswitch","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function i(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(b("Promise"))(function(a,b){f.contents=a})},h={onMQTTStateChanged:function(a){a==="Connected"?f.contents():a==="Disconnected"&&e.contents==="Connected"&&(g.contents=new(b("Promise"))(function(a,b){f.contents=a})),e.contents=a}};e.contents==="Connected"&&f.contents();a.subscribeChannelEvents(h);return[function(){a.unsubscribeChannelEvents(h)},function(e,f){return g.contents.then(function(){return new(b("Promise"))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport.bs").NotConnected})}},qos:d("I64").equal(f,d("LSIntEnum").ofNumber(4))?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport.bs").Timeout});else return g(a)})})})}]}var j={contents:void 0};function a(a,b,e){if(!c("ExecutionEnvironment").canUseDOM&&!c("ExecutionEnvironment").isInWorker)return d("LSPlatformDefaultUnderlyingApi.bs").defaultUnderlyingApi;var f=e(b),g={getPublishMessages:function(){return h(a)}};f.registerExtraConnectPayloadProvider(g);var k={onMQTTStateChanged:function(a){var b=j.contents;if(b!=null)return b(a)}};f.subscribeChannelEvents(k);var l=f.subscribe("/ls_foreground_state",function(){});e=i(f);var m=e[0];b=e[1];return{cleanup:function(){f.unregisterExtraConnectPayloadProvider(g),c("killswitch")("MESSENGER_WEB_PERSISTED_DB")||d("LSDedicatedMqttChannel").shutdownAndClear(),f.unsubscribeChannelEvents(k),l(),m()},onConnectionStatusChange:function(a){j.contents=a;return function(){j.contents=void 0}},onReconnect:function(a){var b={contents:f.getConnectionState()},c={contents:b.contents==="Connected"},d={onMQTTStateChanged:function(d){d==="Connected"&&(c.contents&&b.contents!=="Connected"&&a(),c.contents=!0),b.contents=d}};f.subscribeChannelEvents(d);return function(){f.unsubscribeChannelEvents(d)}},publish:b,subscribe:function(a){return f.subscribe("/ls_resp",function(b){return a(b)})}}}g.make=a}),98);
__d("MessengerWebRegion.bs",["MessengerWebRegion","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;if(a==null)if(c("gkx")("1993339"))return c("unrecoverableViolation")("Tried to load mailbox for a user that does not have a mailbox","messenger_web_product");else return"";else return a}g.getRegion=a}),98);
__d("LSPlatformMessengerConfig",["CurrentUser","LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSDedicatedMqttChannel","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport.bs","LSSuspense","LSVersion","MessengerWebRegion.bs","ServerAppID"],(function(a,b,c,d,e,f,g){"use strict";f=d("MessengerWebRegion.bs").getRegion();function a(){return c("LSDatabaseSingleton")}function b(a){return d("LSPlatformMqttRealtimeTransport.bs").make(c("LSVersion"),a,d("LSDedicatedMqttChannel").getInstance(c("CurrentUser").isLoggedInNow))}function e(){return c("LSDatascriptEvaluatorMaybeDeferred")()}a={appId:c("ServerAppID").app_id,executeGraphQLLightSpeedRequest:c("LSPlatformGraphQLLightspeedRequest"),getDb:a,getEval:e,platformName:"Messenger",realtimeUnderylingTransport:b,region:f,schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};e=c("LSSuspense").makeWithValue(a);g.config=a;g.configEagerlyLoaded=e}),98);
__d("MWV2Chat.react",["CometErrorBoundary.react","FBLogger","JSResourceForInteraction","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformConfigContext","LSPlatformMessengerConfig","MWChatDisabled.react","MWXLazyPopoverTrigger.react","cr:11569","gkx","killswitch","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.warn("Error loading MWV2Chat")}var j=c("JSResourceForInteraction")("MWChatErrorStatePopover.react").__setRef("MWV2Chat.react"),k=function(a){return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{error:a},popoverResource:j,position:"above",visibleOnLoad:!1,children:function(a,b){return h.jsx(c("MWChatDisabled.react"),{contextRef:a,onPress:b})}})};function a(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:i,children:!c("gkx")("1673554")||c("killswitch")("COMET_CHAT")||!c("gkx")("1812744")?h.jsx(c("MWChatDisabled.react"),{}):b("cr:11569")&&h.jsx(d("LSPlatformConfigContext").LSPlatformConfigProvider,{config:d("LSPlatformMessengerConfig").configEagerlyLoaded,children:h.jsx(c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"),{errorFallback:k,children:h.jsx(b("cr:11569"),{})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFallbackWithTimeout.react",["FBLogger","react","useTimeout"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function a(a){var b=a.children,d=a.message;a=c("useTimeout")(1e4);var e=a.pending;h(function(){e||c("FBLogger")("messenger_web_product","fallback_timeout").warn(d)},[d,e]);return b}g["default"]=a}),98);
__d("MWChatStateV2CompareTabs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2IsComposeTab.bs",["MWChatStateV2Types"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!0;else return!1}g.isComposeTab=a}),98);
__d("MWChatStateV2HeadGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsMinimized.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c=Array.from(c.values()).filter(function(b){return d("MWChatStateV2IsMinimized.bs").isMinimized(a,b)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,b);return c===0?d("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,b):c});b=b.filter(function(a){return!d("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).concat(c);return[b.slice(0,e),b.slice(e,b.length)]}g.getHeadGroups=a}),98);
__d("MWChatStateV2TabGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var d=a.length;if(d>b&&b>0&&c!=null){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,c,e){b=h(Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsOpen.bs").isOpen(a,b)}).sort(d("MWChatStateV2CompareTabs.bs").byMostRecentOpened),e,c);return[b.slice(0,e),b.slice(e,b.length)]}g.getTabGroups=a}),98);
__d("MWV2ChatHeadsLayout.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x191j7n5 x92rtbv x10l6tqk x1useyqa",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatOptionsHead.bs",["fbt","ix","CometPressable.react","MWXDeferredPopoverTrigger.react","MWXIcon.react","MWXTooltip.react","fbicon","gkx","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=c("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.bs"),m={head:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",opacity:"xg01cxk",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"x14qfxbe",":hover_boxShadow":"x19xcq9t",$$css:!0},headArea:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xnnlda6",position:"x1n2onr6",start:"xi8xln7",width:"x14qfxbe",$$css:!0},headAreaOld:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",position:"x10l6tqk",start:"xi8xln7",width:"x14qfxbe",$$css:!0},headVisible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0},hoverTarget:{alignItems:"x6s0dn4",backgroundColor:"xjbqb8w",display:"x78zum5",height:"xnnlda6",justifyContent:"xl56j7k",marginStart:"x1tl9596",marginTop:"xhsvlbd",width:"x1dmp6jm",$$css:!0}},n=h._("__JHASH__GqqnGnZcXBj__JHASH__");function a(a){var b=a.isVisible,e=a.openTabCount,f=a.style;a=k(!1);var g=a[0],h=a[1];a=k(!1);var o=a[0],p=a[1];a=k(!1);var q=a[0];a=a[1];return j.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:a,popoverProps:{hasOpenTabs:e>0},popoverResource:l,position:"above",children:function(a,e){return j.jsx("div",{className:c("stylex")(c("gkx")("3599")?m.headArea:m.headAreaOld),style:c("gkx")("3599")?void 0:f,children:j.jsx("div",{className:"x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1tl9596 xhsvlbd x1dmp6jm","data-testid":void 0,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:j.jsx(c("CometPressable.react"),{label:n,onFocusChange:function(a){return p(a)},onPress:e,ref:a,testid:void 0,xstyle:function(){return[m.head,b||g||o||q?m.headVisible:!1]},children:j.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:n,children:j.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("484387"),20)})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2PreloadComposeTab.bs",["JSResourceForInteraction","JSScheduler","react","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2PreloadComposeTab.bs");function a(){var a=h(function(){d("JSScheduler").scheduleSpeculativeCallback(function(){i.preload()})},[]);a=c("useCometPreloader")("button",a,a);var b=a[0];a=a[1];return[b,a]}g["default"]=a}),98);
__d("MWV2ComposeHead.react",["fbt","ix","CometPressable.react","CometTintedIcon.react","LSThreadAttributionStore.bs","MWChatInteraction.bs","MWChatStateV2.bs","MWChatStateV2Types","MWV2PreloadComposeTab.bs","MWXTooltip.react","MessengerWebUXLogger","fbicon","react","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x3nfvp2",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",":hover_boxShadow":"x19xcq9t",$$css:!0}};function a(a){var b=a.onFocusChange;a=a.onHoverChange;var e=d("MWChatStateV2.bs").useDispatch(),f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),g=c("useMWNewChatOpenTabTraceProvider")(),l=function(){g(function(a){d("MWChatInteraction.bs").set("open_new",a);f==null?void 0:f({eventName:"create_thread"});d("LSThreadAttributionStore.bs").setSourceForNewThread("chatheadsNewMessage");var b=Date.now();a=function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType}};var c=function(a){var c=a.openWatermark<a.closeWatermark;if(c)return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType};else return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}};return e([{inserter:a,tabConfig:{shouldFocus:!0},tabType:{initialTokens:[],secureThreadToggleEnabled:!1,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:c}])},"chatheadsNewMessage")},m=c("MWV2PreloadComposeTab.bs")(),n=m[0];m=m[1];var o=h._("__JHASH__lMGuJRoIOm8__JHASH__");return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:o.toString(),children:j.jsx(c("CometPressable.react"),{"aria-label":o,onFocusChange:b,onHoverChange:a,onHoverIn:n,onHoverOut:m,onPress:l,testid:void 0,xstyle:function(){return[k.button]},children:j.jsx(c("CometTintedIcon.react"),{color:"primary",icon:d("fbicon")._(i("507172"),20)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useSubscriptionValue",["React"],(function(a,b,c,d,e,f,g){b=d("React");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=j(function(){return b()});var d=a[0],e=a[1],f=h(function(){e(b)},[b]);a=j(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());i(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(){return!c("ExecutionEnvironment").canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=h(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:i,subscribe:b})}g["default"]=a}),98);
__d("useMWChatStateV2MaxTabCount",["useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useWindowSize")();b=b.innerWidth;if(b<1100||a)return 1;a=(b/2|0)-90|0;b=a/338;return b<1?1:Math.ceil(b)}g["default"]=a}),98);
__d("MWV2ChatHeads.react",["CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometPlaceholder.react","I64","JSResourceForInteraction","MWChatInteraction.bs","MWChatStateContext","MWChatStateV2HeadGroups.bs","MWChatStateV2TabGroups.bs","MWChatStateV2Types","MWV2ChatHeadsLayout.bs","MWV2ChatOptionsHead.bs","MWV2ComposeHead.react","MWXGlimmer.react","WebUXLoggingEntryPointContextProvider","gkx","lazyLoadComponent","react","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",width:"x1useyqa",$$css:!0},glimmerContainer:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",marginBottom:"xyorhqc",width:"x1useyqa",$$css:!0}};function k(a){a=a.index;return!c("gkx")("3599")?null:h.jsx("div",{className:"x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x1useyqa",children:h.jsx(c("MWXGlimmer.react"),{index:a,xstyle:j.glimmer})})}k.displayName=k.name+" [from "+f.id+"]";var l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatHead.react").__setRef("MWV2ChatHeads.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatOverflowHead.bs").__setRef("MWV2ChatHeads.react"));function n(a){return{transform:"translateY(-"+Math.imul(a,58)+"px)"}}function o(a){return{transform:"translateY(-"+(Math.imul(a,58)-12)+"px"}}function a(a){a=a.isMediaViewer;var b=d("MWChatStateContext").useChatState(function(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}),e=b[0],f=b[1];b=b[2];var g=c("useMWChatStateV2MaxTabCount")(a);f=d("MWChatStateV2TabGroups.bs").getTabGroups(b,e,f,g);g=f[0];f=f[1];a=d("MWChatStateV2HeadGroups.bs").getHeadGroups(a?b:void 0,f,e,5);b=a[0];f=a[1];e=g.length;a=b.length;var j=f.length>0?1:0;g=i(!1);var p=g[0],q=g[1],r;g=f[0];if(f.length===1&&g.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab){g=g.tabType.threadKeyDescriptor;r=h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(k,{index:a+1}),children:h.jsx(l,{onFocusChange:q,onHoverChange:q,style:n(1),tab:f[0],threadKeyDescriptor:g})})},d("I64").to_string(g.threadKey))}else f.length>1&&(r=h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(k,{index:a+1}),children:h.jsx(m,{excessHeads:f,onHoverChange:q,style:n(1)})}));return h.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"chat_heads",children:h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_CHATHEADS_LOAD),children:h.jsxs(c("MWV2ChatHeadsLayout.bs"),{children:[c("MWV2ChatOptionsHead.bs")!=null&&(e>0||a>0)?h.jsx(c("MWV2ChatOptionsHead.bs"),{isVisible:p,openTabCount:e,style:o(a+j+1)}):null,b.reverse().map(function(a,b){var e=a.tabType;if(e.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;var f=b+j+1;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(k,{index:b}),children:h.jsx(l,{onFocusChange:q,onHoverChange:q,style:n(f),tab:a,threadKeyDescriptor:e.threadKeyDescriptor})})},d("I64").to_string(e.threadKeyDescriptor.threadKey))}),r,h.jsx(c("MWV2ComposeHead.react"),{onFocusChange:q,onHoverChange:q})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTabsLayout.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x1ey2m1c x78zum5 x164qtfw xixxii4 x1vjfegm","data-testid":void 0,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTabs.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","I64","JSResourceForInteraction","MAWEditMessageContext.react","MWChatInteraction.bs","MWChatStateContext","MWChatStateV2TabGroups.bs","MWChatStateV2Types","MWPReplyContext.bs","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabsLayout.bs","MWV2IsTabFocusedContext.bs","cr:2539","cr:356","hero-tracing","lazyLoadComponent","react","useCometDisplayTimingTrackerForInteraction","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext;e=b("cr:356")||{};var k=e.MWComposerKeyCommandFocusManager,l=e.MWComposerKeyCommandFocusManagerTabIndex,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2ChatTabs.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWV2ChatTabs.react"));function a(a){a=a.isMediaViewer;var e=j(d("MWChatStateContext").stateContext),f=d("MWChatStateContext").useChatState(function(a){return[a.focusedTabId,a.mediaViewerOpenWatermark]}),g=f[0];f=f[1];var o=c("useMWChatStateV2MaxTabCount")(a);a=d("MWChatStateV2TabGroups.bs").getTabGroups(a?f:void 0,e.tabs,g,o);f=a[0];var p=i(function(a){if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;else return d("MWChatInteraction.bs").get(d("I64").to_string(a.threadKeyDescriptor.threadKey))},[]),q=c("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);e=f.map(function(a,e){var f=g===a.tabId,i=a.tabType,j=null;i.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?j=h.jsx(m,{initialTokens:i.initialTokens,tab:a}):b("cr:2539")!=null?j=h.jsx(b("cr:2539"),{tab:a,threadKeyDescriptor:i.threadKeyDescriptor}):j=h.jsx(n,{tab:a,threadKeyDescriptor:i.threadKeyDescriptor});i=h.jsx(d("MWV2IsTabFocusedContext.bs").MWV2IsTabFocusedContextProvider,{isFocused:f,children:h.jsx(d("MWPReplyContext.bs").MWPReplyContextProvider,{children:h.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:h.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:h.jsx(d("hero-tracing").HeroInteraction,{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:p(a.tabType),pageletName:"ChatTab",ref:q,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),children:j})})})})})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:l==null?i:h.jsx(l,{value:e,children:i})},String(a.tabId))});return h.jsx(c("MWV2ChatTabsLayout.bs"),{children:k==null?e:h.jsx(k,{children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("QPLE2ESessionMarkers",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NONE:"none",START:"start",END:"end"});c=a;f["default"]=c}),66);
__d("QPLE2E",["QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.logPoint=function(a,b,d,e){var f,g;e===void 0&&(e={});f=(f=e.timestamp)!=null?f:c("QuickPerformanceLogger").currentTimestamp();var h=babelHelpers["extends"]({},e.pointData);g=(g=e.action)!=null?g:12524;e.secondaryOrder!=void 0&&(h.string||(h.string={}),h.string.qpl_e2e__secondary_order=e.secondaryOrder);if(e.sessionMarker&&e.sessionMarker!=="none"){var i;h.bool||(h.bool={});h.bool=babelHelpers["extends"]({},h.bool,(i={},i.qpl_e2e__session_marker_start_point=e.sessionMarker==="start",i.qpl_e2e__session_marker_end_point=e.sessionMarker==="end",i))}c("QuickPerformanceLogger").markerStart(a,void 0,f,{samplingBasis:d});c("QuickPerformanceLogger").markerPoint(a,b,{data:h,timestamp:f*2});e.annotations&&c("QuickPerformanceLogger").markerAnnotate(a,e.annotations);c("QuickPerformanceLogger").markerAnnotate(a,{string:(i={},i.join_id=d,i.qpl_join__source="client",i),bool:(b={},b.qpl_e2e__align_points=!0,b)});c("QuickPerformanceLogger").markerEnd(a,g,void 0,f)};return a}();b=new a();g["default"]=b}),98);
__d("MWCMChatTabNotificationsQPLLoggingUtils",["QPLE2E","QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25298296,"1725"),i=c("qpl")._(25304846,"1726");function a(){var a=d("Random").uint32();return{logCancel:function(b){c("QPLUserFlow").endCancel(i,{annotations:{string:{cancelReason:b}},instanceKey:a})},logEventStreamReceived:function(b){b!=null&&c("QPLE2E").logPoint(h,"client:receive_event_stream",b,{action:2}),c("QPLUserFlow").start(i,{instanceKey:a})},logOpenChatTab:function(){c("QPLUserFlow").addPoint(i,"open_chat_tab",{instanceKey:a})},logOpenChatTabSuccess:function(){c("QPLUserFlow").endSuccess(i,{instanceKey:a})},logThreadLoaded:function(){c("QPLUserFlow").addPoint(i,"thread_loaded",{instanceKey:a})}}}g.createChatTabQPLLogger=a}),98);
__d("MWChatTabsNotificationSubscription",["CometRelay","MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql");function a(a,b){return d("CometRelay").requestSubscription(a,{onNext:b,subscription:i,variables:{input:{}}})}g.subscribe=a}),98);
__d("MWChatThreadPingCounter.bs",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);if(!(a==null))return a;else return 0}function a(a){var b=h(a);g.set(a,b+1|0)}function b(){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b}),66);
__d("MWGetCurrentThreadIDForLSThread.bs",["I64","LSIntEnum","MWCMIsAnyCMThread","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e)return{NAME:"Page",VAL:d("I64").to_string(a)};else if(d("I64").equal(b,d("LSIntEnum").ofNumber(7))||d("I64").equal(b,d("LSIntEnum").ofNumber(15))||d("I64").equal(b,d("LSIntEnum").ofNumber(16)))return{NAME:"UserSecret",VAL:d("I64").to_string(a)};else if(d("I64").equal(b,d("LSIntEnum").ofNumber(1))||d("I64").equal(b,d("LSIntEnum").ofNumber(13))||d("I64").equal(b,d("LSIntEnum").ofNumber(201)))return{NAME:"User",VAL:d("I64").to_string(a)};else if(d("I64").equal(b,d("LSIntEnum").ofNumber(2))||d("I64").equal(b,d("LSIntEnum").ofNumber(5))||c("MWCMIsAnyCMThread")(b)||d("I64").equal(b,d("LSIntEnum").ofNumber(150))||d("I64").equal(b,d("LSIntEnum").ofNumber(151))||d("I64").equal(b,d("LSIntEnum").ofNumber(154))||d("I64").equal(b,d("LSIntEnum").ofNumber(155))||d("I64").equal(b,d("LSIntEnum").ofNumber(152))||d("I64").equal(b,d("LSIntEnum").ofNumber(153))||d("I64").equal(b,d("LSIntEnum").ofNumber(26)))return{NAME:"Group",VAL:d("I64").to_string(a)};throw c("unrecoverableViolation")("Unsupported MWMessagingThreadType "+d("I64").to_string(b),"messenger_web_product")}g.get=a}),98);
__d("MWChatConfig.bs",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273041")):c("bx").getURL(c("bx")("273022"));b=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273042")):c("bx").getURL(c("bx")("273023"));g.soundNotifMp3Url=a;g.soundNotifOggUrl=b}),98);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MWNotificationRenderer.bs",["fbt","I64","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c,e,f,g){if(d("I64").equal(a.senderId,b))return g(h._("__JHASH__rY0dxFqgz-w__JHASH__"));a=f.nickname;if(a!=null)b=a;else{f=e.firstName;b=f!=null?f:e.name}a=c.threadName;if(a!=null)return g(h._("__JHASH__OUbuC9yLTGc__JHASH__",[h._param("senderName",b),h._param("groupName",a)]));else if(d("I64").equal(c.threadType,d("LSIntEnum").ofNumber(2)))return g(h._("__JHASH__xWtep4OGpvD__JHASH__",[h._param("name",b)]));else return g(h._("__JHASH__uh-zU0Y_fAB__JHASH__",[h._param("name",b)]))}g.renderDocumentTitle=a}),98);
__d("MWLSChatPopperCommon",["CometSetBlinkingTitleMessageContext","CurrentUser","I64","MWChatConfig.bs","MWChatSettingsQuery","MWNotificationRenderer.bs","MWPIsThreadUnread.bs","MessengerWebEventsFalcoEvent","ReQL","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=c("requireDeferred")("Sound").__setRef("MWLSChatPopperCommon");function k(a){var b=d("I64").to_string(a.senderId)!==c("CurrentUser").getID();b&&j.onReady(function(b){b.play([d("MWChatConfig.bs").soundNotifOggUrl,d("MWChatConfig.bs").soundNotifMp3Url],d("I64").to_float(a.timestampMs),!1)})}function a(a,b,e){var f=i(c("CometSetBlinkingTitleMessageContext"));return h(function(c,g,h,i){d("MWNotificationRenderer.bs").renderDocumentTitle(c,b,g,h,i,function(b){e.contents!=null&&e.contents();e.contents=d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(g.threadKey).subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"){a=b.value;if(d("MWPIsThreadUnread.bs").isThreadUnread(a))return;e.contents!=null&&e.contents();e.contents=void 0;return f(null,d("I64").to_float(a.lastReadWatermarkTimestampMs))}});return f(b,d("I64").to_float(c.timestampMs))})},[b,e,a,f])}function b(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){if(b!=null&&b)return k(a);else c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message_sound"}})})}g.useUpdateDocumentTitle=a;g.playChatTabSound=b}),98);
__d("MWLSChatTabPolicy",["$InternalEnum","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","MWChatSettingsQuery","MWCount.bs","MessengerWebEventsFalcoEvent","emptyFunction","gkx","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({ALLOW:0,DENY:1});function i(a,b,c){if(c===h.ALLOW)return a(b)}var j=function(a){return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:a}}})},k=function(a){c("killswitch")("MESSENGER_WEB_STOP_AUTOMATIC_CHAT_TAB_RAISING")?(d("MWCount.bs").Comet.NewMessage.reject(),a(h.DENY)):a(h.ALLOW)},l=function(a,b,c){d("I64").equal(b.senderId,c)?(j("message_outgoing"),d("MWCount.bs").Comet.NewMessage.reject(),a(h.DENY)):a(h.ALLOW)},m=function(a,b,e){if(c("gkx")("1968579"))a(h.ALLOW);else{d("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){c!=null&&c?(j("turn_off_chat_tab"),d("MWCount.bs").Comet.NewMessage.reject(),b!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&e!=null&&e.logCancel("turn_off_chat_tab"),a(h.DENY)):a(h.ALLOW)});return}},n=function(a,b,c){var e=d("I64").to_float(b.muteExpireTimeMs);e>Date.now()||e<0?(j("mention_muted"),d("MWCount.bs").Comet.NewMessage.reject(),d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&c!=null&&c.logCancel("mention_muted"),a(h.DENY)):a(h.ALLOW)},o=function(a,b){b.isAdminMessage?(j("message_non_user_generated"),d("MWCount.bs").Comet.NewMessage.reject(),a(h.DENY)):a(h.ALLOW)},p=function(a,b){b.folderName==="inbox"?a(h.ALLOW):(j("message_no_inbox"),d("MWCount.bs").Comet.NewMessage.reject(),a(h.DENY))},q=function(a,b){!d("I64").equal(b.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))?(j("message_blocked_participants"),d("MWCount.bs").Comet.NewMessage.reject(),a(h.DENY)):a(h.ALLOW)},r=function(a,b){d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)?(j("community_messaging_group_blocked"),a(h.DENY)):a(h.ALLOW)},s=function(a,b){b=b.mentionTypes;b!=null&&"s".includes(b)?a(h.DENY):a(h.ALLOW)},t=function a(b,d){if(b.length===0)return function(a){return i(d,c("emptyFunction"),a)};var e=b[0],f=b.slice(1);return function(b){return i(e,a(f,d),b)}},u=function(a,b){var c=a[0];a=a.slice(1);c(t(a,b))};function a(a,b,c,d,e){return u([function(){return k.apply(void 0,arguments)},function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return l.apply(void 0,c.concat([a,d]))},function(){return m.apply(void 0,arguments)},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return n.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return o.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return p.apply(void 0,c.concat([b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return q.apply(void 0,b.concat([c]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return r.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return s.apply(void 0,c.concat([a]))}],e)}function e(a,b,c){return u([function(){return k.apply(void 0,arguments)},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return m.apply(void 0,d.concat([a,b]))},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return n.apply(void 0,d.concat([a,b]))}],c)}g.shouldMessageBeAllowed=a;g.shouldCommunityChatThreadPopup=e}),98);
__d("useMWChatOpenTabFromNewMessage",["I64","LSThreadAttributionStore.bs","MWChatInteraction.bs","MWChatStateActions","MWChatStateContext","MWChatStateV2.bs","MWChatStateV2IsClosed.bs","MWChatStateV2Types","MWChatThreadId","MessengerWebEventsFalcoEvent","ODS","gkx","react","setTimeout","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){b=b.withChatTabTracing;var e=b===void 0?!1:b,f=c("useCometFeedNoRoutingNavigationEventLogger")(),g=d("MWChatStateV2.bs").useDispatch(),i=c("useMWChatOpenTabTraceProvider")(),j=d("MWChatStateContext").useChatState(function(a){return a.tabs});return h(function(b,h,k){f(Date.now(),"","messenger");d("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"open_chat_tab_from_new_message"}});d("LSThreadAttributionStore.bs").setSource(d("MWChatThreadId").getFBID(b),a);var l=Date.now(),m=function(){g(d("MWChatStateActions").openTabOrFlyout(l,{shouldFocus:!1},{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:h.threadKey,threadType:h.threadType},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}),!c("gkx")("7838"))},n=h.threadKey;b=Array.from(j.values()).find(function(a){if(a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){a=a.tabType.threadKeyDescriptor.threadKey;return d("I64").equal(n,a)}});var o=b!=null?d("MWChatStateV2IsClosed.bs").isClosed(b):!1;b=e&&(b==null||b!=null&&o);b?i(function(a){d("MWChatInteraction.bs").set(d("I64").to_string(h.threadKey),a),m()},d("I64").to_int32(h.threadType),"notificationInThreadReply",d("I64").to_string(h.threadKey)):m();c("setTimeout")(function(){return g(d("MWChatStateActions").closeFlyout(l,h.threadKey))},3e3);return k()},[f,a,i,g,j])}g["default"]=a}),98);
__d("MWLSCommunityChatPopper",["CometRelay","GroupsCometChatsEngagementLogger","I64","MWCMChatTabNotificationsQPLLoggingUtils","MWChatTabsNotificationSubscription","MWChatThreadPingCounter.bs","MWGetCurrentThreadIDForLSThread.bs","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MercuryIDs","ReQL","gkx","promiseDone","react","useMWChatOpenTabFromNewMessage"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j={contents:void 0};function k(a,b){var e=d("MWLSChatPopperCommon").useUpdateDocumentTitle(a,b,j),f=h(function(b){c("promiseDone")(window.Promise.all([a.table("threads").get(d("ReQL").key(b.threadKey)),a.table("contacts").get(d("ReQL").key(b.senderId)),a.table("participants").get(d("ReQL").key(b.threadKey,b.senderId))]),function(a){var f=a[0],g=a[1];a=a[2];if(g!=null&&a!=null){e(b,f,g,a);g=c("MercuryIDs").getThreadIDFromThreadFBID(d("I64").to_string(f.threadKey));if(d("MWChatThreadPingCounter.bs").getCount(g)<3){d("MWChatThreadPingCounter.bs").incrementCount(g);d("MWLSChatPopperCommon").playChatTabSound(b);return}}})},[a,e]);return h(function(b,e,g){var h={contents:function(){}};h.contents=d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(d("I64").of_string(b),d("I64").of_string(g),e).subscribe(function(a,b){if(b.operation==="add"){a=b.value;h.contents();f(a)}});c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(d("I64").of_string(b),d("I64").of_string(g),e)),function(a){a&&(h.contents(),f(a))})},[a,f])}function a(a,b){b===void 0&&(b=!1);var e=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",{withChatTabTracing:b});b=d("MWPActor.react").useActor();var f=c("CometRelay").useRelayEnvironment(),g=k(a,b);i(function(){var b=c("gkx")("4967");if(!b)return;var h=d("MWChatTabsNotificationSubscription").subscribe(f,function(b){b=(b==null?void 0:b.messenger_chat_tabs_notification_subscribe)||{};var f=b.message_id,h=b.message_timestamp,i=b.qpl_join_id,j=b.thread_id;if(j==null||h==null||f==null)return;var k=d("MWCMChatTabNotificationsQPLLoggingUtils").createChatTabQPLLogger();k.logEventStreamReceived(i);c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(d("I64").of_string(j))),function(a){a!=null&&(k.logThreadLoaded(),d("MWLSChatTabPolicy").shouldCommunityChatThreadPopup(a,k,function(){var b=d("MWGetCurrentThreadIDForLSThread.bs").get(a.threadKey,a.threadType,!1);k.logOpenChatTab();e(b,a,function(){k.logOpenChatTabSuccess(),d("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_open_auto",source:"auto_open_chat_tabs",surface:"auto_open_chat_tabs_container",thread_id:d("I64").to_string(a.threadKey)}),g(j,f,h)})}))})});return function(){h.dispose()}},[f,a,e,g])}g.useOpenCommunityChatTabs=a}),98);
__d("useMWLSChatPopperUpper",["I64","LSContactType","LSIntEnum","MWChatThreadPingCounter.bs","MWCount.bs","MWGetCurrentThreadIDForLSThread.bs","MWIsXacGroupThread.bs","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MWXacGating.bs","MercuryIDs","ReQL","ServerTime","clearInterval","nullthrows","promiseDone","react","setInterval","useGlobalEventListener","useMWChatOpenTabFromNewMessage"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j={contents:void 0};function k(a,b,e,f,g,h,i,j){j===void 0&&(j=d("MWLSChatTabPolicy").shouldMessageBeAllowed);var k=d("MWGetCurrentThreadIDForLSThread.bs").get(e.threadKey,e.threadType,d("I64").equal(f.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE))||d("I64").equal(f.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE_PERSONA)));return j(b,e,f,i,function(){var c=d("MercuryIDs").getThreadIDFromThreadFBID(d("I64").to_string(e.threadKey));d("MWCount.bs").Comet.NewMessage.lift();return a(k,e,function(){h(b,e,f,g);if(d("MWChatThreadPingCounter.bs").getCount(c)<3){d("MWChatThreadPingCounter.bs").incrementCount(c);d("MWLSChatPopperCommon").playChatTabSound(b);return}})})}function l(a,b,e,f,g,h){d("MWCount.bs").Comet.NewMessage.process(),c("promiseDone")(window.Promise.all([b.table("threads").get(d("ReQL").key(a.threadKey)),b.table("contacts").get(d("ReQL").key(a.senderId)),b.table("participants").get(d("ReQL").key(a.threadKey,a.senderId))]),function(b){var d=b[2],i=b[1];if(i!=null&&d!=null)return k(e,a,c("nullthrows")(b[0]),i,d,f,g,h)})}function m(a,b,e,f,g,h){c("promiseDone")(window.Promise.all([b.table("threads").get(d("ReQL").key(a.threadKey)),b.table("contacts").get(d("ReQL").key(a.senderId)),b.table("participants").get(d("ReQL").key(a.threadKey,a.senderId))]),function(b){var c=b[2],i=b[1];b=b[0];if(b!=null&&i!=null&&c!=null&&!d("MWIsXacGroupThread.bs").check(b)){d("MWCount.bs").Comet.NewMessage.process();return k(e,a,b,i,c,f,g,h)}})}function n(a,b){b===void 0&&(b=!1);var e=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",{withChatTabTracing:b}),f=d("MWPActor.react").useActor(),g=d("MWLSChatPopperCommon").useUpdateDocumentTitle(a,f,j),k=i(d("ServerTime").getMillis());h(function(){return d("ReQL").fromTableAscending(a.table("messages")).subscribe(function(b,c){if(c.operation==="add"){b=c.value;if(d("I64").to_float(b.timestampMs)<=k.current)return;k.current=d("I64").to_float(b.timestampMs);c=d("MWXacGating.bs").isGroupsEnabled()?l:m;return c(b,a,e,g,f)}})},[f,e,a,g])}function a(a,b){b===void 0&&(b=!1);n(a,b);var e=i(),f=function(){var a=e.current;if(a!=null){c("clearInterval")(a);return}};a=function(){f(),e.current=c("setInterval")(function(){return d("MWChatThreadPingCounter.bs").clear()},6e5)};b=function(){d("MWChatThreadPingCounter.bs").clear();return f()};c("useGlobalEventListener")("blur",a,{});c("useGlobalEventListener")("focus",b,{});h(function(){return function(){return f()}},[])}g["default"]=a}),98);
__d("useMWChatInit",["MWLSCommunityChatPopper","MWPGetThreadTitle","ReQL","ReQLSuspense","promiseDone","react","useMWLSChatPopperUpper","useReStore","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")();h(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).map(function(b){return[b,d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b.threadKey),d("ReQL").fromTableAscending(a.table("contacts"))).take(d("MWPGetThreadTitle").amountToFetchForTitle),f.id+":34")]}).take(30))),c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("pinned_threads").index("pinnedTimestamp")))),c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("community_folders"))))},[a]);c("useSubscribeToErrorTableAndShowToast")();var b=!0;c("useMWLSChatPopperUpper")(a,b);d("MWLSCommunityChatPopper").useOpenCommunityChatTabs(a,b)}g["default"]=a}),98);
__d("useMWIsOnPushView",["CometRouterPushViewStackContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometRouterPushViewStackContext"));return a!=null&&a[a.length-1]!=null}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return d("MWChatVisibileRoutes").ROUTES.has((a=(b=a.route)==null?void 0:b.tracePolicy)!=null?a:"")}g["default"]=a}),98);
__d("useMWV2ChatUpdateMediaViewerOpenWatermark",["MWChatStateActions","MWChatStateV2.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("MWChatStateV2.bs").useDispatch();return h(function(){var b=Date.now();a(d("MWChatStateActions").updateMediaViewerOpenWatermark(b))},[a])}g["default"]=a}),98);
__d("MWV2CookieWriter.bs",["DeferredCookie","I64","MWCMThreadTypes.react","MWChatStateV2Types","Promise","ReQL","promiseDone","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(Number(d("I64").to_string(a))){case 2:return"g.";case 15:return"sc.";case 16:return"sg.";case 18:return"cg.";case 19:return"cgu.";case 23:return"cbj.";case 24:return"cbu.";case 21:return"cphj.";case 22:return"cphu.";case 150:return"dp.";case 151:return"dpu.";case 152:return"dpb.";case 153:return"dpbu.";case 154:return"dp2.";case 155:return"dp2u.";default:return"u."}}function a(a,e,f){var g=function(a){if(e==null)return!1;var b=e.tabType;if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;else return d("I64").equal(b.threadKeyDescriptor.threadKey,a)},i=function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(a))},j={contents:void 0};a=a.map(function(a){var c=a.threadType,e=a.threadKey,f={o:a.isOpen?1:0};return i(e).then(function(a){if(a!=null)if(g(e)){d("MWCMThreadTypes.react").isJoinedCMThread(c)&&(j.contents=d("I64").to_string(a.parentThreadKey));return b("Promise").resolve()}else{f.i=h(c)+d("I64").to_string(e);d("MWCMThreadTypes.react").isJoinedCMThread(c)&&(f.p=d("I64").to_string(a.parentThreadKey));return b("Promise").resolve(f)}else{f.i=h(c)+d("I64").to_string(e);return b("Promise").resolve(f)}})});a=b("Promise").all(a).then(function(a){var f;if(e!=null){var g=e.tabType;if(g.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)f=void 0;else{g=g.threadKeyDescriptor;f=h(g.threadType)+d("I64").to_string(g.threadKey)}}else f=void 0;g=a.filter(function(a){return a!=null});a=j.contents;a=a!=null?JSON.stringify({lm3:f,lm3p:a,t3:g,utc3:Date.now(),v:1}):JSON.stringify({lm3:f,t3:g,utc3:Date.now(),v:1});if(a!=null){c("DeferredCookie").addToQueue("presence","C"+a,(f=c("qex")._("513"))!=null?f:0,"/",!1,!1,!0)}else c("recoverableViolation")("Failed to serialize cookie","messenger_comet");return b("Promise").resolve()});c("promiseDone")(a)}g.write=a}),98);
__d("useMWV2CookieWriter",["MWChatStateContext","MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs","MWChatStateV2Types","MWV2CookieWriter.bs","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("MWChatStateContext").useChatState(function(a){return a.tabs}),b=c("useReStore")();h(function(){var e=Array.from(a.values()).filter(function(a){return d("MWChatStateV2IsOpen.bs").isOpen(void 0,a)}).sort(d("MWChatStateV2CompareTabs.bs").byMostRecentOpened)[0],f=[];Array.from(a.values()).filter(function(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,b);else return c}).forEach(function(a){var b=a.tabType;if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;f.push(babelHelpers["extends"]({},b.threadKeyDescriptor,{isOpen:c("qex")._("537")?d("MWChatStateV2IsOpen.bs").isOpen(void 0,a):!1}))});d("MWV2CookieWriter.bs").write(f,e,b)},[b,a])}b=c("gkx")("1812641")?a:function(){};e=b;g["default"]=e}),98);
__d("MWV2ChatTabsRoot.react",["CometContextualLayerAnchorRoot.react","CometPlaceholder.react","FocusRegion.react","MWChatStateV2.bs","MWChatVisibilityOverrideContext","MWFallbackWithTimeout.react","MWLSThreadDisplayContext","MWSetupPresenceReportingDeferred.react","MWV2ChatHeads.react","MWV2ChatTabs.react","WebUXLoggingEntryPointContextProvider","focusScopeQueries","gkx","react","stylex","useMWChatInit","useMWIsOnPushView","useMWIsTopLevelRouteMediaViewerExperiment","useMWV2ChatUpdateMediaViewerOpenWatermark","useMWV2CookieWriter","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k={chatAbovePushView:{zIndex:"x1vjfegm",$$css:!0},container:{alignItems:"xuk3077",display:"x78zum5",isolation:"xc8icb0",$$css:!0},root:{bottom:"x1ey2m1c",end:"xds687c",position:"xixxii4",$$css:!0}};function l(a){var b=a.isMediaViewer;a=a.showChatAbovePushView;var e=d("MWChatStateV2.bs").useChatState(function(a){return a.tabs}),f=j(function(){return Array.from(e.values()).some(function(a){return a.openWatermark>a.closeWatermark})},[e]);return h.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"popup_chat_box",children:h.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:h.jsx("div",{className:c("stylex")(k.root,a||c("gkx")("6264")?k.chatAbovePushView:!1),children:h.jsx(c("CometContextualLayerAnchorRoot.react"),{children:h.jsx("div",{className:"xuk3077 x78zum5 xc8icb0",children:f?h.jsxs(d("FocusRegion.react").FocusRegion,{containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:"MWV2ChatTabsRootChatTabsFocusRegion",children:[h.jsx(c("MWV2ChatTabs.react"),{isMediaViewer:b}),h.jsx(c("MWV2ChatHeads.react"),{isMediaViewer:b})]}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWV2ChatTabs.react"),{isMediaViewer:b}),h.jsx(c("MWV2ChatHeads.react"),{isMediaViewer:b})]})})})})})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.children;c("useMWV2CookieWriter")();c("useMWChatInit")();return a}m.displayName=m.name+" [from "+f.id+"]";function a(){var a=c("useMWIsOnPushView")(),b=c("useMWIsTopLevelRouteMediaViewerExperiment")(),e=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(b),f=c("useMWV2ChatUpdateMediaViewerOpenWatermark")(),g=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT")&&e;i(function(){b&&f()},[b,f]);return j(function(){return h.jsxs(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTabsRoot suspense timeout"}),children:[h.jsx(c("MWSetupPresenceReportingDeferred.react"),{}),h.jsx(m,{children:g?h.jsx(l,{isMediaViewer:b,showChatAbovePushView:a}):null})]})},[g,a,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatContainer.react",["MWV2ChatTabsRoot.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsHandleRestoreWrapper.react").__setRef("MWV2ChatContainer.react"));function a(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWV2ChatTabsRoot.react"),{}),h.jsx(i,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBadgeCountUpdater.react",["CometRelay","LSIntEnum","MWChatBadgeCountUpdates.react","MWXacGating.bs","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("CometRelay").useRelayEnvironment(),b=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(d("LSIntEnum").ofNumber(0));h(function(){var e={suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()};a.commitUpdate(function(a){a=a.getRoot();if(a==null){c("recoverableViolation")("A store root must be present to move forward.","messenger_comet");return}a=a.getOrCreateLinkedRecord("viewer","Viewer");a=a.getOrCreateLinkedRecord("message_threads","ViewerMessageThreadsConnection");if(b!=null){var d=a.getValue("unseen_count",e);(d===null||d!==b)&&a.setValue(b,"unseen_count",e)}})},[a,b]);return null}g["default"]=a}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["cssVar","fbt","MDSGlimmer.react","MWChatStateV2Types","MWInboxThreadMessagesSpinner.react","MWPThreadTheme.bs","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2IsTabFocusedContext.bs","MWV2TabContainer","react","useCometLoadingStateTracker","useMWV2CloseTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect,l={headerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",marginStart:"x17adc0v",width:"x1vz4e29",$$css:!0}};function a(a){a=a.tab;var b=c("useCometLoadingStateTracker")(),e=b[1];b=c("useMWV2CloseTab")(a.tabType.type===d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab?a.tabType.threadKeyDescriptor.threadKey:void 0,a);var f=d("MWPThreadTheme.bs").useTop(),g=d("MWV2IsTabFocusedContext.bs").useIsTabFocused();f=g?f:"#C9CCD1";k(function(){if(g){var a=e.current;a!=null&&a.focus()}},[g,e]);return j.jsxs(c("MWV2TabContainer"),{ariaBusy:!0,ariaLabel:i._("__JHASH__SxkfHU6fYt9__JHASH__"),domRef:e,tab:a,tabIndex:0,children:[j.jsx(c("MWV2HeaderContainer.react"),{endContent:j.jsx(c("MWV2HeaderCloseButton.react"),{color:f,onPress:b}),startContent:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:l.headerGlimmer})}),j.jsx(c("MWInboxThreadMessagesSpinner.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=c("justknobx")._("1134"),k=c("justknobx")._("1135"),l=c("gkx")("8927");function a(){var a=c("useReStore")(),b=i(null),e=i(!1);h(function(){var f=a.table("pending_tasks").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("pending_tasks")).take(j)),function(a){var f=a.length;if(f===j){if(b.current!=null)return;b.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),e.current=!0,l&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",f,k)},k)}else c("clearTimeout")(b.current),e.current&&l&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),e.current=!1})});return function(){f()}},[a]);return null}g["default"]=a}),98);
__d("LSMqttEnvInitializer",["CurrentUser","MqttEnv","MqttEnvInitializer","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a={initialize:function(a,b,e,f){d("MqttEnv").Env.initialize(c("Random").random,(a=a)!=null?a:c("CurrentUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},function(a){return b!=null&&b[a]!=null?b[a]:c("MqttEnvInitializer").genGk(a)},null,null,null,(a=e)!=null?a:c("MqttEnvInitializer").configRead,(e=f)!=null?e:c("MqttEnvInitializer").configWrite)}};b=a;g["default"]=b}),98);
__d("LSMqttChannel",["LSMqttEnvInitializer","MqttChannel","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){c("LSMqttEnvInitializer").initialize(b,e,f,g);return new(c("MqttChannel"))({appId:d("MqttWebConfig").appID,capabilities:d("MqttWebConfig").capabilities,chatVisibility:d("MqttWebConfig").chatVisibility,clientCapabilities:d("MqttWebConfig").clientCapabilities,deviceId:a,endpoint:d("MqttWebConfig").endpoint,initialSubscribedTopics:d("MqttWebConfig").subscribedTopics,phpOverride:d("MqttWebConfig").hostNameOverride,pollingEndpoint:d("MqttWebConfig").pollingEndpoint,userFbid:d("MqttWebConfig").fbid})}var i=null;function a(a,b,c,d,e){if(i==null){i=h(a,b,c,d,e);return i}else return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getInstance=a;g.shutdownAndClear=b}),98);/*FB_PKG_DELIM*/
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],kind:"ScalarField",name:"unseen_count",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBadgeCountQuery",selections:b},params:{id:"5218522061549416",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6484597208256495"}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",["useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c},params:{id:b("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"),metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometCalloutEdgeArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsxs("svg",babelHelpers["extends"]({className:c("stylex")(b),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("CometCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometCalloutEdgeArrow.svg.react","Locale","react","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}},k={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},l={end:{borderBottomEndRadius:"x5pf9jr",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderBottomStartRadius:"xo71vjh",marginBottom:"xieb3on",$$css:!0}},m={end:{borderTopEndRadius:"x13lgxp2",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderTopStartRadius:"x168nmei",marginTop:"x1sy10c2",$$css:!0}},n={end:{bottom:"x7ofzsv",end:"xds687c",transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",$$css:!0}},o={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},p={end:{bottom:"x7ofzsv",end:"xds687c",transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",$$css:!0}},q={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},r={end:{end:"xds687c",top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},s={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},t={end:{end:"xds687c",top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},u={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},v={end:"start",start:"end"};function a(a){var b,d=a.children,e=a.onOutsideClick,f=a.type;f=f===void 0?"default":f;a=a.xstyle;var g=i(c("BaseContextualLayerOrientationContext")),n=g.align;g=g.position;n=n==="stretch"?"start":n;g=g==="start"?"above":g==="end"?"below":g;var o=i(c("BaseContextualLayerContextSizeContext"));b=(b=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;n=b!==0?v[n]:n;o=y(n,(o=o==null?void 0:o.width)!=null?o:0,b);b=c("useOnOutsideClick")(e);return h.jsxs(c("BaseView.react"),{style:o,xstyle:j.container,children:[h.jsx(c("BaseRow.react"),{ref:b,xstyle:[j.content,k[f],g==="above"&&l[n],g==="below"&&m[n],a],children:d}),h.jsx(x,{align:n,position:g,type:f})]})}a.displayName=a.name+" [from "+f.id+"]";var w=c("Locale").isRTL();function x(a){var b=a.align,d=a.position;a=a.type;return h.jsx(c("CometCalloutEdgeArrow.svg.react"),{fill:a==="default"?"var(--popover-background)":"var(--accent)",xstyle:[j.arrow,d==="above"&&a==="default"&&(w?o[b]:n[b]),d==="above"&&a==="accent"&&(w?q[b]:p[b]),d==="below"&&a==="default"&&(w?s[b]:r[b]),d==="below"&&a==="accent"&&(w?u[b]:t[b])]})}x.displayName=x.name+" [from "+f.id+"]";function y(a,b,c){c=c===0?b/2:0;if(c===0)return void 0;if(a==="start")return{transform:"translateX("+(w?-1*c:c)+"px)"};return a==="end"?{transform:"translateX("+(w?c:-1*c)+"px)"}:void 0}g["default"]=a}),98);
__d("CometCalloutInsetArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsxs("svg",babelHelpers["extends"]({className:c("stylex")(b),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("CometCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometCalloutInsetArrow.svg.react","Locale","react","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}},k={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},l={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginStart:"x1d52u69",$$css:!0}},m={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},n={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function a(a){var b,d=a.children,e=a.onOutsideClick,f=a.type;f=f===void 0?"default":f;a=a.xstyle;var g=i(c("BaseContextualLayerOrientationContext")),m=g.align;g=g.position;m=m==="stretch"?"start":m;g=g==="start"?"above":g==="end"?"below":g;var n=i(c("BaseContextualLayerContextSizeContext"));b=(b=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;n=q(m,g,(m=n==null?void 0:n.width)!=null?m:0,b);m=n[0];b=n[1];n=c("useOnOutsideClick")(e);return h.jsxs(c("BaseView.react"),{style:m,xstyle:j.container,children:[h.jsx(c("BaseRow.react"),{ref:n,xstyle:[j.content,k[f],l[g],a],children:d}),h.jsx(o,{arrowStyles:b,position:g,type:f})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.arrowStyles,d=a.position;a=a.type;return h.jsx(c("CometCalloutInsetArrow.svg.react"),{fill:a==="default"?"var(--popover-background)":"var(--accent)",style:b,xstyle:[j.arrow,m[d],a==="accent"&&n[d]]})}o.displayName=o.name+" [from "+f.id+"]";var p=c("Locale").isRTL();function q(a,b,c,d){var e=Math.max(c/2-8,16)+Math.abs(d),f=c/2-8<16;c=24-c/2;if(b==="above")if(a==="start"){var g;b=p?"right":"left";return[f?{transform:"translateX("+(p?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){b=p?"left":"right";return[f?{transform:"translateX("+(p?-c:c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else{var h;b=p?"left":"right";g=(p?-d:d)-8;return[void 0,(h={},h[b]="calc(50% + "+g+"px)",h)]}else if(a==="start"){b=p?"right":"left";return[f?{transform:"translateX("+(p?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){h=p?"left":"right";return[f?{transform:"translateX("+(p?-c:c)+"px)"}:void 0,(b={},b[h]="min(calc(100% - 32px), "+e+"px)",b)]}else{g=p?"left":"right";a=(p?-d:d)-8;return[void 0,(f={},f[g]="calc(50% + "+a+"px)",f)]}}g["default"]=a}),98);
__d("CometCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometCalloutEdge.react","CometCalloutInset.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometIcon.react","CometNUXInlineSurvey.react","CometPressable.react","TetraTextPairing.react","fbicon","react","unrecoverableViolation","useOnOutsideClick","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useRef,m={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},crossoutButton:{marginEnd:"xcud41i",marginTop:"x9otpla",$$css:!0},item:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",$$css:!0}},n={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},o={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginStart:"xsgj6o6",$$css:!0},start:{$$css:!0}};function a(a){var b=a.arrowStyle;b=b===void 0?"none":b;var e=a.hasCloseButton;e=e===void 0?!1:e;var f=a.headline,g=a.inlineSurvey,p=a.label,q=a.onClose,r=a.onHelpful,s=a.onHide,t=a.onNotHelpful,u=a.onOutsideClick,v=a.onPressCallout_experimentalDONOTUSE,w=a.onShow,x=a.profilePhoto_experimentalDONOTUSE,y=a.type;y=y===void 0?"default":y;a=a.xstyle;var z=k(c("BaseContextualLayerOrientationContext"));z=z.position;var A=l(null),B=function(){if(A.current==null){var a;A.current=(a=g==null?void 0:g.getShouldShowInlineSurvey==null?void 0:g.getShouldShowInlineSurvey())!=null?a:!1}return A.current}(),C=c("useOnOutsideClick")(u);s=c("useVisibilityObserver")({onHidden:s,onVisible:w});w=y==="default"?"primary":"white";if(z==="end"&&(b==="inset"||b==="edge"))throw c("unrecoverableViolation")('"end" position with arrow is not supported yet',"comet_ui");x=j.jsxs(c("CometColumn.react"),{children:[j.jsx(c("CometColumnItem.react"),{children:j.jsxs(c("BaseRow.react"),{children:[x!=null&&j.jsx(c("BaseRowItem.react"),{verticalAlign:"top",children:x}),j.jsx(c("BaseRowItem.react"),{expanding:!0,ref:s,verticalAlign:"center",xstyle:m.item,children:j.jsx(c("TetraTextPairing.react"),{body:p,bodyColor:w,headline:f,headlineColor:w,level:3})}),e&&j.jsx(c("BaseRowItem.react"),{xstyle:[m.crossoutButton,m.item],children:j.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__cCrSTii9yXy__JHASH__"),color:y==="default"?"secondary":"white",icon:d("fbicon")._(i("478232"),16),onPress:q,size:16})})]})}),g==null||B!==!0?null:j.jsx(c("CometColumnItem.react"),{paddingTop:12,children:j.jsx(c("BaseRow.react"),{children:j.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:m.item,children:j.jsx(c("CometNUXInlineSurvey.react"),{bodyColor:y==="default"?void 0:"white",initialHasAnsweredSurvey:g.initialHasAnsweredSurvey,linkColor:y==="default"?void 0:"white",onAnswer:g.onAnswer,onHelpful:r,onNotHelpful:t})})})})]});p=v?j.jsx(c("BaseRowItem.react"),{ref:s,children:j.jsx(c("CometPressable.react"),{onPress:v,overlayDisabled:!0,children:x})}):x;if(b==="inset")return j.jsx(c("CometCalloutInset.react"),{onOutsideClick:u,type:y,xstyle:a,children:p});return b==="edge"?j.jsx(c("CometCalloutEdge.react"),{onOutsideClick:u,type:y,xstyle:a,children:p}):j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx("div",{})},children:j.jsx(c("BaseView.react"),{xstyle:m.container,children:j.jsx(c("BaseRow.react"),{ref:C,xstyle:[m.content,n[y],b==="none"&&o[z],a],children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","CometCallout.react","CometCalloutContext","LayoutAnimationBoundaryContext","react","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.anchorRootRefContext,d=a.animationContext,e=a.calloutID,f=a.calloutProps,g=a.contextRef,k=a.imperativeRef,l=a.scrollableAreaContext;a=c("useCometDisplayTimingTrackerForInteraction")("CometCalloutManager");var m=i(c("CometCalloutContext"));j(function(){var a=l.map(function(a){return a.getDOMNode()}).filter(Boolean),b=function(){var a;return(a=k.current)==null?void 0:a.reposition()};if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",b,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",b,{passive:!0})})}}},[k,l]);return m==null||f==null||g==null?null:h.jsx(c("LayoutAnimationBoundaryContext").Provider,{value:d,children:h.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:b,children:h.jsx(c("BaseContextualLayer.react"),{align:f.align,contextRef:g,disableAutoAlign:f.disableAutoAlign,disableAutoFlip:f.disableAutoFlip,imperativeRef:k,position:f.position,ref:a,children:h.jsx(c("CometCallout.react"),{arrowStyle:f.arrowStyle,hasCloseButton:f.hasCloseButton,headline:f.headline,inlineSurvey:f.inlineSurvey,label:f.label,onClose:f.hasCloseButton===!0?function(){m.removeCallout(e),f.onClose==null?void 0:f.onClose()}:void 0,onHelpful:f.onHelpful,onHide:f.onHide,onNotHelpful:f.onNotHelpful,onOutsideClick:function(){f.disableOutsideClick!==!0&&m.removeCallout(e)},onPressCallout_experimentalDONOTUSE:f.onPressCallout_experimentalDONOTUSE,onShow:f.onShow,profilePhoto_experimentalDONOTUSE:f.profilePhoto_experimentalDONOTUSE,type:f.type,xstyle:f.xstyle})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBadgeCountQuery",["MWChatBadgeCountQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MWChatBadgeCountQuery.graphql");g["default"]=a}),98);
__d("MWChatBadgeCountUpdates.react",["I64","LSIntEnum","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWPIsThreadUnread.bs","MWXacGating.bs","MetaConfig","ReQL","ReQLSuspense","ServerTime","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function i(a){if(!d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))||d("MWXacGating.bs").isGroupsEnabled())return!0;else return!d("MWIsXacGroupThread.bs").check(a)}function j(a,b){var c=(b=b)!=null?b:d("LSIntEnum").ofNumber(0);b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("folder_metadata")).getKeyRange(c)},[a,c],f.id+":53")||{};b=b.lastSeenRequestTimestampMs;var e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).take(15)},[a],f.id+":61")!=null;return{hasProbablyFinishedInitSync:e,maybeFolderLastSeenTimestamp:b,parentFolderToUse:c}}function k(a){if(d("I64").equal(a.muteExpireTimeMs,d("I64").neg_one))return!0;else return d("I64").gt(a.muteExpireTimeMs,d("I64").of_float(d("ServerTime").getMillis()))}function a(a){var b=c("useReStore")(),e=j(b,a),g=e.hasProbablyFinishedInitSync,l=e.maybeFolderLastSeenTimestamp,m=e.parentFolderToUse,n=c("MetaConfig")._("41")===!0,o=(e=l)!=null?e:d("I64").zero,p=d("ReQLSuspense").useArray(function(){return n?d("ReQL").fromTableAscending(b.table("community_folders")):d("ReQL").empty()},[b,n],f.id+":98"),q=h(function(){return new Set(p.filter(function(a){return a.isHidden}).map(function(a){return d("I64").to_string(a.folderId)}))},[p]);e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(m).take(15).filter(function(a){if(d("MWPIsThreadUnread.bs").isThreadUnread(a))return!k(a);else return!1}).bounds({gt:d("ReQL").key(o)}).filter(i)},[b,m,o],f.id+":115");var r=d("ReQLSuspense").useArray(function(){return!n||!d("I64").equal(m,d("LSIntEnum").ofNumber(0))?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(m).take(15).filter(function(a){if(d("MWPIsThreadUnread.bs").isThreadUnread(a)&&!(c("MWCMIsThreadBumped")(a)&&q.has(d("I64").to_string(a.parentThreadKey))))return!k(a);else return!1}).bounds({gt:d("ReQL").key(o)}).filter(i)},[b,q,n,m,o],f.id+":136");e=e.length+r.length;if(a==null)return;return g?e:l!=null?e:void 0}function l(a,b){var e=c("useReStore")(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(a).take(15).filter(function(a){if(d("MWPIsThreadUnread.bs").isThreadUnread(a))return!k(a);else return!1}).bounds({gt:d("ReQL").key(b)}).filter(i)},[b,e,a],f.id+":195");return g}function b(){var a=c("useReStore")();a=j(a,d("LSIntEnum").ofNumber(-14));var b=a.hasProbablyFinishedInitSync;a=a.maybeFolderLastSeenTimestamp;a=(a=a)!=null?a:d("I64").zero;var e=l(d("LSIntEnum").ofNumber(18),a),f=l(d("LSIntEnum").ofNumber(23),a);a=l(d("LSIntEnum").ofNumber(21),a);if(b)if(e!=null||f!=null)return!0;else return a!=null;else return!1}e=15;g.useUnseenThreadCount=a;g.useHasUnseenCommunityThreads=b;g.minSyncedThreads=e}),98);
__d("MWChatBadgeCount.react",["CometNumberedBadge.react","CometPlaceholder.react","CometRelay","CometVisualCompletionAttributes","MWChatBadgeCountQuery","MWChatBadgeCountUpdates.react","MWXacGating.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function k(a){var b=a.overflow,e=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(c("MWChatBadgeCountQuery"),{suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()},{fetchPolicy:"store-or-network"});a=(a=a.viewer)==null?void 0:a.message_threads;var f=a!=null&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.react").minSyncedThreads,a.unseen_count):0,g=j(null);i(function(){e&&g.current!==f&&(g.current=f,e(f))},[f,e]);return h.jsx(h.Fragment,{children:f>0?h.jsx(c("CometNumberedBadge.react"),{overflow:b,testid:void 0,value:f}):null})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.overflow;a=a.setBadgeCount;return h.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("span",{}),children:h.jsx(k,{overflow:b,setBadgeCount:a})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBadgeUpdaterImpl.react",["CometErrorBoundary.react","ExecutionEnvironment","FBLogger","cr:4562","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.debug("Error loading MWChatBadgeCountUpdater")}function a(){return c("ExecutionEnvironment").canUseDOM?h.jsx(c("CometErrorBoundary.react"),{onError:i,children:b("cr:4562")&&h.jsx(b("cr:4562"),{})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadEntityViewItem.react",["CometProfilePhoto.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.isBadged;d=d===void 0?!1:d;var e=a.meta,f=a.pictureUrl;a.queryString;var g=a.size;g=g===void 0?36:g;var i=a.style;i=i===void 0?"circle":i;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isBadged","meta","pictureUrl","queryString","size","style"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:f!=null?h.jsx(c("CometProfilePhoto.react"),{shape:i,size:g,source:{uri:f}}):null,children:h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:d,level:3,reduceEmphasis:!0,snippet:e,title:b.label})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return h(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var c=b.inputRef,d=b.onPressEntry,e=b.traceProvider;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","traceProvider"]);var f=i(function(a){e&&e.setEndReason("successful_user_action"),d&&d(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:c,onPressEntry:f,traceProvider:e}))}}g["default"]=a}),98);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","react","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var e=a.bootstrapDatasource,f=d("CometRelay").useRelayEnvironment();return i(function(){return{validate:function(a){a=c("filterNulls")(a.map(function(a){if(a.subtype!=="bootstrap")return null;a=(a=a.rawData.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}));d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)},next:function(a){a=a.search_client_cache_policy_check;for(var a=(a=a==null?void 0:a.policy_decision)!=null?a:[],b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var f=d.cache_type,g=d.force_cache_refresh;d=d.ids_to_remove;if(f==="KEYWORD_BOOTSTRAP"){for(var f=d,d=Array.isArray(f),h=0,f=d?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;e.removeEntriesByEntID(i)}g===!0&&(e.clear(),e.bootstrap())}}}})}}},[e,f])}g["default"]=a}),98);
__d("useSearchCometShouldRenderBadgeWithExposure",["QE2Logger","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){return h(function(){var b;if(a==null)return!1;if(!c("qex")._("578"))return!0;d("QE2Logger").logExposureForUser("search_nullstate_desktop");return(b=c("qex")._("580"))!=null?b:!1},[a])}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["CometBadge.react","CometTypeaheadEntityViewItem.react","react","recoverableViolation","useSearchCometShouldRenderBadgeWithExposure"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.rawData,e=d.badgeSnippet;d=d.profile;d=(d=d)!=null?d:{};var f=d.id,g=d.profilePictureURL;d=d.url;if(g==null){c("recoverableViolation")("Missing profile picture for fbid "+((f=f)!=null?f:"null"),"search")}f=c("useSearchCometShouldRenderBadgeWithExposure")(e);e=f?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBadge.react"),{color:"blue"}),e]}):void 0;return h.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isBadged:f,linkProps:{preventLocalNavigation:!0,url:d},meta:e,pictureUrl:g,size:36}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImage.react","CometProfilePhoto.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=36,k={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.rawData.structuredInfo)==null?void 0:b.direct_nav_result)!=null?b:{};var g=b.img_url,l=b.link_url,m=b.snippet;b=b.type;var n=i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:l}},[l]),o=null;g!=null&&(o=b==="SHORTCUT"?h.jsx(c("CometImage.react"),{height:j,src:g,width:j,xstyle:k.imageIcon}):h.jsx(c("CometProfilePhoto.react"),{shape:b==="SHORTCUT"?"square":"circle",size:j,source:{uri:g}}));return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemStartContent:o,linkProps:n,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:d.label,query:f,strategy:"non-match",children:function(a){return h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:m,title:a})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.entry,f=a.isActive,g=a.linkProps,i=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);b=(b=e.rawData.structuredInfo)!=null?b:{};b=b.disambiguation_result;if(b==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}b=b.disambiguation_info_list;var j=b[0].snippet;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:e,isActive:f,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:i,strategy:"non-match",children:function(a){return h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:j,title:a})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometProfilePhoto.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.entry,f=a.isActive,g=a.linkProps,i=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);b=(b=(b=e.rawData.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};var j=b.hcm_id,k=b.picture_url,l=b.snippet;if(k==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=j)!=null?b:"null"),"search")}return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:e,isActive:f,itemEndContent:k!=null?h.jsx(c("CometProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:k}}):null,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:i,strategy:"non-match",children:function(a){return h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:l,title:a})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometSearchTypeaheadRecentEntityViewItem.react","CometTypeaheadFocusLockRegion.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(c("CometSearchTypeaheadRecentEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})}),testid:void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["CometBadge.react","CometProfilePhoto.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","react","useSearchCometShouldRenderBadgeWithExposure"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.entry,d=a.isActive;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);var e=b.rawData,f=e.badgeSnippet;e=e.structuredInfo;e=(e=e==null?void 0:e.direct_nav_result)!=null?e:{};var g=e.img_url,j=e.link_url,k=e.snippet,l=e.title;e=e.type;var m=i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:j}},[j]),n=c("useSearchCometShouldRenderBadgeWithExposure")(f);f=n?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBadge.react"),{color:"blue"}),f]}):k;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:d,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})}),itemStartContent:g!=null?h.jsx(c("CometProfilePhoto.react"),{shape:e==="SHORTCUT"?"square":"circle",size:36,source:{uri:g}}):null,linkProps:m,testid:void 0,children:h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:n,level:3,snippet:f,title:l})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["CometProfilePhoto.react","CometRow.react","CometRowItem.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.linkProps;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);var g=b.rawData;g=(g=(g=g.structuredInfo)==null?void 0:g.high_confidence_result)!=null?g:{};var i=g.hcm_id,j=g.picture_url;g=g.snippet;if(j==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((i=i)!=null?i:"null"),"search")}return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemEndContent:h.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j!=null?h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:j}})}):null,h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})})})]}),itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:e}),linkProps:f,children:h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:g,title:b.label})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&(a.subtype==="keyword"||a.subtype==="bootstrap")?a:null}f["default"]=a}),66);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";a=c("filterNulls")([{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react")}]);g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","SearchCometTypeaheadEventEmitterContext","cr:2012305","react","useMergeRefs","useRefEffect","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef;function a(a,d){var e,f=a.onChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange"]);e=(e=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?e:{};var g=e.subscribeToGlobalTypeaheadFocus;e=c("useRefEffect")(function(a){return g==null?void 0:g(function(){if(a==null)return;a.value="";a.focus();f("")})},[f,g]);var k=j(null),l=j(!1);i(function(){var a=k.current;if(b("cr:2012305")!=null&&a!=null&&l.current===!1){b("cr:2012305").trackTypingPerf(a,"top_tab_serp_typeahead");l.current=!0;return function(){b("cr:2012305").unregisterTypingPerf(a),l.current=!1}}},[]);e=c("useMergeRefs")(e,k);e=c("useMergeRefs")(e,d);return h.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{onChange:f,ref:e}))}a.displayName=a.name+" [from "+f.id+"]";d=h.forwardRef(a);g["default"]=d}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.label,g=a.onAbandonTypeahead_DO_NOT_USE,i=a.onBlur,j=a.onChange,k=a.onClick,l=a.onDownArrow,m=a.onEnter,n=a.onEscape,o=a.onHighlightEntry,p=a.onOutsideClick,q=a.onPressEntry,r=a.onShiftTab,s=a.onTab,t=a.onUpArrow,u=a.traceProvider,v=a.viewRole,w=a.inputRef,x=a.xstyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","viewRole","inputRef","xstyles"]);var y=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();y=y.isOpened;var z=c("useCometInternalTypeaheadState")(),A=z.activeEntries;z=z.highlightedEntry;var B=c("useCometInternalTypeaheadFetch")();B=B.isLoading;w=c("useCometTypeaheadInputRefs")(w);var C=w.composedRef;w=w.inputRef;var D=c("useSearchCometGlobalTypeaheadStyles")();x=(x=x)!=null?x:D;D=c("useCometInternalTypeaheadHeroTracing")(u,j);u=D.interactionUUID;j=D.onTracedChange;var E=D.shouldHoldHeroTracing;D=D.vcTrackerRef;g=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")({handlers:{onAbandonTypeahead_DO_NOT_USE:g,onBlur:i,onChange:j,onClick:k,onDownArrow:l,onEnter:m,onEscape:n,onHighlightEntry:o,onOutsideClick:p,onPressEntry:q,onShiftTab:r,onTab:s,onUpArrow:t},inputRef:w});i=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:A,helperText:e,highlightedEntry:z,inputLabel:f,isOpened:y,viewRole:v});return h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:u,ref:D,children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:E}),h.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,g,{extraLayoutProps:{afterViewContent:d,ariaProps:i,beforeViewContent:b,helperTextComponent:null,isLoading:B,isOpened:y},inputRef:C,label:f,viewRole:v,xstyles:x}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1570865")}g.hasTypeaheadRedirection=a}),98);
__d("searchCometGlobalTypeahead.config",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=8;d={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:(b=c("qex")._("156"))!=null?b:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a,sectionLimits:new Map([["other",a],["recent_searches",a]])}};g["default"]=d}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h={instance:null};function a(a){a=c("useSearchCometTypeaheadCompositeDataSource")(a);h.instance==null&&(h.instance=a);return h.instance}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["useSearchCometRecentSearchDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useSearchCometRecentSearchDataSource")({fetchSearchBadge:Boolean(!0),filter:"all",nullStateSurface:"GLOBAL"})}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","XCometSearchResultsControllerRouteBuilder","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface","useSearchCometResultsURLBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useSearchCometResultsURLBuilder")({routeBuilder:c("XCometSearchResultsControllerRouteBuilder")}),b=c("useSearchCometHashtagRouteUrlBuilder")(),e=c("useSearchCometResultsEntryPointSurface")();return function(f){var g=f.entry,h=f.queryString;f=f.typeaheadSessionID;var i=g.label.toLowerCase(),j=g.metaData;j=j==null?void 0:j.markers;var k=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(i);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&k!=null&&!j.has("see_all"))return b({entryPointAction:"SEARCH_BOX",exploreEntryPoint:h===""?3:4,hashtag:k,typeaheadSessionID:f});else{h=g.rawData;k=(k=c("searchCometTypeaheadGetStsDisambiguation")(g))!=null?k:void 0;if(g.subtype==="keyword"&&j.has("disambiguation")){h=(j=(j=h.structuredInfo)==null?void 0:(h=j.disambiguation_result)==null?void 0:h.disambiguation_info_list[0])!=null?j:{};j=h.link_url;if(j!=null){h=d("ConstUriUtils").getUri(j);if(h!=null){j=new Map();e!=null&&j.set("__eps__",e);k!==void 0&&j.set("__stsd__",c("Base64").encode(JSON.stringify(k)));var l=new Map();for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];l.set(p,o)}p=h.addQueryParams(l);if(p!=null)return p.toString()}}}return a({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(g),query:i,stsDisambiguation:k,typeaheadSessionID:f})}}}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["gkx","react","useCometRouterDispatcher","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a){var b=a.entry,d=a.queryString,e=c("useCometRouterDispatcher")(),f=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),g=i(function(){return f({entry:b,queryString:d})},[f,b,d]);h(function(){e!=null&&c("gkx")("1990285")&&e.preloadRouteCode(g)},[e,g]);return i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:g}},[g])}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadViewStrategy",["fbt","CometSearchTypeaheadBaseViewRecentEmptyState.react","react","searchCometTypeaheadSTSMappings","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={view:{backgroundColor:"x1jx94hy",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1iofjn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){a=a.onHeaderActionPress;var b=j(function(){return[k.view]},[]),d=j(function(){return i.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})},[]);return c("useSearchCometTypeaheadViewListStrategy")({additionalEntryMappings:c("searchCometTypeaheadSTSMappings"),emptyStateContent:d,getLinkProps:c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"),isScrollable:!0,onHeaderActionPress:a,seeAllLabelBuilder:l,xstyle:b})}function l(a){return h._("__JHASH__LChIaXBIwAT__JHASH__",[h._implicitParam("=m1",i.jsx("strong",{children:h._("__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a)])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var c=b.inputRef,d=b.onChange,e=b.onPressEntry,f=b.shouldQueryStringUpdateFromSelectedEntryOnClick;f=f===void 0?!1:f;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]);var g=i(function(a){var b=a.metaData.markers,c=a.subtype;c=c==="recent"&&b.has("entity")||b.has("direct_nav");d(c?"":a.label);e&&e(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:c,onChange:d,onPressEntry:g,shouldQueryStringUpdateFromSelectedEntryOnClick:f}))}}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){return function(b){var e=b.inputRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef"]);e=c("useCometTypeaheadInputRefs")(e);var f=e.composedRef,g=e.inputRef;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var k=e.dispatchIsOpened,l=i(function(){g.current!=null&&(g.current.focus(),k(!0))},[g,k]);e=j(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",l)]},[l]);c("useGlobalKeyCommands")(e);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:f}))}}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometTypeaheadErrorFallback.react","FBLogger","QPLUserFlow","QPLUtils","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","SearchCometTypeaheadLoggingContextProvider","XCometSearchResultsControllerRouteBuilder","emptyFunction","qex","qpl","react","requireDeferred","searchCometGlobalTypeahead.config","unrecoverableViolation","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometGlobalTypeaheadViewStrategy","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsURLBuilder","useSearchCometTypeaheadBootstrapValidation","useSearchCometTypeaheadLoggingProvider","useSearchCometTypeaheadRecentDataSourceContextDecorator","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=c("requireDeferred")("ODS").__setRef("SearchCometGlobalTypeahead.react");function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var e=a.inputXStyle,f=a.onClose,g=a.onEscape,q=a.onFocus,r=a.onHeaderActionPress,s=a.onPressEntry,t=a.onSelectFreeformQuery,u=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","inputXStyle","onClose","onEscape","onFocus","onHeaderActionPress","onPressEntry","onSelectFreeformQuery","queryString"]);u=c("useCometTypeaheadStateQueryString")(u);var v=u[0];u=u[1];var w=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),x=c("useSearchCometResultsURLBuilder")({routeBuilder:c("XCometSearchResultsControllerRouteBuilder")}),y=c("useSearchCometHashtagRouteUrlBuilder")(),z=c("useCometTypeaheadNavigate")({tapPoint:"tap_search_bar"}),A=n(!1),B=c("useSearchCometGlobalTypeaheadNullStateDataSource")(),C=c("useSearchCometGlobalTypeaheadCompositeDataSource")({config:c("searchCometGlobalTypeahead.config"),recentDataSource:B}),D=C.getBootstrapKeywordsDataSource();if(D==null)throw c("unrecoverableViolation")("Bootstrap datasource is missing","search");B=c("useSearchCometTypeaheadBootstrapValidation")({bootstrapDatasource:D});var E=B.validate,F=j(function(a){var b=a.reason,e=a.sessionID;a=a.shownEntries;E(a);b==="success"?c("QPLUserFlow").endSuccess(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)}):b==="abandon"&&c("QPLUserFlow").endCancel(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)})},[E]);B=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext);var G=B.logger,H=B.onSessionStart,I=B.setSessionEndCallback;B=B.traceProvider;var J=G;B=B;var K=c("useSearchCometTypeaheadLoggingProvider")({context:"search_global",onSessionEnd:F});G=c("useCometSearchTypeaheadTraceProvider")(G||K);l(function(){I(F)},[I,F]);if(J==null){J=K;o.onReady(function(a){a.bumpEntityKey(354,"typeahead.missing_logger_context","focused")});throw c("FBLogger")("search").mustfix("Typeahead used without logger in context")}if(B==null){B=G;throw c("FBLogger")("search").mustfix("Typeahead used without traceProvider in context")}var L=c("useSearchCometTypeaheadRecentDataSourceContextDecorator")(C,!1);K=m(function(){return[L,{decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")}].filter(Boolean)},[L]);l(function(){C.bootstrap()},[C]);G=j(function(){var a;a=(a=c("qex")._("869"))!=null?a:!1;a&&!A.current&&D.bootstrap();A.current=!0;H();q&&q()},[D,H,q]);var M=j(function(a){var b,c=a.metaData;c=c==null?void 0:c.markers;var d=c!=null&&c.has("entity");c=c!=null&&c.has("direct_nav");b=w({entry:a,queryString:v,typeaheadSessionID:(b=J)==null?void 0:b.getSessionID()});b=p(a,b,d,c);z(b);s==null?void 0:s(a)},[J,z,s,v,w]),N=j(function(a){var b=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&b!=null){b=y({entryPointAction:"SEARCH_BOX",exploreEntryPoint:v===""?3:4,hashtag:b,typeaheadSessionID:(b=J)==null?void 0:b.getSessionID()})}else{var c;b=x({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:(c=J)==null?void 0:c.getSessionID()})}z(b);t==null?void 0:t(a)},[y,J,z,t,v,x]),O=j(function(){C.clearQueryCache(),f&&f()},[C,f]),P=c("useStable")(function(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))))}),Q=h._("__JHASH___9EIWdQL4U5__JHASH__"),R=v==="";R=R?"grid":"listbox";return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometTypeaheadErrorFallback.react"),{})},children:i.jsx(P,babelHelpers["extends"]({},a,{autoOpen:b,dataSource:C,decorators:K,inputEndContent:a.inputEndContent,inputExtraProps:{hideIconOnFocus:!0,size:"large",xstyle:e},inputStartContent:a.inputStartContent,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:h._("__JHASH__oTSOcwn1bTU__JHASH__"),layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:J,onChange:u,onClose:O,onEscape:g,onFocus:G,onPressEntry:M,onSelectFreeformQuery:N,placeholder:Q,queryString:v,testid:void 0,traceProvider:B,viewRole:R,viewStrategyRenderer:c("useSearchCometGlobalTypeaheadViewStrategy")({onHeaderActionPress:r})}))})}a.displayName=a.name+" [from "+f.id+"]";function p(a,b,c,d){var e=a.rawData,f;if(e!=null&&a.subtype==="recent"&&c){f=e==null?void 0:(c=e.profile)==null?void 0:c.url}if(e!=null&&(a.subtype==="keyword"||a.subtype==="bootstrap"||a.subtype==="recent")&&d){f=e==null?void 0:(c=e.structuredInfo)==null?void 0:(a=c.direct_nav_result)==null?void 0:a.link_url}return(d=f)!=null?d:b}g["default"]=a}),98);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(c("gkx")("1147")){var d=a.get(b);d!=null&&(d.portablePlaceContainer=null)}return c("removeFromMap")(a,b)}a=c("emptyFunction");function i(a){return a.unlinkedAtTimestampMs!==null}var j=1e4;b=function(){function a(a){var b=this;this.$1=function(c){var d=function(a){return c(b.$2(a))};a(d)}}var b=a.prototype;b.addOrUpdatePlace=function(a){var b=this,d=a.coreVideoPlayerMetaData,e=a.fullscreenController,f=a.implementations,g=a.injectCoreVideoStatesRef,j=a.isFullscreen,k=a.portablePlaceContainer,l=a.portablePlaceID,m=a.portablePlaceMetaData,n=a.portableVideoID,o=a.renderComponents,p=a.renderPlaceholder,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.viewportMarginsForViewability;this.$1(function(a){var t,u=b.getPortableVideoState(a,n),v=(t=a.places.get(l))!=null?t:null;t=v!=null&&!i(v)?v.sequenceNumber:a.placesSequenceNumberNext;var w=t===a.placesSequenceNumberNext?a.placesSequenceNumberNext+1:a.placesSequenceNumberNext,x=m||{},y=a.places;if(n!=null){var z=b.getPlacesBorrowingThisVideo(y,n);z.forEach(function(a){i(a)&&a.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(y=h(y,a.portablePlaceID))})}y=c("addToMap")(y,l,babelHelpers["extends"]({},v,{coreVideoPlayerMetaData:d,currentVideoID:n,fullscreenController:e,implementations:f,injectCoreVideoStatesRef:g,isFullscreen:j,portablePlaceContainer:k,portablePlaceID:l,portablePlaceMetaData:x,renderComponents:o,renderPlaceholder:(z=p)!=null?z:null,sequenceNumber:t,trackingDataEncrypted:q,trackingNodes:r,unlinkedAtTimestampMs:null,viewportMarginsForViewability:s}));x=v!==null&&n===null?v.currentVideoID:null;z=a.videos;if(x!==null){t=b.getPlacesBorrowingThisVideo(y,x);t=0===t.length;t&&(z=c("removeFromMap")(a.videos,x))}if(n!==null){t=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:u,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:y,videoID:n});x=t.nextPreviousPlaceMetaData;z=c("addToMap")(z,n,u?babelHelpers["extends"]({},u,{portableVideoID:n,previousPlaceMetaData:x}):{portableVideoID:n,preferredPlaceID:null,previousPlaceMetaData:x})}return y===a.places&&w===a.placesSequenceNumberNext&&z===a.videos?a:babelHelpers["extends"]({},a,{places:y,placesSequenceNumberNext:w,videos:z})})};b.removePlace=function(a){var b=this,d=a.portablePlaceID,e=Date.now();this.$1(function(a){var f;f=(f=a.places.get(d))!=null?f:null;var g=f!==null?f.currentVideoID:null;if(f===null)return a;var i=a.places,j=g!==null?b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(i,g)).filter(function(a){return a.portablePlaceID!==d}):[];g!==null&&j.length===0?i=c("addToMap")(i,d,babelHelpers["extends"]({},f,{unlinkedAtTimestampMs:e})):i=h(i,d);j=a.videos;if(g!==null){f=b.getPlacesBorrowingThisVideo(i,g);f=0===f.length;if(f)j=c("removeFromMap")(j,g);else{f=b.getPortableVideoState(a,g);var k=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:f,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:i,videoID:g}),l=k.nextPreviousPlaceMetaData;k=k.shouldUpdatePreviousPlaceMetaDataForVideo;f!=null&&k&&(j=c("addToMap")(j,g,babelHelpers["extends"]({},f,{portableVideoID:g,previousPlaceMetaData:l})))}}return i===a.places&&j===a.videos?a:babelHelpers["extends"]({},a,{places:i,videos:j})})};b.setPreferredPlaceForVideo=function(a){var b=this,d=a.portablePlaceID,e=a.portableVideoID;this.$1(function(a){var f=b.getPortableVideoState(a,e),g=d!=null?a.places.get(d):null,h=b.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:g,existingVideoState:f,places:a.places,preferredPlaceID:d,setPreferredPlaceForVideo:!0,updatedPlaces:a.places,videoID:e});h=h.nextPreviousPlaceMetaData;f=f!=null?c("addToMap")(a.videos,e,babelHelpers["extends"]({},f,{preferredPlaceID:g!=null&&d!=null?d:null,previousPlaceMetaData:h})):a.videos;return f===a.videos?a:babelHelpers["extends"]({},a,{videos:f})})};b.getPlacesBorrowingThisVideo=function(a,b){var c=[];a.forEach(function(a){a.currentVideoID===b&&c.push(a)});return c};b.skipUnlinkedPlaces=function(a){return a.filter(function(a){return!i(a)})};b.selectCurrentPlaceFromThesePlaces=function(a,b){var c;a=a.slice().sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});c=(c=a.find(function(a){return a.portablePlaceID===b}))!=null?c:null;a=a.length>0?a[a.length-1]:null;return(c=(c=c)!=null?c:a)!=null?c:null};b.getCurrentPlaceStateForVideo=function(a,b){var c=this.getPortableVideoState(a,b);if(c!=null&&b!=null){a=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(a.places,b)),c.preferredPlaceID);return(b=a)!=null?b:null}else return null};b.getPortableVideoState=function(a,b){if(b!=null){a=a.videos.get(b);return(b=a)!=null?b:null}return null};b.updatePreviousPlaceMetaDataInfoForVideo=function(a){var b=this,c=a.existingPlaceStateForSetPreferredPlaceForVideo,d=a.existingVideoState,e=a.places,f=a.preferredPlaceID,g=a.setPreferredPlaceForVideo,h=a.updatedPlaces,i=a.videoID;a=function(a,c){return b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a,i)),(a=c)!=null?a:null)};var j=a(e,d==null?void 0:d.preferredPlaceID);g?g=c!=null?a(e,f):null:g=a(h,d==null?void 0:d.preferredPlaceID);e=j!=null&&(j==null?void 0:j.portablePlaceID)!==((c=g)==null?void 0:c.portablePlaceID);return{nextPreviousPlaceMetaData:e&&j!=null?j.portablePlaceMetaData:(f=d==null?void 0:d.previousPlaceMetaData)!=null?f:null,shouldUpdatePreviousPlaceMetaDataForVideo:e}};b.collectGarbage=function(){this.$1(function(a){return a})};b.$2=function(a){var b=Date.now(),d=new Set(),e=a.places;a.places.forEach(function(a){a.unlinkedAtTimestampMs!==null&&b-a.unlinkedAtTimestampMs>=j?e=h(e,a.portablePlaceID):a.currentVideoID!==null&&d.add(a.currentVideoID)});var f=a.videos;a.videos.forEach(function(a){d.has(a.portableVideoID)||(f=c("removeFromMap")(f,a.portableVideoID))});return e===a.places&&f===a.videos?a:babelHelpers["extends"]({},a,{places:e,videos:f})};return a}();g.isUnlinkedGlobalVideoPortsPlace=i;g.UNLINKED_PLACE_TIMEOUT_MS=j;g.GlobalVideoPortsManager=b}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={errorRaw:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{errorRaw:a}};var c=b.prototype;c.componentDidCatch=function(a,b){b=this.props.onError;b!=null&&b(a)};c.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.errorRaw;return c!=null?typeof a==="function"?a(b):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("everySet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(!b.call(c,f[1],f[0],a))return!1;e=d.next()}return!0}f["default"]=a}),66);
__d("equalsSet",["everySet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.size!==b.size?!1:c("everySet")(a,function(a){return b.has(a)})}g["default"]=a}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOMComet","equalsSet","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function l(a,b,d,e,f){var g=j(null);i(function(){var h,i=g.current;h=new Set((h=a.map(function(a){return a.portablePlaceID}))!=null?h:[]);if(i==null||!c("equalsSet")(i,h)){g.current=h;i=b.current;h=d.current;i!=null&&e(i);h!=null&&f(h)}})}function a(a){var b=a.globalVideoPortsManager,e=a.globalVideoPortsState,f=a.thisVideoID;a=k(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var g=a[0],i=j(null),m=c("useUnsafeRef_DEPRECATED")(null),n=(a=e.videos.get(f))!=null?a:null,o=b.getPlacesBorrowingThisVideo(e.places,f);a=o.length<=0;e=a?null:b.selectCurrentPlaceFromThesePlaces(o,n?n.preferredPlaceID:null);var p=a?null:b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(o),n?n.preferredPlaceID:null);b=function(a){m.current=a,o.forEach(function(b){b=b.injectCoreVideoStatesRef.current;b&&b(i.current,a)})};var q=function(){return null},r=function(a){i.current=a,o.forEach(function(a){a=a.injectCoreVideoStatesRef.current;a&&a(i.current,m.current)})};l(o,m,i,b,r);return a?null:h.jsxs(h.Fragment,{children:[d("ReactDOMComet").createPortal(e?h.jsx(c("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:q,onError:r,children:h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:e.coreVideoPlayerMetaData,currentPlaceID:e.portablePlaceID,currentVideoID:f,fullscreenController:e.fullscreenController,implementations:e.implementations,isFullscreen:e.isFullscreen,onCoreVideoStatesChanged:b,previousPlaceMetaData:(a=n==null?void 0:n.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:e.trackingDataEncrypted,trackingNodes:e.trackingNodes,viewportMarginsForViewability:e.viewportMarginsForViewability})}):null,g),o.map(function(a){var b;return d("ReactDOMComet").createPortal(a.portablePlaceID===(p==null?void 0:p.portablePlaceID)?h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:g}):h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(b=p==null?void 0:p.portablePlaceID)!=null?b:null,currentVideoID:f,previousPlaceMetaData:(b=n==null?void 0:n.previousPlaceMetaData)!=null?b:null,renderPlaceholder:a.renderPlaceholder,thisPlaceID:a.portablePlaceID,videoPixelsAspectRatio:(b=a.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?b:null}),a.portablePlaceContainer)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.setGlobalVideoPortsManager;i(function(){var a=function(a){return new(d("GlobalVideoPortsManager").GlobalVideoPortsManager)(a)};b(a)},[b]);var e=[],f=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),g=d("GlobalVideoPortsContexts").useGlobalVideoPortsState();f&&g&&g.videos.forEach(function(a,b){e.push(h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:f,globalVideoPortsState:g,thisVideoID:b})},b))});return h.jsx(h.Fragment,{children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("maybeRemoveElement",["gkx","queueRemovableDOMElements"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("gkx")("3538")&&a.remove()}function a(a){if(a!=null){var b=document.querySelectorAll('link[rel="preload"][as="script"][href="'+a.src+'"]');b.forEach(h);h(a)}}function b(a){h(a)}function e(){var a=[].concat(d("queueRemovableDOMElements").getCurrentQueue());d("queueRemovableDOMElements").clearQueue();a.forEach(h)}g.maybeRemoveScriptLoadingElement=a;g.maybeRemoveServerJSScriptElement=b;g.maybeRemoveElementInit=e}),98);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?d:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=f,d[0]=d[1]),c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1}):0})},function(d){return c.sp(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.seq([function(d){return c[0]=e.queueName,b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){a.item;return 0})},function(d){return b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){return a["delete"]()})}]))})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.ftr(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[47])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],directInviteLink:a[23],enableState:a[24],fbGroupType:a[27],threadCount:a[28],disableTimestamp:a[31],inviteStatus:a[35],categoryCount:a[39],snippetText:a[40],coverPicUrl:a[41],coverPicUrlFallback:a[42],coverPicUrlExpirationTimestampMs:a[43],invitedThreadId:a[45],fbGroupUserParticipationApprovalStatus:a[46]}):0})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],draftMessage:a[45],snippetHasEmoji:a[46],hasPersistentMenu:a[47],disableComposerInput:a[48],cannotUnsendReason:a[49],viewedPluginKey:a[50],viewedPluginContext:a[51],clientThreadKey:a[52],capabilities:a[53],shouldRoundThreadPicture:a[54],proactiveWarningDismissTime:a[55],isCustomThreadPicture:a[56],otidOfFirstMessage:a[57],normalizedSearchTerms:a[58],additionalThreadContext:a[59],disappearingThreadKey:a[60],isDisappearingMode:a[61],disappearingModeInitiator:a[62],unreadDisappearingMessageCount:a[63],lastMessageCtaId:a[65],lastMessageCtaType:a[66],lastMessageCtaTimestampMs:a[67],consistentThreadFbid:a[68],threadDescription:a[70],unsendLimitMs:a[71],capabilities2:a[79],capabilities3:a[80],syncGroup:a[83],threadInvitesEnabled:a[84],threadInviteLink:a[85],isAllUnreadMessageMissedCallXma:a[86],numUnreadSubthreads:a[87],subthreadCount:a[88],lastNonMissedCallXmaMessageTimestampMs:a[89],threadInvitesEnabledV2:a[91],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],threadStatus:a[102],threadSubtype:a[103],pauseThreadTimestamp:a[104]}):(f=d.item,c[1]=f.lastActivityTimestampMs,c[3]=f.parentThreadKey,c[2]=f.disappearingThreadKey,c[4]=f.isDisappearingMode,b.i64.le(f.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],e)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(g=[c[3],f.folderName],c[5]=g[0],c[6]=g[1],g):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.fe(b.db.table(9).fetch([[[a[7]]]]),function(d){var g=d.update;d.item;return g({lastReadWatermarkTimestampMs:f.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],draftMessage:a[45],snippetHasEmoji:a[46],hasPersistentMenu:a[47],disableComposerInput:a[48],cannotUnsendReason:a[49],viewedPluginKey:a[50],viewedPluginContext:a[51],clientThreadKey:a[52],capabilities:a[53],shouldRoundThreadPicture:a[54],proactiveWarningDismissTime:a[55],isCustomThreadPicture:a[56],otidOfFirstMessage:a[57],normalizedSearchTerms:a[58],additionalThreadContext:a[59],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[62],unreadDisappearingMessageCount:a[63],lastMessageCtaId:a[65],lastMessageCtaType:a[66],lastMessageCtaTimestampMs:a[67],consistentThreadFbid:a[68],threadDescription:a[70],unsendLimitMs:a[71],capabilities2:a[79],capabilities3:a[80],syncGroup:a[83],threadInvitesEnabled:a[84],threadInviteLink:a[85],isAllUnreadMessageMissedCallXma:a[86],numUnreadSubthreads:a[87],subthreadCount:a[88],lastNonMissedCallXmaMessageTimestampMs:a[89],threadInvitesEnabledV2:a[91],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],threadStatus:a[102],threadSubtype:a[103],pauseThreadTimestamp:a[104],avatarStickerInstructionKeyId:e,avatarStickerId:e,avatarStickerThumbnailImageUrl:e,avatarStickerThumbnailImageMimeType:e,avatarStickerOriginalImageUrl:e,avatarStickerOriginalImageMimeType:e,memberCount:e,isReadReceiptsDisabled:!1,readReceiptsDisabledV2:b.i64.cast([0,0]),metadata:e})})):b.fe(b.db.table(9).fetch([[[a[7]]]]),function(d){var f=d.update;d.item;return f({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],draftMessage:a[45],snippetHasEmoji:a[46],hasPersistentMenu:a[47],disableComposerInput:a[48],cannotUnsendReason:a[49],viewedPluginKey:a[50],viewedPluginContext:a[51],clientThreadKey:a[52],capabilities:a[53],shouldRoundThreadPicture:a[54],proactiveWarningDismissTime:a[55],isCustomThreadPicture:a[56],otidOfFirstMessage:a[57],normalizedSearchTerms:a[58],additionalThreadContext:a[59],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[62],unreadDisappearingMessageCount:a[63],lastMessageCtaId:a[65],lastMessageCtaType:a[66],lastMessageCtaTimestampMs:a[67],consistentThreadFbid:a[68],threadDescription:a[70],unsendLimitMs:a[71],capabilities2:a[79],capabilities3:a[80],syncGroup:a[83],threadInvitesEnabled:a[84],threadInviteLink:a[85],isAllUnreadMessageMissedCallXma:a[86],numUnreadSubthreads:a[87],subthreadCount:a[88],lastNonMissedCallXmaMessageTimestampMs:a[89],threadInvitesEnabledV2:a[91],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],threadStatus:a[102],threadSubtype:a[103],pauseThreadTimestamp:a[104],avatarStickerInstructionKeyId:e,avatarStickerId:e,avatarStickerThumbnailImageUrl:e,avatarStickerThumbnailImageMimeType:e,avatarStickerOriginalImageUrl:e,avatarStickerOriginalImageMimeType:e,memberCount:e,isReadReceiptsDisabled:!1,readReceiptsDisabledV2:b.i64.cast([0,0]),metadata:e})}):b.resolve())})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(d){return c.sp(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],e,e,e,a[11],a[12],a[13],a[14],a[15],e,a[16],a[17],a[18],e,a[19],c.i64.cast([0,0]),a[20],a[21],e,e,a[22],a[24],e,e,a[23],e,e,c.i64.cast([0,0]),a[26],e,c.i64.cast([0,1]),e,a[25],a[27],a[28],a[29],a[30],e,a[31],a[32],c.i64.cast([0,80]))},function(d){return c.sp(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],e,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),e,!1,e,e,e,e,e,e,e,e,e,e,c.i64.cast([0,0]),c.i64.cast([0,0]),e,e,e,e,e,c.i64.cast([-1,4294967282]),e,e,e,e,e,e,e,!1,!1,!1,e,e,e,e,c.i64.cast([0,0]),e,e,!1,e,e,e,e,!1,e,c.i64.cast([0,0]),e,c.i64.cast([0,0]),e,e,e,e,e,c.i64.cast([0,0]),e,e,e,e,e,e,e,c.i64.cast([0,0]),c.i64.cast([0,0]),e,e,e,c.i64.cast([0,0]),e,!1,e,e,e,!1,c.i64.cast([0,0]),e,e,e,e,e,e,e,e,e,e,e,e,e)}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[!0,!0,!1],d[3]=g[0],d[4]=g[1],d[5]=g[2],g):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(g=[!0,!1,!1],d[7]=g[0],d[8]=g[1],d[9]=g[2],g):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?f:d[12])===f||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(e=[!1,!1,!1],d[16]=e[0],d[17]=e[1],d[18]=e[2],e):(g=[!0,!1,!0],d[16]=g[0],d[17]=g[1],d[18]=g[2],g),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),e=[d[13],d[14],d[15]],d[7]=e[0],d[8]=e[1],d[9]=e[2],e),g=[d[7],d[8],d[9]],d[3]=g[0],d[4]=g[1],d[5]=g[2],g)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[13]=!1:(e=b.item,d[13]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[13]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([64,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,8650752]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),d[12]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[9]:d[5],capabilities2:d[3]?d[10]:d[6],capabilities3:d[3]?d[11]:d[7],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],d[13]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[13])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[13],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.fe(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.fe(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(a){return b.fe(b.ftr(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,d)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(a){return b.fe(b.ftr(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,d)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.i64.neq(a[12],e)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],composerTintColor:a[17],composerUnselectedTintColor:a[18],composerInputTextPlaceholderColor:a[19],composerInputBackgroundColor:a[20],composerInputBorderColor:a[21],composerInputBorderWidth:a[22],composerBackgroundColor:a[23],messageTextColor:a[24],messageBorderColor:a[25],messageBorderWidth:a[26],incomingMessageTextColor:a[27],incomingMessageBorderColor:a[28],incomingMessageBorderWidth:a[29],deliveryReceiptColor:a[30],tertiaryTextColor:a[31],primaryButtonBackgroundColor:a[32],hotLikeColor:a[33],secondaryTextColor:a[34],quotedIncomingMessageBubbleColor:a[35],cornerRadius:a[36],blurredComposerBackgroundColor:a[37],composerSecondaryButtonColor:a[38],composerPlaceholderTextColor:a[39]})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("MWChatOpenSecureTabForUserCallback.bs",["cr:312"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){if(b("cr:312")!=null)return b("cr:312").openChatTab(a,c,d)}g.openChatTab=a}),98);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,make:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["I64","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return void 0;var b=d("I64").cast(a);return b!=null?JSON.stringify([d("I64").to_string(b)]):JSON.stringify(a)}function i(a){if(a==null)return void 0;a=JSON.parse(a);return Array.isArray(a)?d("I64").of_string(a[0]):a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[h(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(h(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(h(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](h(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,i(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(h(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [i(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return i(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","I64","LSDbKeyComparer","LSDict","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];while(a!==0)b.push(a.hd),a=a.tl;return b}function i(a){return a.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function j(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},j=g.end;g=g.start;var k=h(a.value[0]),l=k.slice(0,f);if(g){var m=d("LSDbKeyComparer").compareValue(k[f],g[0]);if(m*(c==="asc"?1:-1)<g[1]){if(f===k.length-1&&m===0)a=await e.next();else{m=[].concat(l,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[d("LSDbKeyComparer").MAX_KEY]:[]);a=await e.next(i(m))}if(a.done)return{v:{done:!0}};k=h(a.value[0]);if(!l.every(function(b,a){return d("LSDbKeyComparer").compareValue(b,k[a])===0}))return"continue|outer"}}if(j&&d("LSDbKeyComparer").compareValue(j[0],k[f])*(c==="asc"?1:-1)<j[1]){a=await e.next(i([].concat(k.slice(0,f),c==="asc"?[d("LSDbKeyComparer").MAX_KEY]:[])));return"continue|outer"}};for(var g=0;g<b.length;g++){var j=await f(g);switch(j){case"continue|outer":continue outer;default:if(typeof j==="object")return j.v}}break}return a},a}return f()}function k(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=k.bind(null,a,b),c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function l(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=l.bind(null,a,b,d),e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function m(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var h=a[g];g=c[g];var i;h==null&&g==null?i=0:h==null&&g!=null?i=-1:h!=null&&g==null?i=1:i=d("LSDbKeyComparer").compareValue(h,g);if(i===0)continue;return i*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var h=0;for(var i=c.length-1;i>=0;i--)h={hd:b.value.item[c[i]],tl:h};if(e!=null&&d("LSDbKeyComparer").compareKey(e,h)!==0){for(i of g.sort(f))yield i;g=[]}b.done||g.push(b.value);e=h;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(i of g.sort(f))yield i});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,c=await a.next();while(!c.done)b++,c=await a.next();return d("I64").of_int32(b)}function f(a,b){return{forEach:async function(e){var f=await m(a);f=f.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],i=f[1];await e((g={},g[b]=h,g.group_count=d("I64").of_int32(i),g))}}}}function n(a,b,c){return{delete:function(){return c.delete(a)},item:b,update:function(d){return c.upsert(a,babelHelpers.extends({},b,d))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=d("LSDbKeyComparer").compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function s(a,b,c,e,f,g){var h=new Set(),k=a.length>1,l=a.length===1&&a[0][1]==null,m=a.map(function(a){var h=a[0],k=a[1];return h.map(function(a){e.key_lookup===!0&&a.length!==0;e.table_scan===!0&&a.length===0;var h=a.map(function(a){return g(a,b)});a=h.length===(k==null?c.primaryKeyIds:c.indexes[k]).length&&h.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,e=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){if(e)return{done:!0};e=!0;var a=i(h.map(function(a){a=a.start;return a[0]})),b=await (k==null?f:f.index(k)).get(a);if(!b)return{done:!0};b=d("ReStoreVaulting").maybeUnvaultDbRow(b,c.name);return{done:!1,value:[a,b]}},b};return a()}return j(k==null?f:f.index(k),h,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function p(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=p,a.next=async function(){var a,b,d,e=await m.next();while(!e.done){var g=e.value;b=g[0];d=g[1];a=l?b:c.primaryKeyIds.reduceRight(function(a,b){return{hd:d[b],tl:a}},0);if(k){g=JSON.stringify(a);if(h.has(g)){e=await m.next();continue}h.add(g)}break}return e.done||a==null||d==null?{done:!0}:{done:!1,value:n(a,d,f)}},a}return p()}g.filter=k;g.slice=l;g.forEach=a;g.toArray=m;g.sortBy=b;g.count=e;g.groupBy=f;g.fetch=s}),98);
__d("LSJson",["I64","LSDict","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=512;function i(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>h)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a,c){return i(a,b+1,e+"/"+c.toString())}).join(",")+"]":d("I64").to_string(a);else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+i(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.stringify=i}),98);
__d("LS",["FBLogger","I64","LSDbKeyComparer","LSDict","LSIterationHelpers","LSJson","MessengerLogHistory","ODS","base64-js","bs_caml_int64","cr:3109","emptyFunction","gkx","justknobx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}var l="LS_WEB",m=typeof window!=="undefined"?window:self;function n(a){return a.name.match(/secure_|inbox(?!_)/i)}var o=d("MessengerLogHistory").getInstance("ls"),p=babelHelpers.extends({},c("bs_caml_int64"),{cast:function(a){return a},eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&d("I64").equal(a,b)},from_string:function(a){try{return d("I64").of_string(a)}catch(b){throw c("unrecoverableViolation")('Unable to cast "'+a+'" to int64',"messenger_comet")}},ge:d("I64").ge,gt:d("I64").gt,le:d("I64").le,lt:d("I64").lt,max:d("I64").max,min:d("I64").min,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!d("I64").equal(a,b)},random:function(){var b=a.crypto||a.msCrypto;b=Array.from(b.getRandomValues(new Uint32Array(2)));b[0]>>>=1;return b},to_int32:function(a){return a==null?a:c("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:d("I64").to_string(a)}});function q(a){return c("base64-js").toByteArray(a).buffer}var r={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return r.compareTo(a,b)>=0},gt:function(a,b){return r.compareTo(a,b)>0},le:function(a,b){return r.compareTo(a,b)<=0},lt:function(a,b){return r.compareTo(a,b)<0},neq:function(a,b){return!r.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new TextEncoder();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new TextDecoder();return b.decode(a)}};function s(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return d("I64").asI64([a>>>1^-(b&1),((b>>>1)+(a&1)*2147483648^-(b&1))>>>0])}function t(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function u(a,b,c){var e=a.table(b.name);return{add:function(a){return e.add(a)},fetch:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"asc",b,c,e,t)},fetchDesc:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"desc",b,c,e,t)},peekNextAutoIncrementId:function(){return e.peekNextAutoIncrementId()},put:function(a){return e.deleteThenInsert(a)}}}function v(a,b,d,e){return{table:function(f){f=d.tableIds[f];if(b===0&&n(f))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return u(a,f,e)}}}function w(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var x=function(){var a=0;function d(d){var e=d.shouldLog;d=d.sprocName;if(!e||!b("cr:3109"))return;e=++a;b("cr:3109").markerStart(c("qpl")._(25302991,"143"),e);b("cr:3109").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:3109")==null?void 0:b("cr:3109").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("5983")?Math.random()*c("justknobx")._("951")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function y(a,b,c){b=d("I64").to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function z(a,b,c){b=d("I64").to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function A(a,b,e,f,g,n,u,B){u===void 0&&(u={});B===void 0&&(B=void 0);var C=v(n,a,b,u),D=[];return{Map:c("LSDict"),blob:q,blobs:r,constructor:{n:s},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Object.defineProperty(b,"tag",{value:"ls-array"})},ct:d("LSIterationHelpers").count,db:C,fe:d("LSIterationHelpers").forEach,ftr:d("LSIterationHelpers").filter,gb:d("LSIterationHelpers").groupBy,i64:p,islc:d("LSIterationHelpers").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return y.apply(void 0,[f].concat(b))},localizeAsync:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve(y.apply(void 0,[f].concat(b)))},localizeV2:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return z.apply(void 0,[g].concat(b))},localizeV2Async:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve(z.apply(void 0,[g].concat(b)))},logger:function(a){if(B)return{debug:B,info:B,mustfix:B,warn:B};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){o.error(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";d("ODS").bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return o.debug(a)},info:function(a){return o.debug(a)},mustfix:a,warn:a}}else{c("gkx")("2999")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function c(d){var e;return p.lt(d,a)?b(d).then(function(){return c(p.add(d,s(k())))}):((e=m.Promise)!=null?e:Promise).resolve()}return c(s(j()))},loopSync:function(a,b){for(var c=s(i());p.lt(c,a);c=p.add(c,s(h())))b(c)},merge:function(){function a(a,b){return d("LSDbKeyComparer").compareValue(a,b)>0?a:b}function b(a,b){return d("LSDbKeyComparer").compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=t(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:s,nop:async function(b){var d;if(typeof b==="string"){d=e[b+".bs"];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");d.load&&(d=await d.load());d=d}else d=b;try{for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];return d.apply(void 0,[n,a].concat(g))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:async function(b,d){var f;if(typeof d==="string"){f=e[d.toString()];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product");f.load&&(f=await f.load());f=f.call}else f=d.call;for(var g=arguments.length,h=new Array(g>2?g-2:0),i=2;i<g;i++)h[i-2]=arguments[i];return f.apply(void 0,[n,a].concat(h))},print:function(a){},resolve:function(a){var b;return((b=m.Promise)!=null?b:Promise).resolve(a)},rm:p.of_int32(a),sb:d("LSIterationHelpers").sortBy,seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},slc:function(a,b){return Array.prototype.slice.call(a,b)},sp:async function(d){var h;if(typeof d==="string"){h=e[d];if(h==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");h.load&&(h=await h.load())}else h=d;var i=this;switch(a){case 0:i=A(2,b,e,f,g,n,u,B);break;case 2:i=A(1,b,e,f,g,n,u,B);break}var j=w(h),k=x.shouldLogSproc(j),m={shouldLog:k,sprocName:j};D.push(d);var o;try{o=x.call(m);for(var p=arguments.length,q=new Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];var s=await h.apply(void 0,q.concat([i]));x.logSprocDone(m,o,2);return s}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",d);x.logSprocDone(m,o,3);throw a}finally{D.pop()}},ta:d("LSIterationHelpers").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=s;g.default=A}),98);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules);function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!(e in h)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return b("Promise").resolve();var f=new(b("Promise"))(function(a){var e={},g=[],j=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);h[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return h[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var k of d)j(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return f}function i(a,b,c){a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function j(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){a in h||f.set(a,"LS"+j(a))}for(d of(a=d)!=null?a:[]){a=d+".bs";a in h||f.set(a,"LS"+j(d)+".nop")}for(d of(a=e)!=null?a:[]){d in h||f.set(d,"LS"+j(d))}if(f.size===0)return b("Promise").resolve();var g=new(b("Promise"))(function(a){var d={},e=[],j=function(a){var c=a[0];a=a[1];d[a]={be:1,r:[]};e.push(a);h[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return h[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var k of f)j(k);c("Bootloader").handlePayload({compMap:d,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),e,function(b){Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return g}g.cachedModules=h;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){case"2285622730":return h._("__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._("__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._("__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._("__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._("__JHASH__U3_S6m-Asci__JHASH__");case"2375715979":return h._("__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._("__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"1899892426":return h._("__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._("__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._("__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._("__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._("__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._("__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._("__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._("__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._("__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._("__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._("__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._("__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._("__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._("__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._("__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._("__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._("__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._("__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._("__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._("__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._("__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._("__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._("__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._("__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._("__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._("__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._("__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._("__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._("__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._("__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._("__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._("__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._("__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._("__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._("__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._("__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._("__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._("__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._("__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._("__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._("__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._("__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._("__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._("__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._("__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._("__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._("__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._("__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._("__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._("__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._("__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._("__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._("__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._("__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._("__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._("__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._("__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural(d("I64").to_float(b(0)),"number")]);case"313217698":return h._("__JHASH__rG1E-FG-TxB__JHASH__",[h._plural(d("I64").to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._("__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"3321340421":return h._("__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3307909120":return h._("__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._("__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._("__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._("__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._("__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._("__JHASH__JBe8j08K09-__JHASH__");case"3199643703":return h._("__JHASH__YBxxz_Vibx6__JHASH__");case"1531706844":return h._("__JHASH__bZt0xiZTnI-__JHASH__");case"2421884758":return h._("__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._("__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._("__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._("__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._("__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._("__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._("__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._("__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._("__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"3989800917":return h._("__JHASH__LU51Dz-OBab__JHASH__");case"2856734260":return h._("__JHASH__yQuJ1OMUVjP__JHASH__");case"2352696798":return h._("__JHASH__4w1HQhVySfH__JHASH__");case"3387070852":return h._("__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);default:return""}};b=a;g["default"]=b}),98);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LS")(1,d("LSMetadata").metadata,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a)}g["default"]=a}),98);
__d("MWChatOpenTabForGroupCallback.bs",["I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("I64").of_string(a);c("promiseDone")(c("LSDatabaseSingleton").then(function(a){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("threads")).getKeyRange(e)).then(function(f){if(f!=null)if(d("LSMessagingThreadTypeUtil").isSecure(f.threadType)){c("recoverableViolation")("Preloading secure thread not implemented yet","messenger_web_product");return b("Promise").resolve()}else return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages_ranges_v2__generated")).getKeyRange(e)).then(function(b){if(b!=null&&b.minMessageId===b.maxMessageId)return c("LSIssueMessagesRangeQuery")(e,b.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))});else return b("Promise").resolve()})},"readwrite")}))}g.call=a}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("LSBitFlag").set(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),b)}g.set=a;g.clear=b;g.empty=d("I64").zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,b,!1)}function h(a,b,c){var e=b.capabilities,f=b.capabilities2;if(d("I64").ge(a,d("I64").of_string("64"))){return f==null?c:d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(a)),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has(d("I64").lsl_(d("I64").one,d("I64").to_int32(d("I64").sub(a,d("I64").of_string("64")))),(a=b)!=null?a:d("LSBitOffset").empty)}g.has=a;g.hasWithDefault=h;g.contactCapabilitiesHas=b}),98);
__d("MAWVerifyThreadCutover",["I64","LSContactBitOffset","LSIntEnum","MAWGating","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(d("MAWGating").isThreadLevelCutoverEnabled()){a=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(c)));return a}return b("Promise").resolve()});return h.apply(this,arguments)}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){if(d("MAWGating").isThreadLevelCutoverEnabled()){a=(yield a);a=(yield b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(c))]));c=a[0];a=a[1];a=a!=null&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),a);return c!=null||a}return!1});return j.apply(this,arguments)}function c(a,c){return c==null?b("Promise").resolve(!1):i(a,d("I64").of_string(c))}g.getCutoverThread=a;g.verifyThreadCutover=i;g.verifyThreadCutoverWithStringInput=c}),98);
__d("MWLSPreloadThreadForContact.bs",["I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExists","MAWVerifyThreadCutover","Promise","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var e=c("LSDatabaseSingleton").then(function(e){return e.runInTransaction(function(f){var g=d("I64").of_string(a);return d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),g).then(function(a){if(a)return;else return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("messages_ranges_v2__generated")).getKeyRange(g)).then(function(a){if(a!=null)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQuery")(g,a.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(f));else return;else return c("LSVerifyThreadRowExists")(g,void 0,d("LSIntEnum").ofNumber(1),c("LSFactory")(f))})})},"readwrite")});c("promiseDone")(e)}function a(){return h}g.verifyThreadExists=h;g.usePreloaderForUser=a}),98);/*FB_PKG_DELIM*/
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeDeleteThenInsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=d("ReQL").fromTableAscending(a.table("cutover_threads"));return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.table("cutover_threads")["delete"](d("ReQL").key(c.openThreadId))})},b("Promise").resolve())})}g.call=a}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSStorage",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.reduceRight(function(a,b){if(d[b]!==void 0||e!=null)return{hd:d[b],tl:a};throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function b(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}g.searchKey=a;g.areKeysEqual=b}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("nullthrows")(d("I64").cast(a))}g.cast=a}),98);
__d("LSTableDefaults",["I64MigrationHelper"],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:(a=b("I64MigrationHelper")).cast([0,0]),sendSyncParams:!1,minTimeToSyncTimestampMs:a.cast([0,0]),canIgnoreTimestamp:!1,priority:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),lastSyncCompletedTimestampMs:a.cast([0,0]),syncChannel:a.cast([0,1])},pending_tasks:{enqueueTimestampMs:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0])},pending_fire_and_forget_tasks:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.cast([0,0]),rank:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),canViewerMessage:!0,gender:a.cast([0,0]),authorityLevel:a.cast([0,0]),optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),isEmployee:!1},ig_contact_info:{e2eeEligibility:a.cast([0,0])},reactions:{timestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0])},threads:{lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),isAdminSnippet:!1,ongoingCallState:a.cast([0,0]),snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.cast([0,0]),isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:a.cast([0,0]),authorityLevel:a.cast([0,0]),capabilities2:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),unsendLimitMs:a.cast([0,0]),threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),capabilities3:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),isReadReceiptsDisabled:!1,readReceiptsDisabledV2:a.cast([0,0])},threads_ranges_v2__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:a.cast([0,0]),primarySortKey:a.cast([0,0]),secondarySortKey:a.cast([0,0]),isAdminMessage:!1,sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),isUnsent:!1,replyStatus:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),quickReplyType:a.cast([0,0]),authorityLevel:a.cast([0,0]),unsentTimestampMs:a.cast([0,0]),isCollapsed:!1,messageRenderingType:a.cast([0,0])},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),authorityLevel:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),threadRoles:a.cast([0,0])},attachments:{timestampMs:a.cast([0,0]),attachmentType:a.cast([0,0]),hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.cast([0,0]),authorityLevel:a.cast([0,0])},attachments_ranges_v2__generated:{mediaGroup:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:a.cast([0,0])},group_membership_approval_requests:{authorityLevel:a.cast([0,0])},admin_message_ctas:{timestampMs:a.cast([0,0]),showAdChoiceIcon:!1},thread_nullstate:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},messages_status:{timestampMs:a.cast([0,0])},polls:{pollType:a.cast([0,0])},poll_options_v2:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},filtered_threads_ranges_v3__generated:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),maxLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},community_folders:{capabilities:a.cast([0,0]),notificationMutedUntil:a.cast([0,0]),inviteStatus:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0])},community_members:{source:a.cast([0,0]),adminActions:a.cast([0,0]),contactCapabilities:a.cast([0,0]),channelBadges:a.cast([0,0]),threadRoles:a.cast([0,0]),requestId:""},inbox_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:a.cast([0,0])},community_chat_poll_options:{voteCount:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),sortKeyCreationTimestamp:a.cast([0,0])},reactions_v2:{viewerReactionTimestampMs:a.cast([0,0]),lastUpdatedTimestampMs:a.cast([0,0])},group_invitations_pending:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},thread_label_mappings:{sortKey:a.cast([0,0])},inbox_view_state:{value:""},inbox_view_state_v2:{value:""},discoverable_chat_participants:{source:a.cast([0,0])},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1,canViewWithoutContributing:!1},roll_call_contributions_v2:{contributorId:a.cast([0,0]),contributionSource:a.cast([0,0])},shared_albums:{lastActivityTimestampMs:a.cast([0,0]),contributionCount:a.cast([0,0])},shared_album_contributions:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},universal_search_recent_searches:{lastAccessedTimestampMs:a.cast([0,0])},cm_search_nullstate_metadata:{score:0},contact_upload_settings:{authorityLevel:a.cast([0,0])},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:a.cast([0,0])},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},messaging_privacy_settings:{readReceiptsDisabled:a.cast([0,0])},rtc_call_events:{isProcessed:!1},transaction_history:{timestampMs:a.cast([0,0])},thread_themes:{isDeprecated:!1,iconUrl:"",iconUrlFallback:"",backgroundUrl:""},ranking_scores:{score:a.cast([0,0]),scoreIndex:a.cast([0,0])},story_buckets:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},stories:{authorityLevel:a.cast([0,0])},story_viewers:{interactionType:a.cast([0,1]),authorityLevel:a.cast([0,0])},story_reactions:{authorityLevel:a.cast([0,0])},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:a.cast([0,0])},rooms:{notificationMutedUntilMs:a.cast([0,0])},media_staging:{progress:a.cast([0,0])},client_messages:{textSize:a.cast([0,0]),sendStatus:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isReplyOnly:!1,messageContentType:a.cast([0,0]),messageContentSubtype:a.cast([0,0]),messageSource:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),replyStatus:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),isForwarded:!1,isReadonly:!1,disabledActionsReason:a.cast([0,0]),shouldPersist:!1,shouldHideInSnippet:!1},client_participants:{isPending:!1,capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),readActionTsMs:a.cast([0,0])},client_threads:{isAdminSnippet:!1,isHotlikeSnippet:!1,groupMemberAddMode:a.cast([0,0]),capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isHidden:!1,isTombstoned:!1,isPending:!1,isShadowThread:!1,pinnedMessagesCount:a.cast([0,0])},data_trace_meta:{initTimestampMs:a.cast([0,0]),foregroundTimestampMs:a.cast([0,0]),traceType:a.cast([0,0]),shouldFlush:!1},data_trace_addon:{timestampMs:a.cast([0,0])},secure_encrypted_backups_client_state:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},secure_encrypted_backups_epochs:{authorityLevel:a.cast([0,0])},encrypted_backups:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:a.cast([0,1])},encrypted_backups_virtual_devices:{virtualDeviceType:a.cast([0,1]),removalStatus:a.cast([0,1])},encrypted_backups_metadata:{authorityLevel:a.cast([0,0])},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"}}}),null);
__d("MWTabNotifierWhenPDBEnabled",["cr:3107"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3107")}),98);
__d("ReStoreUtils",["LSTableDefaults"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b){var d=c("LSTableDefaults")[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}g.collectIterator=a;g.appendDefaultValues=b}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","LSTableDefaults","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield h(a,b));b={};for(d in d.tableNames){var e=c("LSTableDefaults")[d];if(e!=null)for(var f in e){var g;g=(g=a[d])==null?void 0:g.has(f);if(!g){b[d]=(g=b[d])!=null?g:{};b[d][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(b in b){var e=Object.keys(c("LSTableDefaults")[b]||{});e={columns:e,tableName:b};yield a.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var e=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(c,a,b));try{for(var f in b){var g=a.table(f).entries(c),h=(yield g.next());while(!h.done){var i=babelHelpers["extends"]({},h.value[1]);i=d("ReStoreUtils").appendDefaultValues(i,f);yield a.table(f).put(i);h=(yield g.next())}}yield l(a,b);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){e(a,"setDefaultValues")}}catch(a){e(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return d("PromiseOrValue").map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDeleteThenInsert:a.reduce(function(a,b){var c=b.onBeforeDeleteThenInsert;return c?function(b){return d("PromiseOrValue").map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return d("PromiseOrValue").map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return d("PromiseOrValue").map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreIndexMetadata").indicesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]={index:e.data,key:b}}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j=f.indexes[g];i=(i=a[e])==null?void 0:i[g];if(d("ReStoreIndexMetadata").indicesDiffer(i==null?void 0:i.index,j)){b[e]=(i=b[e])!=null?i:{};b[e][g]=j}}}i={};for(j in a){g=a[j];for(f in g){var k;e=g[f];k=(k=c.tableNames[j])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){i[j]=(k=i[j])!=null?k:{};i[j][f]=e}}}return{toRemove:i,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f];g={data:g,indexName:f,tableName:c};yield a.table(d("ReStoreIndexMetadata").indicesTableName).put(d("ReStoreIndexMetadata").indexDataToValue(g))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f].key;yield a.table(d("ReStoreIndexMetadata").indicesTableName)["delete"](g)}}});return o.apply(this,arguments)}function a(a,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(f,a,c).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.toRemove;b=b.toUpdate;var g=Array.from(new Set([].concat(Object.keys(b),Object.keys(f))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:g.length},string_array:{index_migration_rebuilt_tables:g}});for(g of g)if(c.tableNames[g]!=null){var h;h=Array.from(new Set([].concat(Object.keys((h=b[g])!=null?h:{}),Object.keys((h=f[g])!=null?h:{}))));yield e(g,h)}yield l(a,b);yield n(a,f);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return f.apply(this,arguments)}}(),function(a){return g(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStorePersistence",["FBLogger","PromiseOrValue","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h={SENTINEL_DELETED:1};function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function j(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=Array.isArray(e)?[].concat(e):e;return a}function k(a,b){b===void 0&&(b=h);return a===b}function a(a){var b;return{clearCache:a.clearCache,close:a.close,createTransaction:function(b){var e=new Map(),f=!1;function g(){if(f)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}return{close:function(){f=!0},flush:async function(b){b===void 0&&(b={upgrade:!1}),await a.flush(e,b),f=!0},table:function(f){function l(c,d){g();var e=n.get(d);if(k(e))return void 0;return e!==void 0?e:a.get(c,f,d,b)}function m(c,e){return d("PromiseOrValue").map(l(c,e),function(c){if(c===void 0){var d=n.get(e);a.logError==null?void 0:a.logError(f,b,"dbCorruption",{deletedInThisTxn:k(d)?"true":"false",id:JSON.stringify(e)||""})}return c})}var n=i(e,f,function(){return new Map()});function o(a,b){return{read:function*(b){b=l(a,b);return c("isPromise")(b)?yield b:b},readExn:function*(b){b=m(a,b);return c("isPromise")(b)?yield b:b},readHeader:function*(){var d=l(a,b);return c("isPromise")(d)?yield d:d},remove:function*(a){g(),n.set(a,h)},removeHeader:function*(){g(),n.set(b,h)},write:function*(a,b){g(),n.set(a,b)},writeHeader:function*(a){g(),n.set(b,a)},writeNew:function*(b){var e=d("PromiseOrValue").map(l(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,b);return a});return c("isPromise")(e)?yield e:e}}}return{getBPlusTreeStore:o,incrementSeed:function(a,b){return d("PromiseOrValue").map(l(a,"seed"),function(a){a===void 0&&(a=0);n.set("seed",Math.max(a,b||0)+1);return b===void 0?a:b})},readData:function*(a,b){a=l(a,b);return c("isPromise")(a)?yield a:a},readDataExn:function*(a,b){a=m(a,b);return c("isPromise")(a)?yield a:a},readSeed:function(a){return d("PromiseOrValue").map(l(a,"seed"),function(a){a===void 0&&(a=0);return a})},remove:function(a,b){g(),n.set(b,h)},writeData:function(a,b,c){g(),n.set(b,j(c))},writeNewData:function(a,b){return d("PromiseOrValue").map(l(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,j(b));return a})}}},types:a.types}},logError:a.logError,queueCommitWork:(b=a.queueCommitWork)!=null?b:function(a){return a()},runExclusively:a.runExclusively}}g.sentinelDeleted=h;g.isDeletedValue=k;g.createDbStore=a}),98);
__d("ReStoreTransactionLock",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.waitFor=null;a!=null&&(this.waitFor=a.then(function(a){return b.waitFor=null}))}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();b=function(){function a(){this.lock=null}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this,d=this.lock;if(d==null){var e=a("\ud83d\udd12");if(c("isPromise")(e))d=e;else return e}else d=d.then(function(){return a("\ud83d\udd12")});var f=d.then(function(a){b.lock===f&&(b.lock=null);return a}).finally(function(a){b.lock===f&&(b.lock=null);return a});this.lock=f;return f};return a}();g.WaitForPromiseLock=a;g.ReStoreTransactionLock=b}),98);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* i(a){var f=a,h={hd:d("LSDbKeyComparer").MAX_KEY,tl:0},i=0;while(f!==0&&e.size){i++;var j=f,k=f.tl;f.tl=i<b?h:0;try{var l=e.get(JSON.stringify(a));if(l!=null)for(l of l)yield l}finally{j.tl=k}f=j.tl}for(l of c.entries()){k=l[0];j=l[1];c.has(k)&&g(a,j)&&(yield k)}}function j(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=h(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function k(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify(d("ReQLBounds").nextKey(a.gte,b)))===JSON.stringify(a.lte)){var i=e.get(h);i==null&&(i=new Set(),e.set(h,i));i.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":j,findIntersecting:i,set:k}}g["default"]=a}),98);
__d("killswitchMessengerWebPersistedDB",["killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("killswitch")("MESSENGER_WEB_PERSISTED_DB")}g.check=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","LSDatabaseProviderType","LSDbKeyComparer","LSStorage","MWTabNotifierWhenPDBEnabled","Promise","asyncToGeneratorRuntime","gkx","killswitchMessengerWebPersistedDB","nullthrows","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react").startTransition;var h=c("gkx")("9157")?e:function(a){return a()};function a(a,e,f){var g=d("LSDatabaseProviderType").hasPersistentType(f),i=new Map(),j=new Map();function k(a,b){return d("LSDbKeyComparer").compareValue(a,b)===0}function l(a,b,c,d){a=(a=v.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g>0;h++){if(g&1){var i=a[(f<<5)+h];if(!k(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function m(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function n(a,c,d,e,f){var g=Array.from(c(e));if(f.operation==="put"&&f.prevValue!=null){c=function(){var c=f.prevValue,h=[];for(var i of g){i[0];var j=i[1];j!=null&&j.forEach(function(a,b){h[b]=((b=h[b])!=null?b:0)|a})}var k=l(a,h,c,f.value);return{v:b("Promise").all(g.map(function(a){var b=a[0];a=a[1];if(a==null||m(k,a))return b(e,f,d)}))}}();if(typeof c==="object")return c.v}return b("Promise").all(g.map(function(a){var b=a[0];a[1];return b(e,f,d)}))}function o(b){return c("nullthrows")((i.has(b)?i:i.set(b,[c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function p(b,e){var f=o(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].indexes[e].length))).get(e))}function q(e,f,g,h,i,j){var k=function(a,b){return n(f,e.findIntersecting,j,a,b)},l=g==null?void 0:d("LSStorage").searchKey(a,f,g,i),m=h==null?void 0:d("LSStorage").searchKey(a,f,h,i);if(m==null&&l!=null)return k(l,{operation:"delete",prevValue:g});if(l==null&&m!=null)return k(m,{operation:"add",value:c("nullthrows")(h)});return l!=null&&m!=null?d("LSDbKeyComparer").compareKey(l,m)===0?k(l,{operation:"put",prevValue:g,value:c("nullthrows")(h)}):k(l,{operation:"delete",prevValue:g}).then(function(){return k(m,{operation:"add",value:c("nullthrows")(h)})}):b("Promise").resolve()}function r(a,c,d,e){var f=o(a),g=f[0],h=f[1];return q(g,a,c,d,null,e).then(function(){return b("Promise").all(Array.from(h.entries()).map(function(b){var f=b[0];b=b[1];return q(b,a,c,d,f,e)}).filter(function(a){return a!=null}))})}function s(){h(function(){return j.forEach(function(a){return a()})})}function t(a,b,f){function h(){var d=new Map();try{for(var g of a){var h=g[0],i=g[1];h=JSON.parse(h);var j=h[0];h[1];h=f(j,i);if(e(b,j)){i=d.get(j)||[];d.set(j,[].concat(i,[h]))}}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if(c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&g)){h=h();if(h.length===0)return;c("MWTabNotifierWhenPDBEnabled").postMessage(b,h)}}c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&g&&c("MWTabNotifierWhenPDBEnabled").onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap();for(var c of a){var d=c[0],e=c[1];for(e of e){var f=e[0],g=e[1];yield r(d,f,g,b)}}s()})())}));var u=new Map(),v=new Map();function w(a,b){if(b==null)return null;var c=u.get(a);c==null&&(c=new Map(),u.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=v.get(a);f==null&&(f=[],v.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){i.clear(),j.clear()},notifyCommit:s,notifyTableAndIndexSubscribers:r,notifyTableV2:t,subscribeIndex:function(a,c,d,e,f){var g=p(a,c),h=!1;c=function(a,c,e){return h?b("Promise").resolve():d(a,c,e)};var i=[c,w(a,f)];g.set(e,i);return function(){h=!0,g["delete"](i)}},subscribeTable:function(a,c,d,e){var f=o(a),g=f[0],h=!1;f=function(a,d,e){return h?b("Promise").resolve():c(a,d,e)};var i=[f,w(a,e)];g.set(d,i);return function(){h=!0,g["delete"](i)}},subscribeToCommit:function(a){j.set(a,a);return function(){j["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["BPlusTreeBase","ExecutionEnvironment","FBLogger","I64","LSDatabaseProviderType","LSDbKeyComparer","LSPlatformLsInitLog","LSStorage","LSTableDefaults","MWTabNotifierWhenPDBEnabled","MetaConfig","PromiseOrValue","ReQLBounds","ReStoreDefaultValueMigration","ReStoreDefaultValuesMetadata","ReStoreHooks","ReStoreIndicesMigration","ReStorePersistence","ReStoreTransactionLock","ReStoreUtils","clearTimeout","cr:1088","cr:1242","createReStoreSubscriptionManager","err","gkx","hashString","isPromise","killswitchMessengerWebPersistedDB","promiseDone","setImmediate","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function h(a){a=d("I64").cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return d("I64").to_float(a)}function i(a,b){function d(b){if(b.done)return b.value;if(!c("isPromise")(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function j(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return a.next(b,c)})}}}function k(a,b,e){return c("BPlusTreeBase")(d("LSDbKeyComparer").compareKey,16,b.getBPlusTreeStore(a,e==null?"root":"index("+e+")"))}function l(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e,f){f===void 0&&(f=[]);var g=d("ReStorePersistence").createDbStore(a),n=c("createReStoreSubscriptionManager")(e,a.shouldSync,a.types),o=d("ReStoreHooks").createHookManager(f),p=b("LSStorage").searchKey.bind(null,e),q={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},r=c("hashString")(JSON.stringify(e)),s=c("hashString")(JSON.stringify(c("LSTableDefaults")));d("LSPlatformLsInitLog").addAnnotations({int:{defaultValuesVersion:s,schemaVersion:r}});d("LSPlatformLsInitLog").addPoint("migration_start");var t=new(d("ReStoreTransactionLock").WaitForPromiseLock)(g.runExclusively(async function(){d("LSPlatformLsInitLog").addPoint("migration_execute_start");var a=new Map(),b=g.createTransaction("readwrite"),f=K(b,a),h="schema_version",i="default_value_version";if(c("MetaConfig")._("59")){var j,k;j=(j=await Promise.resolve(b.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),h).next().value))==null?void 0:j.schemaVersion;k=(k=await Promise.resolve(b.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).readData(new WeakMap(),i).next().value))==null?void 0:k.defaultValuesVersion;j!=null&&d("LSPlatformLsInitLog").addAnnotations({int:{storeDefaultValuesVersion:k,storeSchemaVersion:j}});if(j===r&&k===s){b.close();d("LSPlatformLsInitLog").addPoint("migration_skipped");return}}try{await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(f,e);await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(f,e,function(c,e){return new(d("ReStoreTransactionLock").ReStoreTransactionLock)().chainPromiseOrValue(function(d){return J(a,b,new WeakMap(),c,e,d)})});d("LSPlatformLsInitLog").addPoint("migration_execute_end");j=!0;c("MetaConfig")._("59")&&(a.size===0&&(j=!1),b.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),h,{schemaVersion:r}),b.table(d("ReStoreDefaultValuesMetadata").schemaVersionTableName).writeData(new WeakMap(),i,{defaultValuesVersion:s}));await b.flush({upgrade:j})}catch(a){b.close();throw a}d("LSPlatformLsInitLog").addPoint("migration_end")}).catch(function(a){d("LSPlatformLsInitLog").addAnnotations({string:{migration_error:a.message}});d("LSPlatformLsInitLog").fail("migration_error");throw a})),u=new Map();async function v(a,b){var d=new WeakMap();await g.runExclusively(async function(){var e=new Map(),f=g.createTransaction("readwrite");e=K(f,e);for(var h of b){var i=h[0],j=h[1];if(j==null){var k=p(a,i);await e.table(a).delete(k)}else await e.table(a).put(j);if(c("gkx")("8367"))await n.notifyTableAndIndexSubscribers(a,i,j,d);else{k=o.beforeNotify({newValue:j,prevValue:i,tableName:a});j=k.newValue;i=k.prevValue;await n.notifyTableAndIndexSubscribers(a,i,j,d)}}try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}})}function w(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}async function x(a,b,c,d,e,f){f=a.table(c);a=k(b,f,d);d=await i(a.getWithDefault(e,void 0));if(d===void 0)return void 0;a=await i(f.readDataExn(b,d));return o.afterGet({tableName:c,value:a})}async function y(a,b,c,d,e,f){a=await x(a,b,c,d,e,f);return a===void 0?void 0:p(c,a)}function z(a,b,c,f,g,h){function j(){var m=a.table(c),n=k(b,m,f),l=n.entries(babelHelpers.extends({},d("ReQLBounds").extendBounds(h,(f===void 0?e.tableNames[c].primaryKeyIds:e.tableNames[c].indexes[f]).length),{dir:g}));return n={next:function(a,e){return d("PromiseOrValue").map(i(l.next(e)),function(a){return a.done?{done:!0}:d("PromiseOrValue").map(i(m.readDataExn(b,a.value[1])),function(b){return{done:!1,value:[a.value[0],o.afterEntriesNext({tableName:c,value:b})]}})})}},n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,n}return j()}async function A(a,b,c,f,g,h,i){function j(a,b){var c=[],e=a;while(e!==0)c.push(e.hd),e=e.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}if(h!=null&&d("LSDbKeyComparer").compareKey(g,h)===0)return;f=e.tableNames[f];var k=f.cascadeUpdates,l=f.primaryKeyIds;f=async function(d){var f=d.indexName;d=d.tableName;var k=e.tableNames[d],m=k.indexes;k=k.primaryKeyIds;var n=f==null?k:m[f];k={gte:g,lte:j(g,n.length)};m=z(b,c,d,f,"asc",k);f=[];k=await m.next(i);while(!k.done)f.push(k.value),k=await m.next(i);for(m of f){m[0];k=m[1];f=p(d,k);if(h===void 0)await E(a,b,c,d,f,i),await A(a,b,c,d,f,void 0,i);else{k=l.reduce(function(a,b,c){b=a[0];a=a[1];if(!a)return[b,a];b[n[c]]=a.hd;return[b,a.tl]},[babelHelpers.extends({},k),h])[0];await D(a,b,c,d,f,k,i);await A(a,b,c,d,f,p(d,k),i)}}};for(k of k)await f(k)}async function B(a,b,f,g){g=e.tableNames[f].autoIncrement;if(!g)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");g=await a.table(f).readSeed(b);if(g===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return d("I64").of_float(g)}async function C(a,b,c,f,g,j){var l=b.table(f),m=k(c,l),n=e.tableNames[f];if(n.autoIncrement){var o=g[n.primaryKeyIds[0]];o=d("I64").of_float(await l.incrementSeed(c,o===void 0?o:h(o)));g[n.primaryKeyIds[0]]=o}o=p(f,g);var q={},r=await i(m.getWithDefault(o,void 0)),s,t=g;r!==void 0?(s=await i(l.readDataExn(c,r)),q=F(Object.keys(n.indexes),f,s),l.writeData(c,r,t)):(t=d("ReStoreUtils").appendDefaultValues(g,n.name),r=await l.writeNewData(c,t),await i(m.set(o,r)));g=F(Object.keys(n.indexes),f,t);for(m of Object.keys(g))q[m]!==void 0&&d("LSDbKeyComparer").compareKey(q[m],g[m])===0&&(delete g[m],delete q[m]);await G(a,b,c,f,g,j);await H(b,c,f,r,g);for(n of Object.keys(q)){m=k(c,l,n);await i(m.delete(q[n]))}w(a,f,o,s,t)}async function D(a,b,c,e,f,g,h){var i=p(e,g);d("LSStorage").areKeysEqual(f,i)||await E(a,b,c,e,f,h);await C(a,b,c,e,g,h)}async function E(a,b,c,d,f,g){g=b.table(d);b=k(c,g);var h=e.tableNames[d],j=await i(b.getWithDefault(f,void 0)),l;if(j!==void 0){l=await i(g.readDataExn(c,j));if(Object.keys(h.indexes).length)for(h of Object.keys(h.indexes)){var m=p(d,l,h);if(m!=null){var n=k(c,g,h);await i(n.delete(m))}}await i(b.delete(f));g.remove(c,j);w(a,d,f,l,void 0)}}function F(a,b,c){return a.reduce(function(a,d){var e=p(b,c,d);a[d]=e;return a},{})}async function G(a,b,c,d,e,f){var g=b.table(d),h=new Set();for(var j of Object.keys(e)){var l=k(c,g,j),m=e[j];l=await i(l.getWithDefault(m));if(l!=null&&!h.has(l)){m=p(d,await i(g.readDataExn(c,l)));await E(a,b,c,d,m,f);await A(a,b,c,d,m,void 0,f);h.add(l)}}}async function H(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=k(b,a,c),g=e[c];await i(f.set(g,d))}}async function I(a,b,c,f,g,j){var l=b.table(f),m=k(c,l),n=e.tableNames[f];if(n.autoIncrement){var o=g[n.primaryKeyIds[0]];o=d("I64").of_float(await l.incrementSeed(c,o===void 0?o:h(o)));g[n.primaryKeyIds[0]]=o}o=d("ReStoreUtils").appendDefaultValues(g,n.name);g=p(f,o);if(g==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!await i(m.has(g))){n=F(Object.keys(n.indexes),f,o);await G(a,b,c,f,n,j);j=await l.writeNewData(c,o);await i(m.set(g,j));await H(b,c,f,j,n);w(a,f,g,void 0,o)}}async function J(a,b,c,d,f,g){var h=b.table(d),j=f.map(function(a){return k(c,h,a)});for(j of j)await i(j.clear());j=f.filter(function(a){var b;return((b=e.tableNames[d])==null?void 0:b.indexes[a])!=null});if(j.length===0)return;f=k(c,h);var l=z(b,c,d,void 0,"asc",void 0),m=[],n=await l.next(g);while(!n.done)m.push(n.value),n=await l.next(g);for(l of m){n=l[0];m=l[1];m=F(j,d,m);await G(a,b,c,d,m,g);n=await i(f.get(n));await H(b,c,d,n,m)}}function K(a,c,f){var g=new(d("ReStoreTransactionLock").ReStoreTransactionLock)(),h=new WeakMap(),i=f==null?void 0:f.instanceKey,k={table:function(f){return{add:async function(d){var e=await o.beforeAdd({tableName:f,transaction:k,value:d});return g.chainPromiseOrValue(async function(d){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),await I(c,a,h,f,e,d)})},delete:function(d){return g.chainPromiseOrValue(async function(e){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),await E(c,a,h,f,d,e),await A(c,a,h,f,d,void 0,e)})},deleteThenInsert:async function(e){var j=await o.beforeDeleteThenInsert({tableName:f,transaction:k,value:d("ReStoreUtils").appendDefaultValues(e,f)});return g.chainPromiseOrValue(async function(d){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),await C(c,a,h,f,j,d),await A(c,a,h,f,p(f,j),void 0,d)})},entries:function(b,c,d){c===void 0&&(c="asc");return j(z(a,h,f,void 0,c,d),g)},get:function(b){return g.chainPromiseOrValue(function(c){return x(a,h,f,void 0,b,c)})},index:function(b){return{entries:function(c,d,e){d===void 0&&(d="asc");return j(z(a,h,f,b,d,e),g)},get:function(c){return g.chainPromiseOrValue(function(d){return x(a,h,f,b,c,d)})},getKey:function(c){return g.chainPromiseOrValue(function(d){return y(a,h,f,b,c,d)})},keyLength:e.tableNames[f].indexes[b].length}},keyLength:e.tableNames[f].primaryKeyIds.length,peekNextAutoIncrementId:function(){return g.chainPromiseOrValue(function(b){return B(a,h,f,b)})},put:async function(d){var e=await o.beforePut({tableName:f,transaction:k,value:d});return g.chainPromiseOrValue(async function(d){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),await C(c,a,h,f,e,d)})},upsert:async function(d,e){var j=await o.beforeUpsert({tableName:f,transaction:k,value:e});return g.chainPromiseOrValue(async function(g){b("cr:1242")==null?void 0:b("cr:1242").recordLogicalWrite(i),await D(c,a,h,f,d,j,g),await A(c,a,h,f,d,p(f,e),g)})}}}};return k}function L(a,b){return new Promise(function(c,d){q[b].last==null?q[b].first=q[b].last={value:function(){return a().then(c,d)}}:q[b].last=q[b].last.next={value:function(){return a().then(c,d)}}})}function M(){return g.runExclusively(async function(){var a=q.ui.first!=null?q.ui:q.sync_script.first!=null?q.sync_script:q.background;if(a.first==null){c("FBLogger")("messenger_web_product").mustfix("Expected work is missing");return}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;await b.value()})}async function N(d,e,f){f===void 0&&(f="background");var h,i,j,k,l,p,q=b("cr:1242")==null?void 0:b("cr:1242").startTracking(a.types,f);(c("MetaConfig")._("26")||c("MetaConfig")._("27")||b("cr:1088"))&&(h=c("err")("Transaction timeout"));b("cr:1088")&&(i=Date.now());async function e(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_start");b("cr:1088")&&(j=Date.now());var a={ref:void 0},e=new Map(),f=g.createTransaction("readwrite"),r;try{var s=K(f,e,{instanceKey:q});r=await Promise.race([d(s),m(h,a)]);a.ref!=null&&c("clearTimeout")(a.ref);b("cr:1088")&&(k=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"execute_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_start");await f.flush({instanceKey:q});b("cr:1242")==null?void 0:b("cr:1242").mark(q,"flush_end")}catch(d){a.ref!=null&&c("clearTimeout")(a.ref);f.close();b("cr:1242")==null?void 0:b("cr:1242").fail(q);throw d}b("cr:1088")&&(p=Date.now());b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_start");s=new WeakMap();for(a of e){f=a[0];var t=a[1],u=t[0];t=t[1];f=JSON.parse(f);var v=f[0];f[1];f=o.beforeNotify({newValue:t,prevValue:u,tableName:v});t=f.newValue;u=f.prevValue;await n.notifyTableAndIndexSubscribers(v,u,t,s)}function w(a,b){if(c("gkx")("8367")){var d=b[0],e=b[1];e=o.beforeNotify({newValue:e,prevValue:d,tableName:a});d=e.newValue;a=e.prevValue;return[a,d]}else return b}await g.queueCommitWork(function(){n.notifyTableV2(e,"notifyTableV2",w);n.notifyTableV2(e,"notifyInMemoryTable",w);return Promise.resolve()});n.notifyCommit();if(b("cr:1088")){l=Date.now();f={broadcast:l,complete:k,flush:p,queue:i,start:j};b("cr:1088").recordRestoreTransaction(h,f,{changedKeys:e})}b("cr:1242")==null?void 0:b("cr:1242").mark(q,"broadcast_end");b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_start");c("setImmediate")(function(){b("cr:1242")==null?void 0:b("cr:1242").mark(q,"post_commit_end"),b("cr:1242")==null?void 0:b("cr:1242").end(q)});return r}var r=f==="background"&&c("MetaConfig")._("39")?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await r;r=L(e,f);c("promiseDone")(M());return r}f=d("LSDatabaseProviderType").hasPersistentType(a.types);c("ExecutionEnvironment").isInBrowser&&(!d("killswitchMessengerWebPersistedDB").check()&&c("MWTabNotifierWhenPDBEnabled")!=null&&f&&c("MWTabNotifierWhenPDBEnabled").onEventReceive("notifyInMemoryTable",function(b){c("promiseDone")(async function(){for(var c of b){var d=c[0],e=c[1];a.shouldApplySync("notifyInMemoryTable",d)&&await v(d,e)}n.notifyCommit()}())}));return{clearCacheIfSupported:function(){var a=g;a instanceof Object&&a.clearCache!==void 0&&a.clearCache instanceof Function&&a.clearCache()},closeDb:function(){var a=g;a instanceof Object&&a.close!==void 0&&a.close()},getTableData:function(){return e},persistenceTypes:a.types,runInTransaction:N,subscribeToCommit:function(a){return n.subscribeToCommit(a)},subscriptionManager:n,table:function(a){return l(u,a,function(){var b=new Map();return{entries:function(b,c,d){c===void 0&&(c="asc");return j(z(g.createTransaction("readonly"),b,a,void 0,c,d),t)},get:function(b,c){c===void 0&&(c=new WeakMap());return t.chainPromiseOrValue(function(d){return x(g.createTransaction("readonly"),c,a,void 0,b,d)})},index:function(c){return l(b,c,function(){return{entries:function(b,d,e){d===void 0&&(d="asc");return j(z(g.createTransaction("readonly"),b,a,c,d,e),t)},get:function(b,d){d===void 0&&(d=new WeakMap());return t.chainPromiseOrValue(function(e){return x(g.createTransaction("readonly"),d,a,c,b,e)})},getKey:function(b){return t.chainPromiseOrValue(function(d){return y(g.createTransaction("readonly"),new WeakMap(),a,c,b,d)})},keyLength:e.tableNames[a].indexes[c].length,subscribe:function(b,f,g){return n.subscribeIndex(a,c,b,d("ReQLBounds").extendBounds(f,e.tableNames[a].indexes[c]),g)}}})},keyLength:e.tableNames[a].primaryKeyIds.length,peekNextAutoIncrementId:function(){return t.chainPromiseOrValue(function(b){return B(g.createTransaction("readonly"),new WeakMap(),a,b)})},subscribe:function(b,c,f){return n.subscribeTable(a,b,d("ReQLBounds").extendBounds(c,e.tableNames[a].primaryKeyIds.length),f)}}})}}}function m(a,b){return c("ExecutionEnvironment").canUseDOM&&c("MetaConfig")._("27")?new Promise(function(d,e){var f=5e3;b.ref=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").catching(a).blameToPreviousFrame().mustfix("ReStore transaction took longer than %s ms to execute",f.toString()),e(a)},f)}):new Promise(function(){})}a.TransactionClosedError=e;g.default=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(){var a=b("Promise").resolve(),e=new Map();function f(a){return h(e,a,function(){return new Map()})}return{flush:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.forEach(function(a,b){var c=f(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})})});function c(b){return a.apply(this,arguments)}return c}(),get:function(a,b,c){a=f(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(c){return new(b("Promise"))(function(d,e){a=a.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d(yield c())}catch(a){e(a)}}))})},shouldApplySync:function(){return!1},shouldSync:function(){return!1},types:["ephemeral"]}}g["default"]=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","MAWLSVaultingHooks","MessengerLogHistory","ReStore","asyncToGeneratorRuntime","cr:6693"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("init_start");var a;if(b("cr:6693")!=null){try{h.debug("Creating EB State DB");var e=(yield b("cr:6693").makeEBStateDB());e!=null&&(a=c("ReStore")(e,d("LSMetadata").metadata,[c("MAWLSVaultingHooks")]))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}h.debug("EB State DB inited")}a==null&&(h.debug("Creating EDB"),a=c("LSJSInMemoryStorage")(d("LSMetadata").metadata),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return a});return i.apply(this,arguments)}g.createDB=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("1224637")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=d("I64").of_int32(1);e=d("I64").of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";a={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("LSIntEnum").ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),minTimeToSyncTimestampMs:d("LSIntEnum").ofNumber(-1),priority:d("LSIntEnum").ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSIntEnum").ofNumber(1),syncParams:JSON.stringify({locale:c("CurrentLocale").get()}),syncStatus:d("LSIntEnum").ofNumber(0)};b={epochId:void 0,failureCount:d("LSIntEnum").ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:d("LSIntEnum").ofNumber(0),lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:d("LSIntEnum").ofNumber(0),taskQueueName:""};e=d("LSIntEnum").ofNumber(9999999999999);g.defaultSyncGroup=a;g.defaultNetworkRequest=b;g.neverSyncTimestamp=e}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50});f["default"]=a}),66);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("CurrentMessengerUser").getIDorEIMU();return a.table("_user_info").put({facebookUserId:d("I64").of_string(b),id:d("LSIntEnum").ofNumber(1)})}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MAWGating","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();(d("MAWGating").isArmadillo()||c("gkx")("9017")===!0)&&!d("MAWGating").isOccamadilloResumeSyncEnabled()&&h.add(95);e=d("MAWGating").isArmadillo()||c("gkx")("9017")===!0?{groupId:95}:null;var i=[{groupId:1},{groupId:2},{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},{groupId:16},{groupId:28},{groupId:196},{groupId:198},c("qex")._("923")?{groupId:95}:null,{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}],j=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:16},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:5},{groupId:28},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:196},{groupId:104},{groupId:198},e,c("gkx")("2096")?{groupId:120}:null,c("qex")._("274")||c("gkx")("5849")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("2250")?{groupId:108}:null];function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return d("LSIntEnum").toNumber(a)});return b("Promise").all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||h.has(b.groupId))&&(yield a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:d("LSIntEnum").ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups")))),f=e.map(function(a){a=a.groupId;return d("LSIntEnum").toNumber(a)});function g(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||h.has(c))&&(yield a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:d("LSIntEnum").ofNumber(c)})))});return i.apply(this,arguments)}yield b("Promise").all(c.map(function(a){return a&&g(a)}))});return n.apply(this,arguments)}function o(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?i:j}function a(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=o(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield k(a,b);yield m(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return p.apply(this,arguments)}g.e2eeMetadataSyncGroup=e;g.igdSyncGroups=i;g.defaultSyncGroups=j;g.seedDb=a}),98);
__d("MWLSSchemaEphemeralProxy",["MWLSSchemaEphemeral"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("MWLSSchemaEphemeral")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("MWLSSchemaEphemeral")[a]})}),null);
__d("GetLsDatabase",["ExecutionEnvironment","FBLogger","LSDefaultSyncGroups","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MAWLogMultipleTabs","MWLSSchemaEphemeralProxy","MessengerLogHistory","Promise","asyncToGeneratorRuntime","cr:4489","cr:5774","cr:665","cr:7351","cr:757","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:757"))!=null?e:b("cr:7351"),i=c("gkx")("4471")&&c("gkx")("4463"),j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");a.debug("====Creating DB====");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield b("cr:4489").setupVaultMaterials(),b("cr:4489").listenToVaultMaterialsRequest(),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("support_check_start");var e=b("cr:5774").isSupported!=null?yield b("cr:5774").isSupported():!1;d("LSPlatformLsInitLog").addPoint("support_check_end",{bool:{using_pdb:e}});d("MAWLogMultipleTabs").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"));e&&self.navigator.locks==null&&c("FBLogger")("messenger_web_product").mustfix("PDB exposed to people without navigator.locks");a.debug("Connecting to DB");e=e?yield b("cr:5774").createDB():yield d("MWLSSchemaEphemeralProxy").createDB();a.debug("Connecting established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=i||h==null?[b("Promise").resolve(),b("Promise").resolve()]:[h.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield b("Promise").all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),k;function a(){k==null&&(k=c("ExecutionEnvironment").isInBrowser?j():new(b("Promise"))(function(){}));return k}g.get=a}),98);/*FB_PKG_DELIM*/
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707320575986334"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4945240752198545"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"6468835473184345",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6847407985278104"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"6256929834393764",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e}),children:h.jsx(c("TetraText.react"),{numberOfLines:1,type:"body3",children:String(f).toLowerCase()})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","ix","CometTypeaheadViewItem.react","TetraIcon.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo;function a(a){var b=a.entry,e=a.extraViewItemProps,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]);var g=k(function(){var a;return(a=e==null?void 0:e.placeholderBuilder)!=null?a:l},[e==null?void 0:e.placeholderBuilder]);return j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:j.jsx("div",{className:"x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe",children:j.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(i("491282"),16),size:16})}),children:j.jsx(c("TetraText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:g(f)})}))}a.displayName=a.name+" [from "+f.id+"]";function l(a){return h._("__JHASH__rcEEwxiDmS5__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a.toLowerCase())])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","ix","CometSearchRecentDataSourceDispatcherContext","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useState;function a(a){var b=a.entry;a=a.testid;var e=l(c("CometSearchRecentDataSourceDispatcherContext"));a=m(!1);var f=a[0],g=a[1];a=k(function(a){a&&a.type!=="press"&&a.stopPropagation(),g(!0),e==null?void 0:e.dispatchRemoveRecentEntry(b)},[b,e]);return j.jsx("div",{className:"x1qx5ct2 xw4jnvo","data-testid":void 0,children:j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__Im1kdkmyLZa__JHASH__"),color:"secondary",disabled:f,focusable:!1,icon:d("fbicon")._(i("478231"),12),onPress:a,size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b,testid:void 0})}),testid:void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.additionalEntryMappings,d=a.children,e=a.entry,f=a.fallbackViewItem;f=f===void 0?c("CometTypeaheadKeywordViewItem.react"):f;var g=a.seeAllLabelBuilder;a=h(function(){var a;return[].concat((a=b)!=null?a:[],i({seeAllLabelBuilder:g}))},[b,g]);a=a.find(function(a){a=a.resolver;return a(e)});if(a){var j=a.viewItem;a=a.viewItemProps;return d(j,a)}return d(f)}function i(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","cr:2417","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var d=a.additionalEntryMappings,e=a.getLinkProps,f=a.seeAllLabelBuilder;return i(function(a){var g=a.entry,i=a.queryString,j=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return h.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:d,entry:g,seeAllLabelBuilder:f,children:function(a,c){return h.jsx(a,babelHelpers["extends"]({},j,{debugElement:b("cr:2417")?h.jsx(b("cr:2417"),{entry:g,queryString:i}):null,entry:g,extraViewItemProps:c,linkProps:e==null?void 0:e({entry:g,queryString:i}),queryString:i}))}})},[d,e,f])}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","stylex","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.additionalEntryMappings,e=a.afterNullstateContent,f=a.emptyStateContent,g=a.getLinkProps,j=a.isScrollable,k=a.nullstateContent,l=a.onHeaderActionPress,m=a.scrollableXStyle,n=a.seeAllLabelBuilder,o=a.xstyle;a=c("useSearchCometTypeaheadViewItem")({additionalEntryMappings:b,getLinkProps:g,seeAllLabelBuilder:n});var p=c("useCometTypeaheadSectionedViewListStrategy")({emptyStateContent:f,nullstateContent:k,onHeaderActionPress:l,viewItemStrategyRenderer:a});return i(function(a){var b=a.ariaProps,f=a.entries,g=a.highlightedEntry,i=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=h.jsxs(h.Fragment,{children:[h.jsx(p,babelHelpers["extends"]({ariaProps:b,entries:f,highlightedEntry:g,isLoading:i,queryString:k},a)),e!=null&&k.length===0&&f.length>0?e:null]});g=k==="";return h.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx("div",{className:c("stylex")(o),"data-testid":void 0,children:j?h.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:m,children:b}):b})})},[p,e,j,m,o])}g["default"]=a}),98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:{actor_id:p!=null?p:void 0,search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a}}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){a=h(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);
__d("useCometSearchRoutingQueryString",["CometRouteParams"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("CometRouteParams").useRouteParams();return typeof a.q==="string"?a.q.trim():""}g["default"]=a}),98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.direct_nav_result,f=a.disambiguation_result;a=a.high_confidence_result;var g=[],i,j,k;if(e!=null){g=["direct_nav"];var l=e.ent_id,m=e.entity_type,n=e.img_url,o=e.link_url,p=e.snippet,q=e.title;e=e.type;k=q;i={direct_nav_result:{ent_id:l,entity_type:m,img_url:n,link_url:o,snippet:p,title:q,type:e}};j={stsDirectNavEntityID:l,stsDirectNavEntityType:m,stsDirectNavType:e}}if(a!=null){g=["high_confidence"];n=a.hcm_id;o=a.picture_url;p=a.snippet;q=a.source_as_enum;l=a.text;k=l;i={high_confidence_result:{hcm_id:n,picture_url:o,snippet:p,source_as_enum:q,text:l}};j={stsHighConfidenceID:n,stsHighConfidenceSource:q}}if(f!=null){g=["disambiguation"];m=f.disambiguation_info_list;e=f.title;k=e;i={disambiguation_result:{disambiguation_info_list:m,title:e}};j={stsDisambiguationType:m[0].type}}return{entryKey:i!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(i):null,extraLoggingInfo:j,label:k,markers:g,structuredInfo:i}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.entryKey,i=g.extraLoggingInfo,j=g.label,k=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var l=b.default_key,m=b.keys;b=b.tier;return{key:(h=(h=h)!=null?h:g&&(a==null?void 0:a.default_key))!=null?h:f,label:(a=j)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},i,{loggingID:(h=d)!=null?h:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(k))},rawData:{structuredInfo:g,suggestion_keys:b!=null?{default_key:l,keys:m,tier:b}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;a===((e=f.rawData.structuredInfo)==null?void 0:(e=e.direct_nav_result)==null?void 0:e.ent_id)&&this.$2.remove(f)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.entryKey,k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var n=b.default_key,o=b.keys;b=b.tier;return{key:(a=(j=(j=j)!=null?j:i&&(a==null?void 0:a.default_key))!=null?j:h)!=null?a:c("cometUniqueID")(),label:(a=(j=l)!=null?j:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},k,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(m))},rawData:{structuredInfo:i,suggestion_keys:b!=null?{default_key:n,keys:o,tier:b}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.keyBuilder,e=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(e),c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:d,limit:e}),c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})])}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d=c.entries,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b(g);h=h!=null?a.get(h):null;h!=null&&g.type==="section"&&(g.entries=g.entries.slice(0,h))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","gkx","killswitch","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,d){if(c("killswitch")("SEARCH_COMET_DISABLE_STS_DUPE_LOGGING"))return b;var e=new Map(),f=[];for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;var k=e.get(j.key);k!=null?i({caller:d,dupeEntry:j,existingEntry:k,strategy:a}):(e.set(j.key,j),f.push(j))}return f}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(var a=a,k=Array.isArray(a),l=0,a=k?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=a.length)break;m=a[l++]}else{l=a.next();if(l.done)break;m=l.value}m=m;i.push(m)}for(m=b,l=Array.isArray(m),k=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=m.length)break;a=m[k++]}else{k=m.next();if(k.done)break;a=k.value}b=a;a=[];for(var n=0;n<i.length;n++){var o=i[n];o!=null&&f(o,b)&&a.push(n)}o=a[0];n=o!=null?i[o]:null;if(n!=null&&!j.has(n)){n=g(n,b);i[o]=n;for(o=0;o<a.length;o++){var p=a[o],q=i[p];q!=null&&q!==n&&q!==g(q,b)&&(i[p]=null)}}else i.push(b)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._("__JHASH__EY5KKLiSk-O__JHASH__")})}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","qex","react","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useMemo;function a(a){var e=a.config,f=e.dataSources,g=f.bootstrapKeywordsDataSourceParams,j=f.keywordDataSourceParams,k=e.logging.sessionContext;f=e.view;var l=f.renderLimit,m=f.sectionLimits,n=a.recentDataSource,o=a.searchScopeEntityID,p=d("CometRelay").useRelayEnvironment(),q=i(function(){return g!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},g,{limit:l,relayEnvironment:p})):null},[g,l,p]),r=i(function(){return new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},j,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:l,onError:function(){return c("searchCometTypeaheadPushErrorToast")()},relayEnvironment:p}))},[j,l,p]),s=h(function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:l})},[l]),t=h(function(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")},[]),u=h(function(){var a;a=(a=c("qex")._("869"))!=null?a:!1;a||(q==null?void 0:q.bootstrap());n==null?void 0:n.bootstrap()},[q,n]),v=h(function(a,b){if(n==null)return;if(o==null){n.add(a,k,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:o},markers:e.markers};c={key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};n.add(c,k,b)},[k,n,o]),w=h(function(a){var b=a.query;if(b===""&&n!=null){var d=n.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:function(a){return a.type==="section"?a.subtype:null},limit:l,sectionLimits:m})}if(b==="")return{entries:[],params:a};if(q==null){e=r.fetchCache(a);return s(babelHelpers["extends"]({},e))}d=q.fetchCache(a);b=d.entries;e=d.params;if(b.length>=l)return s({entries:b,params:e});d=r.fetchCache(a);e=d.entries;a=d.params;d=t(b,e);return s({entries:d,params:a})},[q,s,t,r,l,n,m]),x=h(function(a){var d=a.query;if(d===""&&n!=null)return n.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:function(a){return a.type==="section"?a.subtype:null},limit:l,sectionLimits:m})});if(d==="")return b("Promise").resolve({entries:[],params:a});return q==null?r.fetchNetwork(a).then(function(a){return s(babelHelpers["extends"]({},a))}):r.fetchNetwork(a).then(function(b){var c=q.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=t(c,d);return s({entries:c,params:b})})},[q,s,t,r,l,n,m]),y=h(function(a,b){n!=null&&n.remove(a,b)},[n]);return i(function(){return{addRecentEntry:v,bootstrap:u,clearQueryCache:function(){return r.clearQueryCache()},clearRecentSearches:function(){return n==null?void 0:n.clear()},fetchCache:w,fetchNetwork:x,getBootstrapKeywordsDataSource:function(){return q},refreshRecentSearches:function(){return n==null?void 0:n.refresh()},removeRecentEntry:y}},[q,v,u,w,x,y,r,n])}g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){var a=e.prototype;a.$8=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?b("Promise").resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._("__JHASH__0ioTgLFUb4g__JHASH__"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};a.refresh=function(){this.$3=null,this.clear(),this.fetchNetwork({query:""})};return e}();g["default"]=a}),98);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._("__JHASH__QJCAJUEzrgs__JHASH__"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h.__typename==="%other")continue;var i=h.key,m=h.result;if(m==null||i==null)continue;m=m.header_text;if(h.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&m!=null){var n;d.push({entries:k((n=(n=a.viewer)==null?void 0:(n=n.recent_searches)==null?void 0:n.edges)!=null?n:[]),key:i,label:m,subtype:"recent_searches",type:"section"})}else if(h.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&m!=null)e={header_text:m,key:i};else if(h.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){n=e;m=n.header_text;i=n.key;d.push({entries:l(h),key:i,label:m,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{key:n,label:(n=l)!=null?n:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")(((a=a)!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=(f=f)!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:((d=f)!=null?d:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","useCometInternalTypeaheadFetch","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo;function a(a,b){var d=b.dataSource,e=b.shouldSubscribeToRecentSearches;return function(b){var f=b.inputRef,g=b.onPressEntry,l=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);var m=c("useCometInternalTypeaheadFetch")(),n=m.refetch;m=(m=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?m:{};var o=m.subscribeToRecentSearchEntryAdded;j(function(){if(e)return o==null?void 0:o(function(a){d.addRecentEntry(a)})},[o]);m=i(function(a){var b={key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};d.addRecentEntry(b);l&&l(a)},[l]);var p=i(function(a){var b,c=a.label,e=a.metaData;b=(b=e==null?void 0:e.markers)!=null?b:new Set();if(b.has("nullstate_explore")){g&&g(a);return}var f=new Set(["recent"]);b.has("entity")&&f.add("entity");b.has("direct_nav")&&f.add("direct_nav");b.has("high_confidence")&&f.add("high_confidence");a.subtype==="recent"?b=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):a.subtype==="bootstrap"||a.subtype==="keyword"?b=a.rawData:b={};e=(e=e==null?void 0:e.logging)!=null?e:{};var h=e.entityID,i=e.entityType,j=e.loggingInfo,k=e.stsDirectNavEntityID,l=e.stsDirectNavType,m=e.stsDisambiguationType,n=e.stsHighConfidenceID;e=e.stsHighConfidenceSource;d.addRecentEntry({key:c.toLocaleLowerCase(),label:c,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceID:n,stsHighConfidenceSource:e},markers:f},rawData:b,subtype:"recent",type:"entry"});g&&g(a)},[g]),q=i(function(a){d.removeRecentEntry(a,{onBeforeCommitMutation:function(){n({source:"cache"})}})},[n]),r=k(function(){return{dispatchRemoveRecentEntry:q}},[q]);return h.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:r,children:h.jsx(a,babelHelpers["extends"]({},b,{inputRef:f,onPressEntry:p,onSelectFreeformQuery:m}))})}}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){b===void 0&&(b=!0);return h(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,shouldSubscribeToRecentSearches:b}}},[a,b])}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,j=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return h(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:i,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:i,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:j}},relayEnvironment:k})},[l,e,f,g,k,j])}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadPressEntryHandler",["react","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.callback,d=a.loggingProvider,e=a.urlBuilder,f=c("useCometTypeaheadNavigate")();return h(function(a){var g=a.rawData;a=a.subtype==="your_group_activity"?g.url:e({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(a),query:a.label,stsDisambiguation:(g=c("searchCometTypeaheadGetStsDisambiguation")(a))!=null?g:void 0,typeaheadSessionID:d.getSessionID()});f(a);b&&b()},[e,d,f,b])}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadSelectFreeformQueryHandler",["react","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.callback,d=a.loggingProvider,e=a.urlBuilder,f=c("useCometTypeaheadNavigate")();return h(function(a){a=e({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:d.getSessionID()});f(a);b&&b()},[e,d,f,b])}g["default"]=a}),98);
__d("XCometGamingVideoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/video/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("ProfileCometRootLeftNavMenuQuery.graphql",["ProfileCometRootLeftNavMenuQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"userID"},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"id",variableName:"userID"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g=[{kind:"Literal",name:"supported",value:"3B25MI"}],h={kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometRootLeftNavMenuQuery_entityMenu",fragmentName:"ProfilePlusCometLeftNavEntityMenuRenderer_entityMenu",fragmentPropName:"entityMenu",kind:"ModuleImport"}],type:"XFBCometProfileProfilePlusEntityMenuRenderer",abstractKey:null},i=[f,d];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"ProfileCometRootLeftNavMenuQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d],storageKey:null}],storageKey:null},{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"if_viewer_can_login_as_profile_plus_with_acting_account",plural:!1,selections:[f],storageKey:null},{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_profile_entity_menu",plural:!1,selections:[h],storageKey:'comet_profile_entity_menu(supported:"3B25MI")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"ProfileCometRootLeftNavMenuQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"if_viewer_can_login_as_profile_plus_with_acting_account",plural:!1,selections:i,storageKey:null},{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_profile_entity_menu",plural:!1,selections:[f,h],storageKey:'comet_profile_entity_menu(supported:"3B25MI")'},d],storageKey:null}]},params:{id:b("ProfileCometRootLeftNavMenuQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometRootLeftNavMenuQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7624678927549011"}),null);
__d("ProfileCometTimelineTabAuxBannerRefetchQuery.graphql",["ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d=[{kind:"Variable",name:"id",variableName:"id"}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabAuxBannerRefetchQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTimelineTabAuxBanner_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"ProfileCometTimelineTabAuxBannerRefetchQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:"aux_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_AUX_COLUMN"},{kind:"Literal",name:"supported",value:"gP3AW"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCompletionMeterBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCompletionMeterBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometSOAPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometSOAPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusPinEventsBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusPinEventsBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusCometAdminlessOnboardingBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusCometAdminlessOnboardingBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometCreateBroadcastChannelQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCreateBroadcastChannelProfilePageQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_AUX_COLUMN",supported:"gP3AW")'}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineTabAuxBannerRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ProfileCometTimelineTabAuxBanner_user.graphql",["ProfileCometTimelineTabAuxBannerRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("ProfileCometTimelineTabAuxBannerRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTimelineTabAuxBanner_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:"aux_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_AUX_COLUMN"},{kind:"Literal",name:"supported",value:"gP3AW"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCompletionMeterBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCompletionMeterBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometSOAPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometSOAPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusPinEventsBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusPinEventsBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusCometAdminlessOnboardingBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusCometAdminlessOnboardingBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometCreateBroadcastChannelQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCreateBroadcastChannelProfilePageQPBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_AUX_COLUMN",supported:"gP3AW")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabFeedBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabFeedBanner_user",selections:[{alias:"feed_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_FEED_COLUMN"},{kind:"Literal",name:"supported",value:"3Bo1n8"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometTabFeedTransparencyInformBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"TransparencyInformContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometLockedProfileTryItBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"LockedProfileTryItBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometProfilePlusAdminComposer_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminComposer",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_FEED_COLUMN",supported:"3Bo1n8")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabTopBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabTopBanner_user",selections:[{alias:null,args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_TOP"},{kind:"Literal",name:"supported",value:"10EN4t"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfilePlusCometAdminNotice_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminNoticeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometTransparencyInformBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"TransparencyInformContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometAppealBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileAppealBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometBannerGeneric_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"FriendingCometProfilePYMKHScroll_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePYMKBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_TOP",supported:"10EN4t")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabTopOfMallBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabTopOfMallBanner_user",selections:[{alias:"top_of_mall_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_TOP_OF_MALL"},{kind:"Literal",name:"supported",value:"3A264O"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopOfMallBanner_user",fragmentName:"ProfilePlusTimelineTabTopOfMallQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusTimelineTabTopOfMallQPBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_TOP_OF_MALL",supported:"3A264O")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometHeaderQuery.graphql",["ProfileCometHeaderQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"selectedTab"},d={defaultValue:null,kind:"LocalArgument",name:"shouldUseFXIMProfilePicEditor"},e={defaultValue:null,kind:"LocalArgument",name:"userID"},f=[{kind:"Variable",name:"id",variableName:"userID"}],g=[{kind:"Literal",name:"supported",value:"3cUj4a"}],h={kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometHeaderQuery",fragmentName:"ProfileCometEntityConvergenceHeaderWrapper_profileHeaderRenderer",fragmentPropName:"profileHeaderRenderer",kind:"ModuleImport"}],type:"XFBProfileEntityConvergenceHeaderRenderer",abstractKey:null},i={kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometHeaderQuery",fragmentName:"ProfileCometEntityHeader_profileHeaderRenderer",fragmentPropName:"profileHeaderRenderer",kind:"ModuleImport"}],type:"XFBProfileCenterAlignedHeaderRenderer",abstractKey:null},j={kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometHeaderQuery",fragmentName:"ProfileCometCommunityPresenceHeader_profileHeaderRenderer",fragmentPropName:"profileHeaderRenderer",kind:"ModuleImport"}],type:"XFBProfileCommunityPresenceHeaderRenderer",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"ProfileCometHeaderQuery",selections:[{kind:"RequiredField",field:{alias:null,args:f,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"profile_header_renderer",plural:!1,selections:[h,i,j],storageKey:'profile_header_renderer(supported:"3cUj4a")'},action:"THROW",path:"user.profile_header_renderer"},{args:null,kind:"FragmentSpread",name:"useProfilePlusCPNSettingDialog_user"}],storageKey:null},action:"LOG",path:"user"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,e,d],kind:"Operation",name:"ProfileCometHeaderQuery",selections:[{alias:null,args:f,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"profile_header_renderer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h,i,j],storageKey:'profile_header_renderer(supported:"3cUj4a")'},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ProfilePlusPostTransitionModal",kind:"LinkedField",name:"profile_plus_post_transition_modal",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface",value:"PROFILE_COMET"}],kind:"ScalarField",name:"should_show_modal",storageKey:'should_show_modal(surface:"PROFILE_COMET")'}],storageKey:null}],storageKey:null}]},params:{id:b("ProfileCometHeaderQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometHeaderQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ProfileCometInfoReviewUnit_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometInfoReviewUnit_user",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1TeACA"}],concreteType:null,kind:"LinkedField",name:"profile_info_review_unit",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometInfoReviewUnit_user",fragmentName:"ProfileCometWizardNUX_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"ProfileWizardNUX",abstractKey:null}],storageKey:'profile_info_review_unit(supported:"1TeACA")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTileSection_profileTileSection.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"comet"}],b={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTileSection_profileTileSection",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ProfileTileViewsConnection",kind:"LinkedField",name:"profile_tile_views",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileView",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometTileView_profileTileView"}],storageKey:null}],storageKey:null},action:"THROW",path:"profile_tile_views"},{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pinned_profile_feature",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{kind:"RequiredField",field:b,action:"THROW",path:"title.text"}],storageKey:null},action:"THROW",path:"title"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"ProfileCardNuxTooltip",kind:"LinkedField",name:"nux_tooltip",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTile_profileCardNuxTooltip"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"action_menu",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTile_actionMenu"}],storageKey:'action_menu(site:"comet")'}],type:"ProfileTileSection",abstractKey:null}}();e.exports=a}),null);
__d("ProfileCometTileView_profileTileView.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTileView_profileTileView",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"2wmjFt"}],concreteType:null,kind:"LinkedField",name:"view_style_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileIntroBioView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileContextListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileHobbiesView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewHobbiesRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePhotoGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPhotoGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFriendGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFriendGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFundraisersView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFundraisersRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileLifeEventsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewLifeEventsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFunFactsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFunFactsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFeaturedHighlightsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFeaturedHighlightsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFallbackView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFallbackRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileShopCardView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewShopCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileMenuGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewMenuGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileSameNameListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewSameNameListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileCellListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewCellListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileEventsListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewEventsListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileBloodDonationsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewBloodDonationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePremiumContentView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPremiumContentRenderer",abstractKey:null}],storageKey:'view_style_renderer(supported:"2wmjFt")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3xbKdp"}],concreteType:null,kind:"LinkedField",name:"view_style_edit_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroBioAddButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroDetailsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditAboutContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometHobbiesEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditHobbiesRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometFeaturedHighlightsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditFeaturedHighlightsRenderer",abstractKey:null}],storageKey:'view_style_edit_renderer(supported:"3xbKdp")'}],type:"ProfileTileView",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTilesFeedPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23929790286612199"}),null);
__d("ProfileCometTilesFeedPaginationQuery.graphql",["ProfileCometTilesFeedPaginationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:2,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"cursor"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},h=[{kind:"Variable",name:"id",variableName:"id"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"render_location",variableName:"renderLocation"}],l=[{kind:"Literal",name:"site",value:"comet"}],m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n=[m];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"ProfileCometTilesFeedPaginationQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"}],kind:"FragmentSpread",name:"ProfileCometTilesFeed_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,e,f,g,d],kind:"Operation",name:"ProfileCometTilesFeedPaginationQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j,{kind:"InlineFragment",selections:[{alias:null,args:k,concreteType:"ProfileTileSectionsConnection",kind:"LinkedField",name:"profile_tile_sections",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileSectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProfileTileSection",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{alias:null,args:null,concreteType:"ProfileTileViewsConnection",kind:"LinkedField",name:"profile_tile_views",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileView",kind:"LinkedField",name:"nodes",plural:!0,selections:[j,{alias:null,args:[{kind:"Literal",name:"supported",value:"2wmjFt"}],concreteType:null,kind:"LinkedField",name:"view_style_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileIntroBioView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileContextListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileHobbiesView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewHobbiesRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePhotoGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPhotoGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFriendGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFriendGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFundraisersView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFundraisersRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileLifeEventsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewLifeEventsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFunFactsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFunFactsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFeaturedHighlightsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFeaturedHighlightsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFallbackView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFallbackRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileShopCardView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewShopCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileMenuGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewMenuGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileSameNameListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewSameNameListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileCellListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewCellListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileEventsListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewEventsListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileBloodDonationsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewBloodDonationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePremiumContentView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPremiumContentRenderer",abstractKey:null}],storageKey:'view_style_renderer(supported:"2wmjFt")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3xbKdp"}],concreteType:null,kind:"LinkedField",name:"view_style_edit_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroBioAddButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroDetailsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditAboutContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometHobbiesEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditHobbiesRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometFeaturedHighlightsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditFeaturedHighlightsRenderer",abstractKey:null}],storageKey:'view_style_edit_renderer(supported:"3xbKdp")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:l,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pinned_profile_feature",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ProfileCardNuxTooltip",kind:"LinkedField",name:"nux_tooltip",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"action_menu",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isProfileTileActionMenu"},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTile_actionMenu",fragmentName:"ProfileCometTileShopActionMenuPopoverTrigger_actionMenu",fragmentPropName:"actionMenu",kind:"ModuleImport"}],type:"ShopProfileTileActionMenu",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTile_actionMenu",fragmentName:"ProfileCometTileAdminedGroupsActionMenuPopoverTrigger_actionMenu",fragmentPropName:"actionMenu",kind:"ModuleImport"}],type:"AdminedGroupsProfileTileActionMenu",abstractKey:null}],storageKey:'action_menu(site:"comet")'},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:k,filters:["render_location"],handle:"connection",key:"ProfileCometTilesFeed_profile_tile_sections",kind:"LinkedHandle",name:"profile_tile_sections"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTilesFeedPaginationQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTilesFeedPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ProfileCometTilesFeed_user.graphql",["ProfileCometTilesFeedPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["profile_tile_sections"];return{argumentDefinitions:[{defaultValue:2,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("ProfileCometTilesFeedPaginationQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTilesFeed_user",selections:[{alias:"profile_tile_sections",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"}],concreteType:"ProfileTileSectionsConnection",kind:"LinkedField",name:"__ProfileCometTilesFeed_profile_tile_sections_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileSectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProfileTileSection",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometTileSection_profileTileSection"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("ProfileCometTilesFeed_userIsPage.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTilesFeed_userIsPage",selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_plus_should_show_page_insights_disclaimer_link",storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineFeedQuery.graphql",["IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesRing.relayprovider","CometFeedUnit_feedUnit$normalization.graphql","ProfileCometTimelineFeedQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},c={defaultValue:null,kind:"LocalArgument",name:"afterTime"},d={defaultValue:null,kind:"LocalArgument",name:"beforeTime"},e={defaultValue:3,kind:"LocalArgument",name:"count"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},i={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},j={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},k={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},l={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},m={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},n={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},o={defaultValue:null,kind:"LocalArgument",name:"memorializedSplitTimeFilter"},p={defaultValue:null,kind:"LocalArgument",name:"omitPinnedPost"},q={defaultValue:null,kind:"LocalArgument",name:"postedBy"},r={defaultValue:null,kind:"LocalArgument",name:"privacy"},s={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},t={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},u={defaultValue:null,kind:"LocalArgument",name:"scale"},v={defaultValue:!0,kind:"LocalArgument",name:"shouldShowProfilePinnedPost"},w={defaultValue:1,kind:"LocalArgument",name:"stream_count"},x={defaultValue:null,kind:"LocalArgument",name:"taggedInOnly"},y={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},z={defaultValue:null,kind:"LocalArgument",name:"userID"},A=[{kind:"Variable",name:"id",variableName:"userID"}],B={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},C=[{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],D=[B];return{fragment:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeedQuery",selections:[{kind:"RequiredField",field:{alias:null,args:A,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"stream_count",variableName:"stream_count"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_user"},{args:[{kind:"Variable",name:"should_show_profile_pinned_post",variableName:"shouldShowProfilePinnedPost"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_aux"}],storageKey:null},action:"THROW",path:"user"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,k,f,h,i,j,l,m,n,o,q,r,s,u,w,x,p,t,v,y,z,a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesRingrelayprovider"}],kind:"Operation",name:"ProfileCometTimelineFeedQuery",selections:[{alias:null,args:A,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[B,{alias:"timeline_list_feed_units",args:C,concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"timeline_feed_units",plural:!1,selections:[{"if":null,kind:"Stream",label:"ProfileCometTimelineFeed_user$stream$ProfileCometTimelineFeed_user_timeline_list_feed_units",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{args:null,fragment:b("CometFeedUnit_feedUnit$normalization.graphql"),kind:"FragmentSpread"},{kind:"InlineFragment",selections:D,type:"Story",abstractKey:null},{kind:"InlineFragment",selections:D,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:D,type:"CommunityTabNewJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:D,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:D,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:D,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":null,kind:"Defer",label:"ProfileCometTimelineFeed_user$defer$ProfileCometTimelineFeed_user_timeline_list_feed_units$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"timeline_list_feed_units",args:C,filters:["after_time","before_time","posted_by","privacy","tagged_in_only","memorialized_split_time_filter","omit_pinned_post"],handle:"connection",key:"ProfileCometTimelineFeed_user_timeline_list_feed_units",kind:"LinkedHandle",name:"timeline_feed_units"},{condition:"shouldShowProfilePinnedPost",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"ProfilePinnedPost",kind:"LinkedField",name:"profile_pinned_post",plural:!1,selections:[{args:null,documentName:"ProfileCometTimelineFeed_aux",fragmentName:"ProfileCometPinnedPostSection_profile_pinned_post",fragmentPropName:"profile_pinned_post",kind:"ModuleImport"},B],storageKey:null}]}],storageKey:null}]},params:{id:b("ProfileCometTimelineFeedQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineFeedQuery",operationKind:"query",text:null,providedVariables:g}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6478864315531246"}),null);
__d("ProfileCometTimelineFeedRefetchQuery.graphql",["IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesRing.relayprovider","CometFeedUnit_feedUnit$normalization.graphql","ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},c={defaultValue:null,kind:"LocalArgument",name:"afterTime"},d={defaultValue:null,kind:"LocalArgument",name:"beforeTime"},e={defaultValue:3,kind:"LocalArgument",name:"count"},f={defaultValue:null,kind:"LocalArgument",name:"cursor"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},i={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},j={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},k={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},l={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},m={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},n={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},o={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},p={defaultValue:null,kind:"LocalArgument",name:"id"},q={defaultValue:null,kind:"LocalArgument",name:"memorializedSplitTimeFilter"},r={defaultValue:null,kind:"LocalArgument",name:"omitPinnedPost"},s={defaultValue:null,kind:"LocalArgument",name:"postedBy"},t={defaultValue:null,kind:"LocalArgument",name:"privacy"},u={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},v={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},w={defaultValue:null,kind:"LocalArgument",name:"scale"},x={defaultValue:1,kind:"LocalArgument",name:"stream_count"},y={defaultValue:null,kind:"LocalArgument",name:"taggedInOnly"},z={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},A=[{kind:"Variable",name:"id",variableName:"id"}],B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},D=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],E=[C];return{fragment:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeedRefetchQuery",selections:[{alias:null,args:A,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"stream_count",variableName:"stream_count"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z,p,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesRingrelayprovider"}],kind:"Operation",name:"ProfileCometTimelineFeedRefetchQuery",selections:[{alias:null,args:A,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,C,{kind:"InlineFragment",selections:[{alias:"timeline_list_feed_units",args:D,concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"timeline_feed_units",plural:!1,selections:[{"if":null,kind:"Stream",label:"ProfileCometTimelineFeed_user$stream$ProfileCometTimelineFeed_user_timeline_list_feed_units",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{args:null,fragment:b("CometFeedUnit_feedUnit$normalization.graphql"),kind:"FragmentSpread"},{kind:"InlineFragment",selections:E,type:"Story",abstractKey:null},{kind:"InlineFragment",selections:E,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:E,type:"CommunityTabNewJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:E,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:E,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:E,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":null,kind:"Defer",label:"ProfileCometTimelineFeed_user$defer$ProfileCometTimelineFeed_user_timeline_list_feed_units$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"timeline_list_feed_units",args:D,filters:["after_time","before_time","posted_by","privacy","tagged_in_only","memorialized_split_time_filter","omit_pinned_post"],handle:"connection",key:"ProfileCometTimelineFeed_user_timeline_list_feed_units",kind:"LinkedHandle",name:"timeline_feed_units"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineFeedRefetchQuery",operationKind:"query",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("ProfileCometTimelineFeed_aux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"should_show_profile_pinned_post"}],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeed_aux",selections:[{condition:"should_show_profile_pinned_post",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"ProfilePinnedPost",kind:"LinkedField",name:"profile_pinned_post",plural:!1,selections:[{args:null,documentName:"ProfileCometTimelineFeed_aux",fragmentName:"ProfileCometPinnedPostSection_profile_pinned_post",fragmentPropName:"profile_pinned_post",kind:"ModuleImport"}],storageKey:null}]}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineFeed_user.graphql",["ProfileCometTimelineFeedRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["timeline_list_feed_units"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{kind:"RootArgument",name:"afterTime"},{kind:"RootArgument",name:"beforeTime"},{defaultValue:3,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"focusCommentID"},{kind:"RootArgument",name:"memorializedSplitTimeFilter"},{kind:"RootArgument",name:"omitPinnedPost"},{kind:"RootArgument",name:"postedBy"},{kind:"RootArgument",name:"privacy"},{kind:"RootArgument",name:"privacySelectorRenderLocation"},{kind:"RootArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:1,kind:"LocalArgument",name:"stream_count"},{kind:"RootArgument",name:"taggedInOnly"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a,stream:!0}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("ProfileCometTimelineFeedRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTimelineFeed_user",selections:[{kind:"RequiredField",field:c,action:"LOG",path:"id"},{kind:"RequiredField",field:{alias:"timeline_list_feed_units",args:[{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"__ProfileCometTimelineFeed_user_timeline_list_feed_units_connection",plural:!1,selections:[{kind:"Stream",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[c],type:"Story",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{kind:"Defer",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},action:"THROW",path:"timeline_list_feed_units"}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("CometProfilePlusPostTransitionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8421391937872664"}),null);
__d("CometProfilePlusPostTransitionDialogQuery$Parameters",["CometProfilePlusPostTransitionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometProfilePlusPostTransitionDialogQuery_facebookRelayOperation"),metadata:{},name:"CometProfilePlusPostTransitionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useProfilePlusCPNSettingDialog_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProfilePlusCPNSettingDialog_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,concreteType:"ProfilePlusPostTransitionModal",kind:"LinkedField",name:"profile_plus_post_transition_modal",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface",value:"PROFILE_COMET"}],kind:"ScalarField",name:"should_show_modal",storageKey:'should_show_modal(surface:"PROFILE_COMET")'}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometRootLeftNavMenu.react",["CometRelay","CometRouteParams","ProfileCometRootLeftNavMenuQuery.graphql","ProfilePlusIntentBasedSwitchingDialog.entrypoint","RelayHooks","XCometProfileControllerRouteBuilder","gkx","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef;function a(a){var e=a.hideNavButton,f=a.leftNavEntityMenuQueryRef,g=a.userID;a=d("RelayHooks").usePreloadedQuery(h!==void 0?h:h=b("ProfileCometRootLeftNavMenuQuery.graphql"),f);f=d("CometRouteParams").useRouteParams();f=f==null?void 0:f.modal;var m=l(!1),n=c("useCometEntryPointDialog")(c("ProfilePlusIntentBasedSwitchingDialog.entrypoint"),{otherParams:{queryAllEligibleProfiles:!0},routeParams:{id:g}}),o=n[0],p=j(function(){return c("XCometProfileControllerRouteBuilder").buildURL({id:g})},[g]),q=f==="focused_switcher_dialog"&&(a==null?void 0:(n=a.user)==null?void 0:n.if_viewer_can_login_as_profile_plus_with_acting_account)!=null&&(a==null?void 0:(n=a.viewer)==null?void 0:(n=n.actor)==null?void 0:n.id)!==g&&c("gkx")("1847");k(function(){m.current===!1&&(q&&(o({destinationUrlCallback:p,showAllProfileOptions:!1,traceAPIOrigin:"profile_focused_switcher_auto_open"}),m.current=!0))},[f,p,q,o,g]);return i.jsx(d("CometRelay").MatchContainer,{match:(n=a.user)==null?void 0:n.comet_profile_entity_menu,props:{hideNavButton:e}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineTabAuxBanner.react",["CometRelay","ProfileCometTimelineTabAuxBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").startTransition;function a(a){a=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("ProfileCometTimelineTabAuxBanner_user.graphql"),a.user);var c=a[0],e=a[1];return i.jsx(d("CometRelay").MatchContainer,{match:c==null?void 0:c.aux_banner,props:{refetchProfileTopOfSideColumnBanner:function(){if(c==null)return;j(function(){e({id:c.id},{fetchPolicy:"network-only"})})}}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineTabFeedBanner.react",["CometRelay","ProfileCometTimelineTabFeedBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometTimelineTabFeedBanner_user.graphql"),a.user);return i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.feed_banner})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineTabTopBanner.react",["CometErrorBoundary.react","CometRelay","ProfileCometTimelineTabTopBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometTimelineTabTopBanner_user.graphql"),a.user);return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(d("CometRelay").MatchContainer,{match:a.comet_profile_banner})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineTabTopOfMallBanner.react",["CometRelay","ProfileCometTimelineTabTopOfMallBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometTimelineTabTopOfMallBanner_user.graphql"),a.user);return i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.top_of_mall_banner})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfilePlusPostTransitionDialog.entrypoint",["CometProfilePlusPostTransitionDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.profileID;return{queries:{postTransitionDialogQuery:{parameters:b("CometProfilePlusPostTransitionDialogQuery$Parameters"),variables:{profileID:a}}}}},root:c("JSResourceForInteraction")("CometProfilePlusPostTransitionDialog.react").__setRef("CometProfilePlusPostTransitionDialog.entrypoint")};g["default"]=a}),98);
__d("useProfilePlusCPNSettingDialog",["CometProfilePlusPostTransitionDialog.entrypoint","CometRelay","react","useCometEntryPointDialog","useProfilePlusCPNSettingDialog_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useRef;function a(a){var e;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useProfilePlusCPNSettingDialog_user.graphql"),a);var f=j(!1),g=(a==null?void 0:(e=a.profile_plus_post_transition_modal)==null?void 0:e.should_show_modal)===!0;e=c("useCometEntryPointDialog")(c("CometProfilePlusPostTransitionDialog.entrypoint"),{profileID:a==null?void 0:a.id});var k=e[0];i(function(){!f.current&&g&&(k({}),f.current=!0)},[g,k])}g["default"]=a}),98);
__d("ProfileCometHeader.react",["CometRelay","ProfileCometHeaderQuery.graphql","react","useProfilePlusCPNSettingDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.headerQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("ProfileCometHeaderQuery.graphql"),a);c("useProfilePlusCPNSettingDialog")(a==null?void 0:a.user);return i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:(a=a.user)==null?void 0:a.profile_header_renderer})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometInfoReviewUnitGlimmer.react",["CometGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bottomRow:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},button:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xc9qbxq",width:"x13oubkp",$$css:!0},content:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",$$css:!0},ctaButton:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xc9qbxq",width:"x1247r65",$$css:!0},ctaSpacing:{marginEnd:"xq8finb",$$css:!0},ctaTray:{display:"x78zum5",justifyContent:"x13a6bvl",width:"x3hqpx7",$$css:!0},formContent:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",height:"xpyat2d",marginBottom:"x1yztbdb",$$css:!0},title:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xxk0z11",marginBottom:"x1yztbdb",width:"x2pejg6",$$css:!0}};function a(a,b){return h.jsxs("div",{className:"xyamay9 x1pi30zi x1l90r2v x1swvt13",children:[h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.title}),h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.formContent}),h.jsxs("div",{className:"x78zum5 x1qughib",children:[h.jsx(c("CometGlimmer.react"),{index:2,xstyle:i.button}),h.jsxs("div",{className:"x78zum5 x13a6bvl x3hqpx7",children:[h.jsx(c("CometGlimmer.react"),{index:3,xstyle:[i.ctaButton,i.ctaSpacing]}),h.jsx(c("CometGlimmer.react"),{index:4,xstyle:i.ctaButton})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("ProfileCometInfoReviewUnit.react",["CometCard.react","CometPlaceholder.react","CometRelay","ProfileCometInfoReviewUnitGlimmer.react","ProfileCometInfoReviewUnit_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState;function a(a){a=a.user;a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometInfoReviewUnit_user.graphql"),a);var e=j(!0),f=e[0];e=e[1];a=a==null?void 0:a.profile_info_review_unit;return a==null||!f?null:i.jsx("div",{className:"x1yztbdb",children:i.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("ProfileCometInfoReviewUnitGlimmer.react"),{}),children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:{setIsVisible:e}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTileView.react",["CometRelay","CometRow.react","CometRowItem.react","ProfileCometTileView_profileTileView.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.hasDisabledInteractivity;e=e===void 0?!1:e;a=a.profileTileView;a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometTileView_profileTileView.graphql"),a);var f=a.view_style_edit_renderer,g=a.view_style_renderer,j=null;g!=null?j=i.jsx(d("CometRelay").MatchContainer,{match:g,props:{hasDisabledInteractivity:e}}):f!=null&&(j=i.jsx(d("CometRelay").MatchContainer,{match:f,props:{profileTileViewID:a.id}}));return j&&i.jsx(c("CometRow.react"),{paddingHorizontal:16,children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTileSection.react",["fbt","ix","CometErrorBoundary.react","CometLink.react","CometRelay","ProfileCometContext","ProfileCometEngagementLoggingContext","ProfileCometTile.react","ProfileCometTileSection_profileTileSection.graphql","ProfileCometTileView.react","ProfileCometUtils","TetraIcon.react","fbicon","mergeRefs","react","useCometDisplayTimingTracker","useProfileCometEngagementEventsClickCallback","useProfileCometEngagementEventsImpression","useProfileEngagementClickCallback","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useContext,m=e.useMemo;function n(a){switch(a){case"CHANNELS":return"channels";case"FRIENDS":return"friends";case"INTRO":return"intro_card";case"LIFE_EVENTS":return"life_events";case"MUSIC":return"music";case"PHOTOS":return"photos";case"THINGS_IN_COMMON":return"things_in_common";default:return"unknown"}}function o(a){switch(a){case"ADMINED_GROUPS":return"groups";case"FRIENDS":return"friends";case"FUNDRAISERS":return"fundraisers";case"INTRO":return"intro_card";case"LIFE_EVENTS":return"life_events";case"MUSIC":return"music";case"PHOTOS":return"photos";case"THINGS_IN_COMMON":return"things_in_common";case"UPCOMING_HOSTED_EVENTS":return"events";default:return"unknown"}}function a(a){a=a.profileTileSection;a=d("CometRelay").useFragment(j!==void 0?j:j=b("ProfileCometTileSection_profileTileSection.graphql"),a);var e=a.action_link,f=a.action_menu,g=a.is_pinned_profile_feature,p=a.nux_tooltip,q=a.profile_tile_section_type,r=a.profile_tile_views,s=a.subtitle,t=a.title;a=a.url;var u=l(c("ProfileCometContext")),v=u.profileID;u=u.viewerID;v=d("ProfileCometUtils").isViewingSelfProfile(v,u);u=m(function(){return{profile_product_bucket:n(q),profile_subsurface:"protile",profile_surface:"timeline"}},[q]);var w=c("useProfileEngagementImpression")(u),x=c("useCometDisplayTimingTracker")("ProfileTile"),y=c("useProfileEngagementClickCallback")(babelHelpers["extends"]({},u,{profile_item_subtype:"see_all"})),z=m(function(){return{profile_feature:g===!0?"pinned_feature":o(q),profile_section:"posts_tab"}},[g,q]),A=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},z,{event_metadata:{unit_name:o(q)},feature_item:"see_all"})),B=c("useProfileCometEngagementEventsImpression")(babelHelpers["extends"]({},z,{event_metadata:{is_self_view:v?"true":"false",unit_name:o(q)},event_type:"vpv",feature_item:g===!0?"pinned_protile":"protile"}));z=m(function(){return c("mergeRefs")(w,x,B)},[w,x,B]);v=t.text;g===!0&&(v=k.jsxs("div",{className:"x6s0dn4 x78zum5",children:[k.jsx("div",{className:"x6s0dn4 x78zum5 x1emribx",children:k.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("511755"),16)})}),t.text]}));t=null;var C=function(){},D=void 0;if(a!=null||(e==null?void 0:e.url)!=null){var E;v=k.jsx(c("CometLink.react"),{href:a,onClick:y,routeTarget:"self",children:v});t=(E=e==null?void 0:e.title)!=null?E:h._("__JHASH__7GaMAm2TOqG__JHASH__");D={passthroughProps:{onClick:y},routeTarget:"self",url:(E=a)!=null?E:e==null?void 0:e.url};C=function(){y(),A()}}a=r.nodes.map(function(a){return k.jsx(c("ProfileCometTileView.react"),{profileTileView:a},a.id)});return k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("ProfileCometEngagementLoggingContext").Provider,{value:u,children:k.jsx("div",{"data-testid":void 0,children:k.jsx(c("ProfileCometTile.react"),{action:t,actionLinkProps:D,actionMenu:f,body:s==null?void 0:s.text,headline:v,nuxRef:p,onActionPress:C,ref:z,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTilesFeed.react",["CometHero.react","CometHeroHoldTrigger.react","CometHeroInteractionContextPassthrough.react","CometInfiniteScrollTrigger.react","CometPagelet.react","CometPlaceholder.react","CometRelay","ProfileCometTileSection.react","ProfileCometTileSectionGlimmer.react","ProfileCometTilesFeed_user.graphql","ProfileCometTilesFeed_userIsPage.graphql","deferredLoadComponent","react","recoverableViolation","requireDeferred","useHasDemonstratedScrollIntent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useCallback,l=c("deferredLoadComponent")(c("requireDeferred")("CometLegalFooter.react").__setRef("ProfileCometTilesFeed.react")),m=2,n=h!==void 0?h:h=b("ProfileCometTilesFeed_user.graphql"),o=i!==void 0?i:i=b("ProfileCometTilesFeed_userIsPage.graphql");function a(a){var b=a.shouldShowFooter;b=b===void 0?!0:b;var e=a.user;a=a.userPageInfo;e=d("CometRelay").usePaginationFragment(n,e);var f=e.data,g=e.hasNext,h=e.isLoadingNext,i=e.loadNext;e=d("CometRelay").useFragment(o,a);a=d("CometRelay").useIsParentQueryActive(n,a);f=f==null?void 0:f.profile_tile_sections;var p=f==null?void 0:f.edges;f=(f=f==null?void 0:(f=f.page_info)==null?void 0:f.has_next_page)!=null?f:!1;h=h||a;a=k(function(a){i(m)},[i]);var q=c("useHasDemonstratedScrollIntent")();return p==null||p.length===0?null:j.jsxs("div",{"data-testid":void 0,children:[j.jsx(c("CometHero.react"),{description:"TileSection"}),p.map(function(a,b){a=a.node;if(!a)return null;var e=a.profile_tile_section_type;if(e===null){c("recoverableViolation")("Expected a profile tile section type","profile_comet");return null}return j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:b>=2,children:j.jsx(d("CometPagelet.react").Placeholder,{fallback:j.jsx(c("ProfileCometTileSectionGlimmer.react"),{}),name:"ProfileTilesFeed",position:b,children:j.jsx(c("ProfileCometTileSection.react"),{profileTileSection:a})})},e!=null?e:b)}).filter(Boolean),f&&j.jsxs(c("CometInfiniteScrollTrigger.react"),{hasMore:g,isLoading:h,onLoadMore:a,rootMargin:q?2500:0,children:[j.jsx(c("CometHeroHoldTrigger.react"),{description:"Tiles Pagination",hold:h}),j.jsx(c("ProfileCometTileSectionGlimmer.react"),{})]},"loader"),!f&&b===!0&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{isPage:(e==null?void 0:e.profile_plus_should_show_page_insights_disclaimer_link)===!0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useProfileCometTimelineFeedQueryRefetcherForFilters",["ProfileCometTimelineFilterContext","ProgressiveDateUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.fetchCount,e=a.refetch;a=a.variables;var f=a.userID;a=babelHelpers.objectWithoutPropertiesLoose(a,["userID"]);var g=j(a);a=k(!1);var l=a[0],m=a[1],n=j(!0),o=j(e),p=j(b),q=j(f);o.current=e;p.current=b;q.current=f;a=h(c("ProfileCometTimelineFilterContext"));var r=a.state,s=d("ProgressiveDateUtil").toLatestTimestamp(r.date),t=j({dispose:function(){}});i(function(){if(n.current){n.current=!1;return}if(c("gkx")("2684")&&!r.hasBeenChanged)return;var a;switch(r.postedBy){case"ANYONE":a=null;break;case"OTHERS":a={group:"NON_OWNER"};break;case"YOU":a={group:"OWNER"};break}var b;switch(r.privacy){case"PUBLIC":b={exclusivity:"EXCLUSIVE",filter:"PUBLIC"};break;case"FRIENDS":b={exclusivity:"EXCLUSIVE",filter:"FRIENDS"};break;case"ONLY_ME":b={exclusivity:"EXCLUSIVE",filter:"SELF"};break;case"ALL":b={exclusivity:"INCLUSIVE",filter:"ALL"};break}var d=r.taggedPosts==="TAGGED";m(!0);t.current.dispose();t.current=o.current(babelHelpers["extends"]({},g.current,{beforeTime:s,count:p.current,id:q.current,postedBy:a,privacy:b,taggedInOnly:d}),{fetchPolicy:"store-and-network",onComplete:function(){m(!1)}})},[s,r.hasBeenChanged,r.postedBy,r.privacy,r.taggedPosts]);return l}g["default"]=a}),98);
__d("ProfileCometTimelineFeed.react",["fbt","CometDOMOnlyBoundary.react","CometFeedInfiniteScrollSuspenseList.react","CometFeedSection.react","CometFeedUnit.react","CometHeroFeedItem.react","CometRelay","ProfileCometTimelineEmptyState.react","ProfileCometTimelineFeed_aux.graphql","ProfileCometTimelineFeed_user.graphql","react","useCometFeedKeyCommands","useNullthrowsViolation","useProfileCometTimelineFeedQueryRefetcherForFilters","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useRef,n=3;function o(a){var b=a.node,d=a.position;a=a.variables;var e={profile_item_type:"story",profile_product_bucket:"timeline",profile_subsurface:"feed",profile_surface:"timeline"};e=c("useProfileEngagementImpression")(e);return k.jsx("div",{ref:e,children:k.jsx(c("CometFeedUnit.react"),{feedUnit:b,position:d,variables:a})})}o.displayName=o.name+" [from "+f.id+"]";var p=i!==void 0?i:i=b("ProfileCometTimelineFeed_user.graphql");function a(a){var e=a.user,f=a.variables;a=d("CometRelay").usePaginationFragment(p,e);var g=a.data,i=a.hasNext,q=a.isLoadingNext,r=a.loadNext;a=a.refetch;var s=d("CometRelay").useFragment(j!==void 0?j:j=b("ProfileCometTimelineFeed_aux.graphql"),e);e=d("CometRelay").useIsParentQueryActive(p,e);var t=i||e,u=m({dispose:function(){}}),v=c("useProfileCometTimelineFeedQueryRefetcherForFilters")({fetchCount:n,refetch:a,variables:f});v&&u.current.dispose();a=q||e||v;e=l(function(a){if(!i||q||v)return;u.current=r(n)},[i,q,v,r]);g=c("useNullthrowsViolation")(g==null?void 0:g.timeline_list_feed_units.edges);c("useCometFeedKeyCommands")(g.length,"timeline");var w=s==null?void 0:s.profile_pinned_post,x=k.jsx(c("CometDOMOnlyBoundary.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:w,props:{variables:f}})});if(g.length===0)return(s==null?void 0:s.profile_pinned_post)!=null?x:k.jsx(c("ProfileCometTimelineEmptyState.react"),{});var y=0;s=k.jsx(c("CometFeedInfiniteScrollSuspenseList.react"),{hasMore:t,interactionSource:3,isLoading:a,onLoadMore:e,waitOnScrollIntent:!0,children:g.map(function(a,b){var d;a=a.node;return a!=null?k.jsx(c("CometHeroFeedItem.react"),{position:y,children:k.jsx(o,{node:a,position:y++,variables:f},(d=a.id)!=null?d:b)},a.id!=null?a.id:b):null})});return k.jsxs(k.Fragment,{children:[x,w?k.jsx(c("CometFeedSection.react"),{sectionContents:s,title:h._("__JHASH__4565CAjCg0X__JHASH__")}):s]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimeline.react",["CometErrorBoundary.react","CometFeedUnitSetDebugInfoContextProvider.react","CometHero.react","CometRelay","ProfileCometTimelineError.react","ProfileCometTimelineFeed.react","ProfileCometTimelineFeedQuery.graphql","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");function a(a){a=a.timelineFeedQueryReference;var e=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("ProfileCometTimelineFeedQuery.graphql"),a);e=e.user;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("ProfileCometTimelineError.react"),{})},children:i.jsxs(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:j,children:[i.jsx(c("CometHero.react"),{description:"ProfileFeed"}),i.jsx(c("CometFeedUnitSetDebugInfoContextProvider.react"),{location:"timeline",children:i.jsx(c("ProfileCometTimelineFeed.react"),{user:e,variables:a.variables})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineViewSwitcherTab.react",["CometTab.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={tab:{height:"x1vqgdyp",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},tabOverlayPressed:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=a.icon,d=a.label,e=a.linkProps,f=a.selected;f=f===void 0?!1:f;a=a.testid;return h.jsx(c("CometTab.react"),{icon:b,iconLocation:"left",label:d,linkProps:e,overlayDisabled:f,overlayOffset:{bottom:-4,left:0,right:0,top:-4},overlayPressedStyle:i.tabOverlayPressed,overlayRadius:6,selected:f,testid:void 0,underlineColor:"var(--accent)",xstyle:i.tab})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineControls.react",["fbt","ix","BaseRow.react","BaseRowItem.react","CometCard.react","CometCardedDialogLoadingStateLegacy.react","CometLazyDialogTrigger.react","CometRow.react","CometRowItem.react","CometTransientDialogProvider.react","JSResourceForInteraction","ProfileCometPostFiltersDialogContext","ProfileCometPostFiltersDialogReducer","ProfileCometTimelineViewSwitcherTab.react","ProfileCometURIUtils","TetraButton.react","TetraTextPairing.react","fbicon","react","useProfileEngagementClickCallback","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useMemo,m=b.useReducer,n=b.useRef,o=c("JSResourceForInteraction")("ProfileCometPostFiltersDialog.react").__setRef("ProfileCometTimelineControls.react"),p=c("JSResourceForInteraction")("ProfileCometManagePostsDialog.react").__setRef("ProfileCometTimelineControls.react"),q={buttons:{display:"x78zum5",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},divider:{borderTop:"x1n2xptk",$$css:!0},managePostsButton:{marginStart:"x1i64zmx",$$css:!0},root:{marginBottom:"x1yztbdb",$$css:!0},viewSwitcherTabContainer:{marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0}};function a(a){var b=a.instructions,e=a.isViewingSelf,f=a.managePostsTimelineRootRenderer;f=f===void 0?null:f;var g=a.shouldHideAllFilters,r=a.shouldHideFilterPostsButton,s=a.shouldHideManagePostsButton,t=a.shouldHidePostedByFilters,u=a.shouldHidePrivacyFilter,v=a.shouldHideViewSwitcher;a=a.viewType;var w=n(null),x=n(null),y=k(function(a){return j.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,title:h._("__JHASH__pHmTluglNgu__JHASH__"),withCloseButton:!0})},[]),z=k(function(a){return j.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,title:h._("__JHASH__jAl1tIJjWrm__JHASH__"),withCloseButton:!0})},[]),A=m(d("ProfileCometPostFiltersDialogReducer").reducer,d("ProfileCometPostFiltersDialogReducer").getInitialState(t)),B=A[0],C=A[1];A=d("ProfileCometURIUtils").useURIForProfile();var D=d("ProfileCometURIUtils").useURIForProfileSection("grid"),E=l(function(){return{dispatchAction:C,state:B}},[B]);e={event_metadata:{entry_point:"comet"},profile_item_subtype:e?"self":"nonself",profile_item_type:"post_filters_button",profile_product_bucket:"profile_core",profile_subsurface:a,profile_surface:"timeline"};var F=c("useProfileEngagementImpression")(e),G=c("useProfileEngagementClickCallback")(e);return j.jsx("div",{className:"x1yztbdb",children:j.jsxs(c("CometCard.react"),{background:"white",dropShadow:1,children:[j.jsxs(c("CometRow.react"),{paddingHorizontal:16,paddingTop:0,children:[j.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:j.jsx(c("TetraTextPairing.react"),{headline:h._("__JHASH__niVYqKrrTPw__JHASH__"),isSemanticHeading:!0,level:2})}),j.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:j.jsx("div",{className:"x78zum5 xwib8y2 x1y1aw1k",children:j.jsx(c("ProfileCometPostFiltersDialogContext").Provider,{value:E,children:j.jsxs(c("CometTransientDialogProvider.react"),{children:[!r&&j.jsx("div",{ref:F,children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{instructions:b,shouldHidePostedByFilters:t,shouldHidePrivacyFilter:u},dialogResource:o,fallback:y,children:function(a,b){return j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("500218"),16),label:h._("__JHASH__iu_z6bstabX__JHASH__"),onHoverIn:b,onPress:function(){G(),a()},ref:w,type:"secondary"})}})}),!s&&f&&j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{instructions:b,managePostsTimelineRootRenderer:f,shouldHideAllFilters:g,shouldHidePostedByFilters:t,shouldHidePrivacyFilter:u},dialogResource:p,fallback:z,children:function(a,b){return j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("497566"),16),label:h._("__JHASH__jAl1tIJjWrm__JHASH__"),onHoverIn:b,onPress:a,ref:x,testid:void 0,type:"secondary"})}})})]})})})})]}),!v&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"x1n2xptk"}),j.jsxs(c("BaseRow.react"),{role:"tablist",xstyle:q.viewSwitcherTabContainer,children:[j.jsx(c("BaseRowItem.react"),{expanding:!0,children:j.jsx(c("ProfileCometTimelineViewSwitcherTab.react"),{icon:d("fbicon")._(i("533527"),16),label:h._("__JHASH__kvHGjp42f6I__JHASH__"),linkProps:{routeTarget:"self",url:A},selected:a==="list",testid:void 0})}),j.jsx(c("BaseRowItem.react"),{expanding:!0,children:j.jsx(c("ProfileCometTimelineViewSwitcherTab.react"),{icon:d("fbicon")._(i("531309"),16),label:h._("__JHASH__4RuGFd27GaI__JHASH__"),linkProps:{routeTarget:"self",url:D},selected:a==="grid",testid:void 0})})]})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useCometProgressRingSvg.react",["CometProgressRingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=2;function a(a){var b=a.color,c=a.isHidden,e=a.size,f=j(null),g=j(null),l=j(null);a=d("CometProgressRingUtils").getRingColor(b);var m=a.backgroundColor,n=a.foregroundColor,o=(e-k)*Math.PI;b=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy",height:e,ref:f,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:m,strokeLinecap:"round",strokeWidth:k})}),h.jsx("div",{className:"x1ey2m1c xds687c x6ikm8r x10wlt62 x10l6tqk xtzzx4i x13vifvy",children:h.jsx("svg",{className:"x1ey2m1c x9f619 xds687c x10l6tqk x1ytbgms x13vifvy x1jpgh95",height:e,ref:g,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:n,strokeDasharray:o/2,strokeDashoffset:3*o/4,strokeWidth:k,style:{visibility:c?"hidden":void 0}})})}),h.jsx("div",{className:"x1ey2m1c x8cgc45 x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy",children:h.jsx("svg",{className:"x1ey2m1c x9f619 x14l5gr7 x10l6tqk x17qophe x13vifvy x1jpgh95",height:e,ref:l,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:n,strokeDasharray:o/2,strokeDashoffset:o/4,strokeWidth:k,style:{visibility:c?"hidden":void 0}})})})]})},[e,m,n,o,c]);return{backgroundRef:f,leftCircleRef:l,progressRing:b,rightCircleRef:g}}g["default"]=a}),98);
__d("CometProgressRingDeterminate.react",["BaseLoadingStateElement.react","react","useCometProgressRingSvg.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={rootDiv:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.color,d=a.percentage;a=a.size;b=c("useCometProgressRingSvg.react")({color:b,isHidden:!1,size:a});var e=b.leftCircleRef,f=b.progressRing,g=b.rightCircleRef;i(function(){var a=g.current,b=e.current;if(a==null||b==null)return;if(!(a instanceof SVGSVGElement)||!(b instanceof SVGSVGElement))return;var c=Math.max(0,Math.min(100,d))/100*360;a.style.transform="rotate("+Math.min(c,180)+"deg)";b.style.transform="rotate("+Math.max(c-180,0)+"deg)"},[e,d,g]);return h.jsx(c("BaseLoadingStateElement.react"),{progress:d,style:{height:a,width:a},xstyle:j.rootDiv,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXToast.react",["deferredLoadComponent","gkx","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("gkx")("571"),j=c("deferredLoadComponent")(c("requireDeferred")("MDSToast.react").__setRef("MWXToast.react")),k=c("deferredLoadComponent")(c("requireDeferred")("CometToast.react").__setRef("MWXToast.react"));function a(a){var b,c=a.actions,d=a.body,e=a.icon,f=a.onDismiss,g=a.startAddOn;g=g===void 0?null:g;var l=a.supressCloseButton;l=l===void 0?!1:l;var m=a.testid;m=m===void 0?"mw-toast":m;a=a.title;var n=(e==null?void 0:e.mds)!=null?{source:e==null?void 0:e.mds,type:"icon"}:void 0;e=(e=e==null?void 0:e.comet)!=null?e:void 0;b=a!=null&&d!=null?h.jsxs(h.Fragment,{children:[a,h.jsx("br",{}),d]}):(b=(b=a)!=null?b:d)!=null?b:"";e={icon:e,message:b,onDismiss:f,supressCloseButton:l,testid:m};return i?h.jsx(j,{actions:c,body:d,onDismiss:f,startAddOn:g!==null?g:n,testid:void 0,title:a,withCloseButton:!l}):c!=null?h.jsx(k,babelHelpers["extends"]({},e,{action:babelHelpers["extends"]({},c.primaryCallToAction)})):h.jsx(k,babelHelpers["extends"]({},e))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:2344","cr:4379","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("BaseToasterStateManager").getInstance();function k(a,b){var d=a.body,e=a.icon,f=a.onDismiss,g=a.startAddOn;g=g===void 0?null:g;var h=a.supressCloseButton;h=h===void 0?!1:h;var k=a.testid;k=a.title;b===void 0&&(b=2750);var l=j.push(i.jsx(c("MWXToast.react"),{body:d,icon:e,onDismiss:function(){j.expire(l),f==null?void 0:f()},startAddOn:g,supressCloseButton:h,testid:void 0,title:k}),b);return l}function a(a,c){var e,f=a.body,g=a.onDismiss;a=a.title;c===void 0&&(c=2750);var j=b("cr:2344")!==null?i.jsx(b("cr:2344"),{color:"warning",icon:d("fbicon")._(h("502062"),20)}):void 0;e=(e=b("cr:4379"))!=null?e:void 0;return k({body:f,icon:{comet:j,mds:e},onDismiss:g,title:a},c)}g.mwPushToast=k;g.mwPushErrorToast=a}),98);
__d("MAWXMAUtils",["MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);h=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:return!1;default:d("WALogger").ERROR(h(),a);return!1}}function c(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function e(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function f(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function i(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function j(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function k(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function l(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function m(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY}function n(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function o(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION}function p(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function q(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAStoryShare=c;g.isXMAExternalLinkShare=e;g.isIGXMAStoryShare=f;g.isXMAExpired=i;g.removeCTAsForStoryMentionXMA=j;g.buildUnstoredTombstonedXMA=k;g.buildTombstonedDbXMA=l;g.isXMAStoryReply=m;g.isXMAStoryReaction=n;g.isXMAStoryMention=o;g.isIGXMAPostShare=p;g.isXMAStoryHighlightShare=q}),98);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,inactiveReceived:-6,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){switch(a){case h.clock:return d("LSIntEnum").ofNumber(1);case h.sent:case h.received:case h.read:case h.played:return d("LSIntEnum").ofNumber(2);default:return d("LSIntEnum").ofNumber(4)}}function b(a){switch(a){case h.clock:return d("LSIntEnum").ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case h.sent:case h.received:case h.read:case h.played:return d("LSIntEnum").ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);default:return d("LSIntEnum").ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=h;g.levelToMessagingSendStatusV2=a;g.levelToMessagingSendStatus=b}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWBridgeMsg",["LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWDbMsg","MAWGlobals","MAWImageUtils","MAWMsgType","MAWVault","MAWXMAUtils","WAAssertUnreachable","WADualSendMsgUtils","WAJids","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e,f,g=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;e=(e=a.quote)==null?void 0:e.content;var h=c("gkx")("1994")&&(e==null?void 0:e.ts)!=null?{replySourceTimestampMs:e==null?void 0:e.ts}:{};if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)){var i=a.author,j=a.mediaId,k=a.msgId,l=d("WAJids").authorToUserId(i,g);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)){var m=a.threadJid,n;m!=null&&(n=d("WAJids").interpretAsUserJid(m));n!=null&&(l=d("WAJids").userIdFromJid(n))}return babelHelpers["extends"]({},h,{isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryMention:d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaId:j,replyMediaUrlMimeType:j!=null?"image/jpeg":void 0,replySenderIsMe:i===d("WAJids").AUTHOR_ME||l===g,replySourceId:k,replyStatusType:j!=null?"Image":void 0,replyToUserId:l,storyShareAuthor:b==null?void 0:b.storyShareAuthor})}if(e==null||(e==null?void 0:e.msgId)==null&&(e==null?void 0:e.sourceId)==null)return;m=e||{};a=m.author;i=m.mediaId;k=m.msgId;j=m.sourceId;l=m.specialTextSize;var o=m.type;m=m.xmaMessageType;f=e.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(m)?(f=e.msgContent)==null?void 0:f.content:void 0;var p=d("WAJids").authorToUserId(a,g);e=e.type===d("MAWMsgType").MSG_TYPE.TEXT?e.msgContent.mentionedJids:void 0;a=a===d("WAJids").AUTHOR_ME||p===g;g=b||{};b=g.replyMediaId;var q=g.replyMediaPreviewHeight,r=g.replyMediaPreviewWidth,s=g.replyMediaUrlFallback,t=g.replyMediaUrlMimeType;g=g.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(m))return babelHelpers["extends"]({},h,{isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(m),isStoryReply:!0,replyMediaId:i,replyMediaUrlMimeType:i!=null?"image/jpeg":void 0,replySenderIsMe:a,replySourceId:j,replyStatusType:i!=null?"Image":void 0,replyToUserId:p});j=d("MAWImageUtils").boundHeightWidth(q,r,96*.8);i=j.height;j=j.width;return babelHelpers["extends"]({},h,{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(m),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(m),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:o===d("MAWMsgType").MSG_TYPE.STICKER?i:q,replyMediaPreviewWidth:o===d("MAWMsgType").MSG_TYPE.STICKER?j:r,replyMediaUrlFallback:s,replyMediaUrlMimeType:t,replyMentionedJids:e,replyMessageText:f,replySenderIsMe:a,replySourceId:k,replyStatusType:l===1||l===2||l===3?d("MAWMsgType").MSG_TYPE.STICKER:o,replyToUserId:p,replyXMAId:g})}function a(a){a=a.specialTextSize;switch(a){case 1:return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL);case 2:return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE);default:return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").NONE)}}function b(a,b,e,f,g){var i,j,k=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;i=((i=a.isForwarded)!=null?i:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;j=(j=a.forwardingScore)!=null?j:0;var l=d("MAWDbMsg").getCanonicalTsFromMsg(a);e=h(a,e);var m=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),n=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),o=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),p=d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),q=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),r=d("MAWDbMsg").getSortOrderWithFallback(a),s=d("WADualSendMsgUtils").isDualSendJid(a.threadJid),t=c("gkx")("8015")?a.externalId:void 0;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:var u=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,content:u,editCount:a.editCount,ephemeralDurationInSec:(u=a.ephemeralSetting)==null?void 0:u.ephemeralExpirationInSec,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,specialTextSize:a.specialTextSize,ts:l,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,ephemeralDurationInSec:(u=a.ephemeralSetting)==null?void 0:u.ephemeralExpirationInSec,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},e,{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},e,{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return{ack:a.ack,adminContent:a.msgContent.adminMsgContent,adminType:a.msgContent.adminType,adminVersion:a.msgContent.version,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{ack:a.ack,chatId:a.thread,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isForwarded:i,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var v;u=(u=a.msgContent)==null?void 0:u.content;v=u!=null?d("MAWVault").isVaulted(u)?(v=a.msgContent)==null?void 0:v.content:d("MAWVault").vault(u):void 0;return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,content:n||o?v:void 0,ephemeralDurationInSec:(u=a.ephemeralSetting)==null?void 0:u.ephemeralExpirationInSec,externalId:t,forwardingScore:j,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:s,isExpiredXmaMsg:a.isExpiredXmaMsg,isForwarded:i,isStoryHighlightShare:q,isStoryMention:p,isStoryReaction:n,isStoryShare:m,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d("WAJids").authorToUserId(a.author,k),sortOrderMs:r,ts:l,type_:a.type});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("MAWBridgeBuildAdminMsg",["I64","MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","MAWThreadId","MAWUpdateMsg","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f,g,i){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h,i){i===void 0&&(i=0);g=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(h,g);var j=g.contactIds,k=g.contents;g=(yield d("MAWThreadId").toThreadKeyMaybe_DEPRECATED(a,c));var l=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(h),m=d("MAWThreadCustomizationUtils").skipNicknameCheck(h);if(i===1){i=h===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;i=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:[].concat(j),db:a,nameMode:i,nicknameOnlyForFirstParticipant:l,onResolve:function(b){b=d("MAWAdminMsg").buildLocalizedString(k,b,h);return d("MAWUpdateMsg").mutateThreadText(a,c,e,f,{text:b})},skipNickname:m,subscriptionKey:d("I64").to_string(e),threadKey:g,txn:b}));return d("MAWAdminMsg").buildLocalizedString(k,i,h)}return d("MAWAdminMsg").buildLocalizedString(k,j,h)});return h.apply(this,arguments)}g.buildAdminMsgText=a}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;d.set(c(g),b(g))}return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","MAWThreadId","WAJids","asyncToGeneratorRuntime","emptyFunction","fillArray","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];return a.replaceAll(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f){e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var g=k(a,e),i=[],l=[],m=[],n=0;for(var o of g){var p=d("WAJids").unsafeCoerceToUserJid(o[0]);i.push(d("WAJids").userIdFromJid(p));var q=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,p);l.push(q.length+1);m.push(Math.max(o.index-1+n,0));n+=q.length-p.length}q=c("fillArray")(g.length,"p");return{mentionIds:h(i),mentionLengths:h(l),mentionOffsets:h(m),mentionTypes:h(q),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,c,d,e,f,g){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i){var j=c("mapPull")(g,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);g=(yield d("MAWSubscribeToContactNames").genContacts({contactIDs:Array.from(j.keys()),db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,onResolve:function(a){a=l(f,a,j,i);return h(a)},subscriptionKey:e,txn:b}));return l(f,g,j,i)});return n.apply(this,arguments)}function e(a,b,c,d,e,f,g,h){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j){var k=c("mapPull")((g=g)!=null?g:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(k.size===0||f==null||f===""){var l;i===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG&&(l=d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME);g=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(i);i=d("MAWThreadCustomizationUtils").skipNicknameCheck(i);var n=(yield d("MAWThreadId").toThreadKeyMaybe_DEPRECATED(a,typeof e==="string"?parseInt(e,10):e));g=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:h,db:a,nameMode:l,nicknameOnlyForFirstParticipant:g,onResolve:function(a){return j([f,a])},skipNickname:i,subscriptionKey:e,threadKey:n,txn:b}));return[f,g]}i=(yield d("MAWSubscribeToContactNames").genContacts({contactIDs:[].concat(Array.from(k.keys()),h),db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,onResolve:function(a){a=m(f,h,a,k);return j(a)},subscriptionKey:e,txn:b}));return m(f,h,i,k)});return o.apply(this,arguments)}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=e}),98);
__d("MAWMsgReply",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWTimeUtils","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:d("I64").of_string(a)}function e(a){var b=a.isForwarded,e=a.isStoryReply,f=a.isStoryShare;a=h(a);if(b)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(f!=null&&f)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(a)if(e!=null&&e)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=h(a),e=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(b)if(e!=null&&e)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function i(a){if(a.replySourceId!=null)return a.replySourceId}function j(a){if(a.replySourceId!=null)return a.replyMessageText}function k(a){if(a.replySourceId!=null)return a.replyMentionedJids}function l(a){return a.replySourceId==null?!1:a.replyMediaUrlMimeType!=null}function m(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function n(a){if(l(a)&&!m(a))return a.replyMediaUrlMimeType}function o(a){if(l(a))return a.replyMediaPreviewHeight!=null?d("I64").of_int32(a.replyMediaPreviewHeight):void 0}function p(a){if(l(a))return a.replyMediaPreviewWidth!=null?d("I64").of_int32(a.replyMediaPreviewWidth):void 0}function q(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=l(a),g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0)return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(m(a))return;return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER);default:}}if(g!=null&&g==="Sticker"&&e)return d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function r(a){var b=a.replyMediaId,c=a.replyXMAId;if(l(a)&&b!=null)return c!=null?void 0:d("I64").of_int32(b);if(b!=null||c==null)return;if(c!=null&&m(a))return;return d("I64").of_int32(c)}function s(a){var b=a.isStoryReply,c=a.replyMessageText,e=a.replyStatusType,f=q(a);a=r(a);if(e!=null&&e==="XMA"&&f==null){if(a!=null)return;if(c==null)return d("I64").zero}if(a!=null||!(b!=null&&b))return;return d("I64").zero}function t(a){a=a.replySourceTimestampMs;if(a==null)return;return d("MAWTimeUtils").toTimestamp(a)}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=i;g.getReplyMessageText=j;g.getReplyMentionedJids=k;g.getReplyMediaMimeType=n;g.getReplyMediaHeight=o;g.getReplyMediaWidth=p;g.getReplyAttachmentType=q;g.getReplyAttachmentId=r;g.getReplyMediaExpirationTimestampMs=s;g.getReplySourceTimestampMs=t}),98);
__d("MAWBridgeBuildMsg",["I64","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMiActOnActThreadReady","MAWMsgReply","MAWUpdateMsg","MAWVault","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function i(a){return a!=null?d("MAWVault").unvault(a):void 0}function j(a){return a!=null?d("MAWVault").vault(a):void 0}function k(a){return babelHelpers["extends"]({},a,{replyMessageText:j(a.replyMessageText),text:j(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?d("I64").of_int32(a):void 0}function c(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("MAWMsgReply").getReplyMessageText(c),g=c.adminContent,j=c.adminType,l=c.adminVersion,m=c.chatId,n=c.content,o=c.isAdminMessage,p=c.msgId,q=n;o&&g!=null&&j!=null&&(q=(yield d("MAWBridgeBuildAdminMsg").buildAdminMsgText(a,b,m,e,p,g,j,l)));o=h(c.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(c));return o.length>0?d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(a,b,p,i(n),o,function(b){return d("MAWUpdateMsg").mutateThreadText(a,m,e,p,k(b))},i(f)).then(k):{replyMessageText:f,text:q}});return l.apply(this,arguments)}function e(a,c,e,f,g,j,l,m){var n=j==null?void 0:j.text;j=h(m,j==null?void 0:(m=j.mentionIds)==null?void 0:m.split(",").map(d("MAWJids").toUserJid));return j.length>0?d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(a,c,f,i(e),j,function(b){return d("MAWMiActOnActThreadReady").onActThreadReady(a,g,"MAWBridgeBuildMsg",function(c,e,g){return d("MAWUpdateMsg").mutateThreadText(a,e,l,f,k(b))})},i(n)).then(k):b("Promise").resolve({replyMessageText:n,text:e})}g.getEphemeralDurationInSec=a;g.buildMessage=c;g.buildOptimisticMessage=e}),98);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=h(a.replyStatusType);if(a!=null)return d("LSIntEnum").ofNumber(a)}g.getReplyMessageStatus=h;g.getLSReplyMessageStatus=a}),98);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWDbChatId","MAWMiActOnMiThreadReadyForChatId","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f,g){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWMiActOnMiThreadReadyForChatId").onMiThreadReadyForChatId(a,d("MAWDbChatId").unsafeCoerceToChatId(c),"MAWUpdateMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.table("messages");b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,e,f)));b!=null&&(yield a.put(babelHelpers["extends"]({},b,g)))});return function(b,c){return a.apply(this,arguments)}}())});return function(b){return a.apply(this,arguments)}}(),"readwrite")}function e(a,b,c,d,e,f){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i;i=d("MAWTimeUtils").toTimestamp(e.type_===d("MAWMsg").unsent?(i=e.originalTs)!=null?i:e.ts:e.ts);var j=e.type_===d("MAWMsg").unsent;a=(yield d("MAWBridgeBuildMsg").buildMessage(a,b,e,i));return b.table("messages").put(babelHelpers["extends"]({},f,a,{adminMsgCtaId:g==null?void 0:g.ctaId,adminMsgCtaTitle:g==null?void 0:g.title,adminMsgCtaType:g==null?void 0:g.ctaType,authorityLevel:d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:j||!e.isAuthorMe?d("LSIntEnum").ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(e.type_,e.isForwarded,e.isExpiredXmaMsg),editCount:e.editCount!=null?d("I64").of_int32(e.editCount):d("I64").zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(e),hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(e),isUnsent:e.type_===d("MAWMsg").unsent,messageId:e.msgId,primarySortKey:d("I64").of_float(e.sortOrderMs),replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(e),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(e),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(e),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(e),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(e),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(e),replySnippet:h,replySourceId:d("MAWMsgReply").getReplySourceId(e),replySourceTimestampMs:d("MAWMsgReply").getReplySourceTimestampMs(e),replySourceType:d("MAWMsgReply").getReplySourceType(e),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(e),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(e),replyToUserId:d("MAWMsgReply").getReplyUserId(e),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(e.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(e.ack),timestampMs:i}))});return h.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("MAWBumpThread",["ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f,g){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(b==null)return d("ODS").bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:b.snippetSenderContactId;return a.table("threads").put(babelHelpers["extends"]({},b,{lastActivityTimestampMs:c,lastMessageCtaType:h,lastReadWatermarkTimestampMs:e,snippet:f,snippetSenderContactId:g}))});return h.apply(this,arguments)}g.threadMutation=a}),98);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=[d("LSIntEnum").ofNumber(0),d("LSIntEnum").ofNumber(31),d("LSIntEnum").ofNumber(35),d("LSIntEnum").ofNumber(55),d("LSIntEnum").ofNumber(56),d("LSIntEnum").ofNumber(58),d("LSIntEnum").ofNumber(24),d("LSIntEnum").ofNumber(25),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(85)],j=[d("LSIntEnum").ofNumber(0),d("LSIntEnum").ofNumber(31),d("LSIntEnum").ofNumber(35),d("LSIntEnum").ofNumber(55),d("LSIntEnum").ofNumber(56),d("LSIntEnum").ofNumber(58),d("LSIntEnum").ofNumber(24),d("LSIntEnum").ofNumber(25),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(85),d("LSIntEnum").ofNumber(8),d("LSIntEnum").ofNumber(22)],k=[d("LSIntEnum").ofNumber(35),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(85),d("LSIntEnum").ofNumber(56),d("LSIntEnum").ofNumber(24),d("LSIntEnum").ofNumber(25)];function a(){var a=c("useReStore")();return h(function(e,f){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e)));if(b==null)return;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b.threadKey).filter(function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(15))})));if(g==null)return;b=d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(i,g.capabilities,g.capabilities2,g.capabilities3):d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(j,g.capabilities,g.capabilities2,g.capabilities3):d("LSThreadBitOffset").set(k,g.capabilities,g.capabilities2,g.capabilities3);var h=b[0],l=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},g,{capabilities:h,capabilities2:l});return a.table("threads").put(b)},"readwrite")})())},[a])}g.clearedMnBlockCapabilities=i;g.clearedFbBlockCapabilities=j;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil.bs","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("MAWCurrentUser").getID(),j=d("I64").of_string(i);function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)).then(function(c){if(c==null)return b("Promise").resolve();var e=d("LSBitOffset").set(d("LSIntEnum").ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.table("threads").put(c)}).then(function(){})}function e(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)).then(function(c){if(c==null)return b("Promise").resolve();var e=d("LSBitOffset").clear(d("LSIntEnum").ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.table("threads").put(c)}).then(function(){})}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e)).then(function(c){if(c==null)return b("Promise").resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a=a[1];return!d("I64").equal(a.id,j)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return b("Promise").all([b("Promise").resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return b("Promise").resolve();e=e[1];if(e==null)return b("Promise").resolve();var g=d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3):[f.capabilities,f.capabilities2,f.capabilities3];g=h[0];e=h[1];h=h[2];return a.table("threads").put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:h})).then(function(){})})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.table("threads");c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return b("Promise").resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3))),f=e[0],g=e[1];e=e[2];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:e}))});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(b==null)return;var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).filter(function(a){return d("I64").equal(a.id,c)})));if(e==null)return;e=h._("__JHASH__uQTwTbCP0iW__JHASH__",[h._param("Inviter Name",e.name)]).toString();var f=d("LSThreadBitOffset").set([d("LSIntEnum").ofNumber(105)],b.capabilities,b.capabilities2,b.capabilities3),g=f[0],i=f[1];f=f[2];yield a.table("threads").put(babelHelpers["extends"]({},b,{capabilities:g,capabilities2:i,capabilities3:f,snippet:e}))});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("group_invites")).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([d("LSIntEnum").ofNumber(105)],e.capabilities,e.capabilities2,e.capabilities3),g=f[0],h=f[1];f=f[2];yield a.table("threads").put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.table("group_invites")["delete"]({hd:b.threadKey,tl:{hd:b.inviterId,tl:{hd:b.inviteeId,tl:0}}})});return function(a){return c.apply(this,arguments)}}())});return p.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=k;g.setGroupInviteTxn=m;g.clearGroupInviteTxn=o}),98);
__d("MAWMsgReplySnippet",["fbt","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWMsgReplyStatus","MAWMsgType","MAWSubscribeToContactNames","MAWTimeUtils","ODS","Promise","ReQL","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=a.isAuthorMe,e=a.isDeletedMsg,f=a.isIGXMAStoryShare;f=f===void 0?!1:f;var g=a.isStoryHighlightShare;g=g===void 0?!1:g;var i=a.isStoryMention;i=i===void 0?!1:i;var j=a.isStoryReaction;j=j===void 0?!1:j;var k=a.isStoryReply;k=k===void 0?!1:k;var l=a.isStoryShare;l=l===void 0?!1:l;var m=a.recipientName,n=a.replyAttachmentType,o=a.replySenderIsMe;o=o===void 0?!1:o;var p=a.replySenderIsRecepient;p=p===void 0?!1:p;var q=a.senderName;a=a.storyShareAuthor;switch(!0){case g:return a!=null?h._("__JHASH__3A-F80NGMR1__JHASH__",[h._param("username",a)]):h._("__JHASH__btyC9aNJMDF__JHASH__");case f&&n!=null&&d("I64").equal(n,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._("__JHASH__xnZ-ffIPZnP__JHASH__",[h._param("username",a)]):h._("__JHASH__nEqZlivBoJj__JHASH__");case b&&e:return h._("__JHASH__FzueDOoURT8__JHASH__");case b&&l:return h._("__JHASH__d4DLCdwDC03__JHASH__");case b&&j:return h._("__JHASH__yaEVWahdF8q__JHASH__");case b&&i:return m!=null?h._("__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",m)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case i:return h._("__JHASH__dgpS1OhnF7B__JHASH__");case b&&o:return h._("__JHASH__GiGYAtipVIl__JHASH__");case b&&k:return m!=null?h._("__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",m)]):h._("__JHASH__GEUovmERkjj__JHASH__");case b:return m!=null?h._("__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",m)]):h._("__JHASH__NYU_gsfRGpq__JHASH__");case e:return h._("__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",q)]);case l:return h._("__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",q)]);case j:return h._("__JHASH__BS0JbOB2Hdc__JHASH__");case p:return h._("__JHASH__RWi7lW394uo__JHASH__",[h._param("other",q)]);case o&&k:return h._("__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",q)]);case o:return h._("__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",q)]);default:return m!=null?h._("__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",q),h._param("other_name",m)]):h._("__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",q)])}}function a(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var h=f.isAuthorMe,j=f.isIGXMAStoryShare,l=f.isStoryHighlightShare,m=l===void 0?!1:l;l=f.isStoryMention;var n=l===void 0?!1:l,o=f.isStoryReaction,p=f.isStoryReply;l=f.isStoryShare;var q=l===void 0?!1:l,r=f.msgId,s=f.originalTs,t=f.replySenderIsMe;l=f.replySourceId;var u=f.replyStatusType,v=f.replyToUserId,w=f.sender,x=f.storyShareAuthor,y=f.ts,z=f.type_;if(l==null&&!q&&!n&&!m)return b("Promise").resolve();if(v==null||w==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");f=d("MAWSubscribeToContactNames").getContactNameFromContactID(e,d("I64").of_string(v),d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME,g)==null;l=d("MAWSubscribeToContactNames").getContactNameFromContactID(e,d("I64").of_string(w),d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME,g)==null;d("ODS").bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");f&&l?d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_both"):l?d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_sender"):f&&d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_reply_to");l=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:[v,w],db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME,onResolve:function(b){var e,f=b[0];b=b[1];return k(a,g,d("MAWTimeUtils").toTimestamp(z===d("MAWMsgType").MSG_TYPE.REVOKED?(e=s)!=null?e:y:y),r,(e=i({isAuthorMe:h,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(u)===c("LSReplyMessageStatus").DELETED,isIGXMAStoryShare:j,isStoryHighlightShare:m,isStoryMention:n,isStoryReaction:o,isStoryReply:p,isStoryShare:q,recipientName:f,replySenderIsMe:t,replySenderIsRecepient:w===v,senderName:b,storyShareAuthor:x}))==null?void 0:e.toString())},subscriptionKey:r,threadKey:g,txn:e}));e=l[0];l=l[1];return b("Promise").resolve((f=i({isAuthorMe:h,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(u)===c("LSReplyMessageStatus").DELETED,isIGXMAStoryShare:j,isStoryHighlightShare:m,isStoryMention:n,isStoryReaction:o,isStoryReply:p,isStoryShare:q,recipientName:f?void 0:e,replySenderIsMe:t,replySenderIsRecepient:w===v,senderName:l,storyShareAuthor:x}))==null?void 0:f.toString())});return j.apply(this,arguments)}function k(a,c,e,f,g){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.table("messages");var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c,e,f)));b&&(yield a.put(babelHelpers["extends"]({},b,{replySnippet:g})))});return function(b){return a.apply(this,arguments)}}(),"readwrite")}g.buildLocalizedReplySnippet=i;g.getReplySnippet=a}),98);/*FB_PKG_DELIM*/
__d("useHeroFailTrigger",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=1e3,k;c("requireWeak")("hero-tracing",function(a){k=a});function l(a){a=(a=a)!=null?a:"";return a.length>j?a.slice(0,j)+"...":a}function a(){var a=i(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext),b=i(d("hero-tracing-placeholder").HeroInteractionContext.Context);return h(function(d){var e,f,g=d.description;d=d.error;e=(e=d==null?void 0:d.messageFormat)!=null?e:d==null?void 0:d.message;d=e==null&&g==null?"unknown":[l(g),l(e)].filter(Boolean).join(", ");e=(g=a.current)==null?void 0:g.interactionUUID;if(e==null)return;g=c("InteractionTracingMetrics").get(e);if((g==null?void 0:(f=g.annotations["int"])==null?void 0:f.isError)===1)return;c("InteractionTracingMetrics").addMetadata(e,"isError",1);c("InteractionTracingMetrics").addMetadata(e,"errorComponent",d);if(k){f=k;f=f.HeroLogger;var h=b.pageletStack;g&&f.measure(e,h,"Error","Error: "+d,g.start,c("performanceNow")())}},[b,a])}g["default"]=a}),98);
__d("CometHeroFailTrigger.react",["react","useHeroFailTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.description,d=a.fail,e=c("useHeroFailTrigger")();h(function(){d&&e({description:b})},[b,d,e])}g["default"]=a}),98);
__d("MWXDeferredPopoverTrigger.react",["cr:7153","cr:7154","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(b("cr:7153")!=null)return h.jsx(b("cr:7153"),babelHelpers["extends"]({},a));return b("cr:7154")!=null?h.jsx(b("cr:7154"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXLazyPopoverTrigger.react",["cr:7120","cr:7121","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(b("cr:7120")!=null)return h.jsx(b("cr:7120"),babelHelpers["extends"]({},a));return b("cr:7121")!=null?h.jsx(b("cr:7121"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXSpinner.react",["cr:5023","cr:5028","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.color;a=a.size;if(b("cr:5023")!=null)return h.jsx(b("cr:5023"),{color:c,size:a});return b("cr:5028")!=null?h.jsx(b("cr:5028"),{color:c==="blue"?"blue":"grey",size:a<32?24:32}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWAbPropsTypes",[],(function(a,b,c,d,e,f){a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}']};f.ABPropConfigs=a}),66);
__d("MAWAbPropsToUI",["MAWAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("MAWAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("MAWAbPropsClient",["MAWAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("MAWAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("MWChatConfirmTabCloseDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__BpxPpP9rp8f__JHASH__"),confirm:h._("__JHASH__CqytfJoYvSJ__JHASH__"),title:h._("__JHASH__56tk0437PKy__JHASH__")};g.content=a}),98);
__d("MWChatEphemeralMediaTemporarySeenState",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=new Map();function a(a,b){var c=i.get(a);if(c==null){i.set(a,new Set([b]));return}c.has(b)||c.add(b)}function b(a,b){a=i.get(a);return a!=null&&a.has(b)}function j(a){i["delete"](a)}function c(a){h(function(){return function(){return j(a)}},[a])}g.markSeenThisSession=a;g.isSeenThisSession=b;g.endSession=j;g.useEndSessionOnDismount=c}),98);
__d("MWV2ComposerHasContentContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=c.useRef,l=e({hasContentRef:void 0,shouldClearDraftMessageRef:void 0});function a(a){a=a.children;var b=k(!1),c=k(!1),d=j(function(){return{hasContentRef:b,shouldClearDraftMessageRef:c}},[b,c]);return h.jsx(l.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("useMWV2CloseTab",["I64","MWChatConfirmTabCloseDialog.react","MWChatEphemeralMediaTemporarySeenState","MWChatInteraction.bs","MWChatStateActions","MWChatStateV2.bs","MWV2ComposerHasContentContext.bs","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=d("MWChatStateV2.bs").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.bs").useComposerHasContext(),i=g.shouldClearDraftMessageRef,j=g.hasContentRef;return h(function(){var c=function(){if(a!=null){var c,f=d("MWChatInteraction.bs").getInteractionTraceForThreadKey(d("I64").to_string(a));if(f!=null&&(((c=f.getTrace())==null?void 0:c.traceStatus)==null||((c=f.getTrace())==null?void 0:c.traceStatus)==="START")){c=!0;f.cancelTrace("close_tab",c)}d("MWChatEphemeralMediaTemporarySeenState").endSession(d("I64").to_string(a))}e(d("MWChatStateActions").closeTab(Date.now(),b.tabId))};if(a!=null&&(j==null?void 0:j.current)===!0)return f(d("MWChatConfirmTabCloseDialog.react").content,function(){i!=null&&(i.current=!0),c()},function(){i!=null&&(i.current=!1)});c()},[a,b,e,f,j,i])}g["default"]=a}),98);
__d("clearedMAWMnRestrictCapabilities",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(0),d("LSIntEnum").ofNumber(31),d("LSIntEnum").ofNumber(35),d("LSIntEnum").ofNumber(55),d("LSIntEnum").ofNumber(56),d("LSIntEnum").ofNumber(58),d("LSIntEnum").ofNumber(24),d("LSIntEnum").ofNumber(25),d("LSIntEnum").ofNumber(35),d("LSIntEnum").ofNumber(19)];b=a;g["default"]=b}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");c=b.createContext;var h=b.createElement,i=b.useMemo,j=b.useRef,k=c({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=j(),c=b.current,d=i(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return h(k.Provider,{children:a,value:d})}a.displayName=a.name+" [from "+f.id+"]";g.context=k;g.Provider=a}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();return c("getGroupThreadViewParams")(a,b)}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MAWGating","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","nullthrows","qex","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e="Compose";var h="PayFriendPicker",i="PayThread",j="SecureThread",k="Thread";e={Compose:e};h={PayFriendPicker:h,PayThread:i};i={SecureThread:j,Thread:k};var l=babelHelpers["extends"]({},e,h,i);j="Null";k="Payment";e="People";h="Search";i="SearchMessages";var m="SeeAllGroups",n="SeeAllPages",o="SeeAllPeople",p="SeeAllUnread",q="TeamworkSeeAllAnnouncementGroups",r="Recent",s="UnsupportedThread";j={Null:j,Payment:k,People:e,Search:h,SearchMessages:i,SeeAllGroups:m,SeeAllPages:n,SeeAllPeople:o,SeeAllUnread:p,TeamworkSeeAllAnnouncementGroups:q};k={Recent:r};e={UnsupportedThread:s};var t=babelHelpers["extends"]({},j,k,e),u="/?$";function v(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var w=c("qex")._("1507")===!0,x=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function y(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(x+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",x);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");var f=a==null?void 0:a.get("qa"),g=a==null?void 0:a.get("sa"),h=a==null?void 0:a.get("t");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:t.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:t.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null){if(!w)return{type:t.Search};if(f!=null)return{type:t.SearchMessages};if(g!=null&&h!=null)switch(h){case"friend":case"non_friend":return{type:t.SeeAllPeople};case"page":return{type:t.SeeAllPages};case"thread":return{type:t.SeeAllGroups};default:return{type:t.Search}}return{type:t.Search}}if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:t.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:t.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:t.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:t.TeamworkSeeAllAnnouncementGroups};if(b==="/read/")return{type:t.Recent,uriStateDetails:e!=null?{fbid:d("I64").of_string(e),type:l.Thread}:void 0};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+u)))!=null)return{type:t.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:l.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:t.Recent,uriStateDetails:{fbid:void 0,type:a!=null?l.PayThread:l.PayFriendPicker}};f=A(v(b));return{type:t.Recent,uriStateDetails:f!=null?{fbid:f,type:l.Thread}:void 0}}var z=c("gkx")("1968579")||c("gkx")("6975");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function A(a){try{return a!=null?d("I64").of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=c("useReStore")(),g=c("useCurrentRoute")(),h=d("CometRouteURL").useRouteURLPath(),i=c("useGroupThreadViewParams")();a=A(a);var j=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a),f.id+":356"))==null?void 0:b.threadType:null;var k=b!=null?c("MWCMIsAnyCMThread")(b):!1,m=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(i!=null)return{type:t.Recent,uriStateDetails:{fbid:d("I64").of_string(i.threadKey),type:l.Thread}};if(g==null)return{type:t.Null};if(!h.startsWith(x)&&!h.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",h);i=j.initial_e2ee_toggle_position==="1"||j.initial_e2ee_toggle_position===1||j.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";h=g.url.substring(x.length);h=c("nullthrows")((j=d("ConstUriUtils").getUri(h))==null?void 0:j.getPath().split("/"));if(a!=null){if(h.length===4&&h[0]===""&&h[1]==="e2ee"&&h[2]==="t"&&d("MAWGating").isArmadillo())return{type:t.Recent,uriStateDetails:{fbid:a,type:l.SecureThread}};if(b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b))return y(g);if(k&&!z)return{type:t.Null};return m?{fbid:a,type:t.UnsupportedThread}:{type:t.Recent,uriStateDetails:{fbid:a,type:l.Thread}}}if(h==null)return y(g);switch(h.length){case 2:return h[1]==="new"?{type:t.Recent,uriStateDetails:{initialTogglePosition:i,type:l.Compose}}:y(g);case 3:if(h[1]!=="t")return y(g);if(h[2]==="")return y(g);j=A(h[2]);b=j!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(j),f.id+":470"):null;return j!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b==null?void 0:b.threadType)?{type:t.Recent,uriStateDetails:{fbid:j,type:l.Thread}}:{type:t.Null};case 0:case 1:default:return y(g)}}g.MWInboxURIStateDetailsType=l;g.MWInboxURIStateTag=t;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").createContext;var i=b();function a(a){var b=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);return h.jsx(i.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxProviderContext=i;g.MWInboxProvider=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useEffect,k=b.useMemo;b={isPassive:!1,setIsPassive:c("emptyFunction")};var l=e(b);function m(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&d("I64").to_string(a.fbid)}return""}function a(a){var b=a.children,c=a.isPassive,e=a.setIsPassive;a=i(d("MWInboxProvider.react").MWInboxProviderContext);a=m(a);j(function(){e(!1)},[e,a]);a=k(function(){return{isPassive:c,setIsPassive:e}},[c,e]);return h.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=l;g.MWInboxPassiveContextProvider=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","bs_caml_js_exceptions","bs_js_exn","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useRef,l={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function m(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(b){a=c("bs_caml_js_exceptions").internalToOCamlException(b);if(a.RE_EXN_ID===c("bs_js_exn").$$Error$1)return!1;throw a}}function a(a){var b=a.children,e=a.onBlur,f=a.onEscape,g=a.onFocus;a=a.xstyle;var n=k(null),o=c("useMWInboxPassiveContext")(),p=o.setIsPassive;o=j(d("MWChatFocusComposerContext").context);var q=o.focusComposer;o=i(function(){if(n.current!=null&&q!=null&&window.getSelection().toString()===""&&(n.current===document.activeElement||m()))return q()},[n,q]);return h.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return e==null?void 0:e()},onFocusWithin:function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(g==null?void 0:g());n.current!=null&&q!=null&&n.current===a.target&&q();if(c("gkx")("6531"))return p(!1)},children:h.jsx(c("CometHideLayerOnEscape.react"),{onHide:function(){return f==null?void 0:f()},children:h.jsx("div",{className:c("stylex")(l.root,a),onClick:o,ref:n,role:"none",tabIndex:-1,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef,j=b.useState,k=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:k;d=(b==null?void 0:b.doNotDebounce)!==!0;b=j(a);a=b[0];var f=b[1],g=h(n,[]);b=h(m,[g,e]);var l=i(null);return[a,d?b:f,g];function m(a){g(),l.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(l.current),l.current=null}}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){a=a.delayMs;var b=c("useIsMountedRef")();a=c("useDebouncedState")(function(){return!0},{debounceMS:a,doNotDebounce:!a});var d=a[0],e=a[1];a=i(function(){return{onHidden:function(){b.current&&e(!1)},onVisible:function(){b.current&&e(!0)}}},[b,e]);a=c("useVisibilityObserver")(a);return h.jsx("div",{className:"x6s0dn4 x78zum5 x1r8uery x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a xcrg951",ref:a,children:d?h.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):h.jsx("div",{className:"xcrg951 xxk0z11 xh8yej3"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderCloseButton.react",["fbt","CometPressable.react","MWXTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__h_m7dC6Kxvx__JHASH__");function a(a){var b,d=a.color,e=a.label,f=a.onPress;a=a.testid;a=c("useSetAttributeRef")("data-prevent_chattab_focus","1");return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:(b=e)!=null?b:j,children:i.jsx(c("CometPressable.react"),{"aria-label":(b=e)!=null?b:j,onPress:f,overlayRadius:"50%",ref:a,testid:void 0,children:i.jsx("svg",{"aria-hidden":!0,className:"xvijh9v xhhsvwb x1ty9z65 xgzva0m",height:"24px",viewBox:"0 0 24 24",width:"24px",children:i.jsxs("g",{stroke:d,strokeLinecap:"round",strokeWidth:"2",children:[i.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18"}),i.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6"})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},k={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},l={4:{paddingStart:"x1e558r4",paddingEnd:"x150jy0e",$$css:!0},8:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},20:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},p={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},q={4:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",$$css:!0},8:{marginStart:"x1i64zmx",marginEnd:"x1emribx",$$css:!0},12:{marginStart:"x16n37ib",marginEnd:"xq8finb",$$css:!0},16:{marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0},20:{marginStart:"xmn8rco",marginEnd:"x1h5jrl4",$$css:!0}};function a(a,b){var d,e,f,g;d=(d=i(c("MDSColumnContext")))!=null?d:{};var s=a.align;e=s===void 0?(e=d.align)!=null?e:"stretch":s;s=a.children;var t=a.expanding;t=t===void 0?!1:t;var u=a.fallback,v=a.paddingHorizontal;f=v===void 0?(f=d.paddingHorizontal)!=null?f:0:v;v=a.paddingTop;var w=a.paddingVertical;w=w===void 0?0:w;var x=a.placeholder,y=a.verticalAlign;y=y===void 0?"top":y;var z=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),A=i(c("MDSColumnItemContext")),B=A.isFirst;A=A.isLast;var C=c("stylex").compose(a.xstyle);g=h.jsxs(h.Fragment,{children:[d.hasDividers===!0&&h.jsx(c("BaseView.react"),{role:"separator",xstyle:[j.divider,q[(g=d.paddingHorizontal)!=null?g:0],B&&j.firstChildDisplay]}),h.jsx(c("BaseView.react"),babelHelpers["extends"]({},z,{ref:b,xstyle:[j.root,t&&[j.expanding,c("isIE11OrGreater")&&j.expandingIE11],e!=="stretch"&&k[e],y!=="top"&&p[y],l[f],n[w],v!=null&&m[v],d.spacing!=null&&[o[d.spacing],C.marginTop==null&&B&&j.firstChildMargin,C.marginBottom==null&&A&&j.lastChildMargin],a.xstyle],children:h.jsx(c("MDSColumnContext").Provider,{value:null,children:s})}))]});if(u!==void 0){a.fallback;var D=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);u===null?g=h.jsx(c("CometErrorBoundary.react"),{children:g}):g=h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(r,babelHelpers["extends"]({},D,{ref:b,children:typeof u==="function"?u(a,c):u}))},children:g})}if(x!==void 0){a.placeholder;z=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=h.jsx(c("CometPlaceholder.react"),{fallback:x!=null?h.jsx(r,babelHelpers["extends"]({},z,{ref:b,children:x})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";var r=h.forwardRef(a);b=r;g["default"]=b}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},k={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function a(a,b){var d;d=(d=i(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,m=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return h.jsx(c("CometPlaceholder.react"),{fallback:g!=null?h.jsx(l,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:h.jsx(l,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(l,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))})}return h.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},m,{ref:b,useDeprecatedStyles:m.useDeprecatedStyles,xstyle:[j[e],k[d],m.xstyle],children:h.jsx(c("MDSRowContext").Provider,{value:null,children:m.children})}))}a.displayName=a.name+" [from "+f.id+"]";var l=h.forwardRef(a);b=l;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},n={4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},o={4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function a(a,b){var d=i(c("MDSColumnContext")),e=i(c("MDSRowContext")),f=(d==null?void 0:d.paddingHorizontal)!=null?0:12,g=(d==null?void 0:d.spacing)!=null?0:16,p=a.children,q=a.paddingHorizontal;f=q===void 0?f:q;q=a.paddingVertical;q=q===void 0?0:q;var r=a.paddingTop;g=r===void 0?a.paddingVertical==null?g:null:r;r=a.spacing;r=r===void 0?12:r;var s=a.spacingHorizontal,t=s===void 0?r:s;s=a.spacingVertical;var u=s===void 0?r:s;r=a.xstyle;s=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=j(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=h.jsx(c("BaseRow.react"),babelHelpers["extends"]({},s,{ref:b,xstyle:[k[f],m[q],g!=null&&l[g],n[t],o[u],r],children:h.jsx(c("MDSRowContext").Provider,{value:a,children:p})}));if(e!=null)return h.jsx(c("MDSRowItem.react"),{expanding:s.expanding,children:b});return d!=null?h.jsx(c("MDSColumnItem.react"),{expanding:s.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d}),98);
__d("MWV2HeaderContainer.react",["MDSRow.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.backgroundColor,d=a.divider;d=d===void 0?!0:d;var e=a.endContent;e=e===void 0?null:e;a=a.startContent;a=a===void 0?null:a;return h.jsxs("div",{className:c("stylex")(i.root,d?i.divider:!1),style:{backgroundColor:b},children:[h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:a}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2IsTabFocusedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){var b=a.children;a=a.isFocused;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.bs","MWChatTabFocusHandler","react","stylex","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={defaultHeight:{height:"x1rgmuzj","@media (min-height: 1280px)_height":"xbbk1sx",$$css:!0},fixedHeight:{height:"xt7dq6l",$$css:!0},tabContainer:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x6prxxf",lineHeight:"xvq8zen",marginStart:"x17adc0v",maxHeight:"xcn1v36",width:"xi55695",$$css:!0},tabContainerFocused:{boxShadow:"x1eqhsl0",$$css:!0},tabContainerUnfocused:{boxShadow:"x6l8u58",$$css:!0}};function a(a){var b=a.ariaBusy,e=a.ariaLabel,f=a.children,g=a.domRef,j=a.isFixedHeight;j=j===void 0?!1:j;var k=a.style,l=a.tab,m=a.tabIndex;a=a.threadKey;var n=d("MWChatStateV2.bs").useDispatch();a=c("useMWV2CloseTab")(a,l);var o=d("MWChatStateContext").useChatState(function(a){return a.focusedTabId===l.tabId});return h.jsx(d("MWChatFocusComposerContext").Provider,{children:h.jsx(c("MWChatTabFocusHandler"),{onBlur:function(){return n(d("MWChatStateActions").blurTab())},onEscape:a,onFocus:function(){return n(d("MWChatStateActions").focusTab(l.tabId))},children:h.jsx("div",{"aria-busy":b,"aria-label":e,className:c("stylex")(i.tabContainer,j?i.fixedHeight:i.defaultHeight,o?i.tabContainerFocused:i.tabContainerUnfocused),"data-testid":void 0,ref:g,style:k,tabIndex:m,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useMemo,j=b.useState;function a(a){a=a.children;var b=j(null),c=b[0],d=b[1];b=i(function(){return{editMessageData:c,setEditMessageData:d}},[c,d]);return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";var k=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=k}),98);
__d("MWPColorUtils",["I64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("I64").to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}function a(a,b){a=[].concat(a).sort(function(a,b){return d("I64").to_int32(a.gradientIndex)-d("I64").to_int32(b.gradientIndex)|0}).map(function(a){return h(a.color)});var e=a.length;if(e!==1){if(e!==0){e=b!=null;var f=[];b!=null&&f.push(a[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var g=e?1:0,e=a.length-(e?2:1)|0;g<=e;++g)f.push(a[g]);b!=null&&(f.push(a[a.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),f.push(a[a.length-1|0]));g=f.join(", ");return"linear-gradient("+g+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}g.int64ToHex=h;g.gradient=a}),98);
__d("MessengerAppColorMode",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:1,DARK:2,NONE:3});f["default"]=a}),66);
__d("MessengerThreadThemeGradientType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE_BUBBLE_OUTBOUND:0,MESSAGE_BUBBLE_INBOUND:1,THREADVIEW_BACKGROUND:2,DELIVERY_RECEIPT:3,COMPOSER_CIRCLE_BUTTON:4,COMPOSER_SEND_BUTTON:5,EMPHASIS:6});f["default"]=a}),66);
__d("last",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=null;if(Array.isArray(a)||typeof a==="string")a.length&&(b={value:a[a.length-1]});else for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=b||{};b.value=e}return b?b.value:null}f["default"]=a}),66);
__d("MWPThreadTheme.bs",["I64","Int64Hooks","LSIntEnum","MWPColorUtils","MessengerAppColorMode","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","first","gkx","last","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react"),i=h.createContext,j=h.createElement,k=h.useContext,l=h.useMemo,m=h.useState;h={accessibilityLabel:"Default Blue",appColorMode:d("I64").zero,fallbackColor:d("I64").of_string("-16743169"),fbid:d("I64").of_string("196241301102133"),isDeprecated:!1,normalThemeId:d("I64").zero,reverseGradiantsForRadial:!1,themeIdx:d("I64").of_string("94")};var n={incomingGradientColors:[],outgoingGradientColors:[],threadTheme:h};h={incomingGradientColors:[],outgoingGradientColors:[],previewId:void 0,setPreviewId:function(){},threadTheme:h};var o=i(h),p=c("gkx")("1969")?function(a,b){return d("ReQLSuspense").useFirst(function(){return b==null?d("ReQL").empty():d("ReQL").fromTableAscending(a.table("thread_themes")).filter(function(a){return d("I64").equal(a.normalThemeId,b)&&d("I64").equal(a.appColorMode,d("LSIntEnum").ofNumber(c("MessengerAppColorMode").DARK))})},[a,b],f.id+":85")}:function(a,b){return null};function q(a,b){var e=c("useReStore")(),g=c("useCurrentDisplayMode")(),h=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.table("thread_themes")).getKeyRange(a)},[e,a],f.id+":104"),i=p(e,a),j=g==="dark"&&i!=null?i:h,k=d("ReQLSuspense").useArray(function(){return(j==null?void 0:j.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.table("gradient_colors")).getKeyRange(j==null?void 0:j.fbid)},[e,j==null?void 0:j.fbid],f.id+":118");return l(function(){if(j!=null)return{incomingGradientColors:k.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:k.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:j};else return b},[j,k,b])}function a(a){var b=a.children,c=a.themeFbid;a=a.defaultTheme;a=a===void 0?n:a;var e=m(function(){}),f=e[0],g=e[1];e=d("Int64Hooks").useMemoInt64(function(){if(f!=null)return f;else return c},[c,f]);var h=q(e,a);e=d("Int64Hooks").useMemoInt64(function(){return{incomingGradientColors:h.incomingGradientColors,outgoingGradientColors:h.outgoingGradientColors,previewId:f,setPreviewId:g,threadTheme:h.threadTheme}},[h,g,f]);return j(o.Provider,{children:b,value:e})}a.displayName=a.name+" [from "+f.id+"]";function r(){return k(o)}function s(){var a=k(o),b=a.outgoingGradientColors;a=a.threadTheme;b=c("first")(b,f.id+":191");if(b!=null)return d("MWPColorUtils").int64ToHex(b.color);else return d("MWPColorUtils").int64ToHex(a.fallbackColor)}function t(){var a=k(o),b=a.outgoingGradientColors;a=a.threadTheme;b=c("last")(b);if(b!=null)return d("MWPColorUtils").int64ToHex(b.color);else return d("MWPColorUtils").int64ToHex(a.fallbackColor)}function b(a){return a.outgoingGradientColors.length>1}i=c("gkx")("1969")?function(){var a=r();a=a.threadTheme;var b=s();b=a.titlebarButtonTintColor?d("MWPColorUtils").int64ToHex(a.titlebarButtonTintColor):b;var c=a.titlebarTextColor?d("MWPColorUtils").int64ToHex(a.titlebarTextColor):void 0;a=a.titlebarBackgroundColor?d("MWPColorUtils").int64ToHex(a.titlebarBackgroundColor):void 0;return{backgroundColor:a,buttonColor:b,textColor:c}}:function(){return{}};function e(a){if(!c("gkx")("1969"))return{"--messenger-header-background":"var(--messenger-card-background)"};var b={};a.backgroundUrl&&(b["--messenger-card-background"]="transparent");a.titlebarBackgroundColor&&(b["--messenger-header-background"]=d("MWPColorUtils").int64ToHex(a.titlebarBackgroundColor));a.tertiaryTextColor&&(b["--secondary-text"]=b["--placeholder-text"]=d("MWPColorUtils").int64ToHex(a.tertiaryTextColor));return b}var u=c("gkx")("1969")?function(a){var b=r();b=b.threadTheme;var c=t();return{backgroundColor:!a&&b.blurredComposerBackgroundColor?d("MWPColorUtils").int64ToHex(b.blurredComposerBackgroundColor):b.composerBackgroundColor?d("MWPColorUtils").int64ToHex(b.composerBackgroundColor):void 0,buttonColor:a?b.composerTintColor?d("MWPColorUtils").int64ToHex(b.composerTintColor):c:b.composerUnselectedTintColor?d("MWPColorUtils").int64ToHex(b.composerUnselectedTintColor):void 0,inputBackgroundColor:b.composerInputBackgroundColor?d("MWPColorUtils").int64ToHex(b.composerInputBackgroundColor):void 0}}:function(a){return{}},v=a;g.defaultContextValue=h;g.MWPThreadTheme=a;g.useHook=r;g.useTop=s;g.useBottom=t;g.isGradient=b;g.useThreadThemeHeaderColors=i;g.getStyleOverridesForThreadTheme=e;g.useComposerThemeData=u;g.make=v}),98);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","messenger_web_product");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("WebStorageLockManager",["FBLogger","LocalStorageWrapper","LockManager","Promise","Run","clearInterval","err","promiseDone","regeneratorRuntime","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}function a(a,e){var f="Failed to execute 'request' on 'LockManager'",g="Lock broken by another request with the 'steal' option.",i=function(a,b,c){var d=a.get(b);if(d!=null)return d;d=c();a.set(b,d);return d};try{var j=d("LocalStorageWrapper").getStorage(h),k=function(a,b){d("LocalStorageWrapper").setItemGuarded(j,a,b,h,e==null?void 0:e.onQuotaExceeded)},l=function(a){d("LocalStorageWrapper").removeItemGuarded(j,a,h)},m=function(a){return d("LocalStorageWrapper").getItemGuarded(j,a,h)},n=function(){function a(a,b){this.lockName=a,this.tabId=b,this.lockA=this.lockName+"-a",this.lockB=this.lockName+"-b"}var d=a.prototype;d.run=function(a){return this.$1(a,0)};d.$1=function(a,d){var e=this,f=function(b){return window.requestAnimationFrame(function(){return e.$1(a,d+1).then(b)})},g=function(a){return m(a)==null};k(this.lockA,this.tabId);return new(b("Promise"))(function(b){var h=function(){try{a(),b()}finally{l(e.lockB),l(e.lockA)}};g(e.lockB)||d>10?(d>10&&c("FBLogger")("messenger_comet").warn("web-lock polyfill: Had to steal lock"),k(e.lockB,e.tabId),m(e.lockA)===e.tabId?h():window.requestAnimationFrame(function(){m(e.lockB)===e.tabId?h():f(b)})):f(b)})};return a}(),o=function(){function a(b){this.tabId=b,this.lock=new n(a.tabsKey,b),c("promiseDone")(this.$1()),this.$2(),this.keepOnlyTabs(function(b){return a.isAlive(b)})}a.isAlive=function(b){b=m(a.$3(b));return b==null?!1:Date.now()-parseFloat(b)<1e3};var e=a.prototype;e.keepOnlyTabs=function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=m(a.tabsKey))!=null?b:"[]").filter(c);b.length>0?k(a.tabsKey,JSON.stringify(b)):l(a.tabsKey)}));case 2:case"end":return d.stop()}},null,this)};e.$2=function(){var b=a.$3(this.tabId);k(b,Date.now().toString());var e=c("setInterval")(function(){k(b,Date.now().toString())},500);d("Run").onUnload(function(){c("clearInterval")(e),l(b)})};e.$1=function(){var e=this;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=m(a.tabsKey))!=null?b:"[]");k(a.tabsKey,JSON.stringify([].concat(b,[e.tabId])))}));case 2:d("Run").onUnload(function(){return c("promiseDone")(e.keepOnlyTabs(function(a){return a!==e.tabId}))});case 3:case"end":return f.stop()}},null,this)};a.$3=function(a){return"$navigator.heartbeat-"+a};return a}();o.tabsKey="$navigator.heartbeat-tabs";var p=function(){function a(b,e){var f=this;this.requests=new Map();this.name=b;this.tabId=e;this.queueKey=a.storagePrefix+"-"+b+"-q";this.currentOwnerKey=a.storagePrefix+"-"+b+"-o";this.lock=new n(a.storagePrefix+"-"+b,this.tabId);d("Run").onUnload(function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.t)!==f.tabId}))})}var e=a.prototype;e.enqueue=function(d,e,a){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=c("uuidv4")().toString();h={t:this.tabId,u:g};i=function(){d(null),f.markRequestReleased(g)};j=function(){d(g),f.markRequestReleased(g)};this.requests.set(g,[function(){return d(g)},function(){e(),f.markRequestReleased(g)}]);if(!((a==null?void 0:a.signal)!=null)){k.next=9;break}a.signal.onabort=function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.u)!==g})),j()};if(!a.signal.aborted){k.next=9;break}return k.abrupt("return",j());case 9:k.next=11;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=f.getOwner();(a==null?void 0:a.steal)===!0&&f.$1(b==null?void 0:b.u);if(b==null||(a==null?void 0:a.steal)===!0||!o.isAlive(b.t))f.$2(f.currentOwnerKey,babelHelpers["extends"]({},h,(a==null?void 0:a.steal)===!0?{s:!0}:{})),f.$3(g);else if((a==null?void 0:a.ifAvailable)!==!0){b=f.getQueue();b.push(h);f.$2(f.queueKey,b)}else i()}));case 11:case"end":return k.stop()}},null,this)};e.dequeue=function(c){var d=this,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=null;g.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner();if((b==null?void 0:b.t)!==d.tabId||(b==null?void 0:b.u)!==c)return;b=d.getQueue();b=a.getNextOwner(b);var e=b[0];b=b[1];f=e;d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}));case 3:this.$3((e=f)==null?void 0:e.u);case 4:case"end":return g.stop()}},null,this)};e.storageChangedOnOtherTab=function(a,c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(a==="o")){e.next=3;break}e.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var a=d.getOwner();if(a==null)return;d.$3(a==null?void 0:a.u);if(a.s===!0){a=c==null?void 0:c.oldValue;if(a!=null){a=JSON.parse(a);a.t===d.tabId&&d.$1(a.u)}}}));case 3:case"end":return e.stop()}},null,this)};e.getQueue=function(){var a;return(a=this.$4(this.queueKey))!=null?a:[]};e.getOwner=function(){return this.$4(this.currentOwnerKey)};a.getQueueNameAndStorageType=function(b){if(!b.startsWith(a.storagePrefix))return null;var d=b.slice(a.storagePrefix.length+1,b.length-2),e=b.charAt(b.length-1);switch(e){case"q":case"o":case"a":case"b":break;default:throw c("err")("Queue was stored with a suffix other than q or o. This is either a bug in the web lock api polyfill code, or it means that something overwrote localStorage with a weird key. Key: "+b)}return[d,e]};a.getNextOwner=function(a){for(var b=0;b<a.length;b+=1)if(o.isAlive(a[b].t))return[a[b],a.slice(b+1)];return[null,[]]};e.$4=function(a){a=m(a);return a!=null?JSON.parse(a):null};e.$2=function(a,b){b=b==null||Array.isArray(b)&&b.length===0?null:JSON.stringify(b);b==null?l(a):k(a,b)};e.keepOnlyRequests=function(c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner(),e=d.getQueue().filter(c);if(c(b))d.$2(d.queueKey,e);else{b=a.getNextOwner(e);e=b[0];b=b[1];d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}}));case 2:case"end":return e.stop()}},null,this)};e.markRequestReleased=function(a){a!=null&&this.requests["delete"](a)};e.$3=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a=a[0];a()}}};e.$1=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a[0];a=a[1];a()}}};return a}();p.storagePrefix="$navigator.locks";var q=function(){function a(a){this.$1=new Map(),this.storage=d("LocalStorageWrapper").getStorage(h),this.tabId=a,new o(this.tabId),c("promiseDone")(this.$2()),this.$3()}var e=a.prototype;e.request=function(){var a=this;for(var e=arguments.length,h=new Array(e),i=0;i<e;i++)h[i]=arguments[i];return new(b("Promise"))(function(e,i){c("promiseDone")(function(){var j,k,e,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:k=h[0];e=h.length===3?h[1]:null;l=h.length===2?h[1]:h[2];if(!k.startsWith("-")){p.next=5;break}throw new DOMException("Names cannot start with '-'.",f);case 5:if(!((e==null?void 0:e.ifAvailable)===!0&&(e==null?void 0:e.signal)!=null)){p.next=7;break}throw new DOMException("The 'signal' and 'ifAvailable' options cannot be used together.",f);case 7:m=a.$4(k);p.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){c("promiseDone")(m.enqueue(a,function(){i(new DOMException(g,f))},e))}));case 10:n=p.sent;if(!((e==null?void 0:(j=e.signal)==null?void 0:j.aborted)===!0)){p.next=13;break}throw new DOMException("The request was aborted.",f);case 13:p.prev=13;p.next=16;return b("regeneratorRuntime").awrap(l(n!=null?{mode:(o=e==null?void 0:e.mode)!=null?o:d("LockManager").LockMode.Exclusive,name:k}:null));case 16:p.prev=16;if(!(n!=null)){p.next=20;break}p.next=20;return b("regeneratorRuntime").awrap(m.dequeue(n));case 20:m.markRequestReleased(n);return p.finish(16);case 22:case"end":return p.stop()}},null,this,[[13,,16,22]])}(),e,i)})};e.query=function(){var a=[],c=[];for(var e=this.$5(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(h!=null){var i={mode:d("LockManager").LockMode.Exclusive,name:h.name};if(h.getOwner()!=null)a.push(i);else for(var h=h.getQueue(),j=Array.isArray(h),k=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l;c.push(i)}}}return b("Promise").resolve({held:a,pending:c})};e.$4=function(a){var b=this;return i(this.$1,a,function(){return new p(a,b.tabId)})};e.$3=function(){var a=this;window.addEventListener("storage",function(b){var d=b.key;if(b.storageArea!==a.storage||d==null)return;d=p.getQueueNameAndStorageType(d);if(d==null)return;var e=d[0];d=d[1];c("promiseDone")((e=a.$4(e))==null?void 0:e.storageChangedOnOtherTab(d,b))})};e.$2=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(this.$5().map(function(a){return a==null?void 0:a.keepOnlyRequests(function(a){return a==null?!1:o.isAlive(a.t)})})));case 2:case"end":return a.stop()}},null,this)};e.$5=function(){var a=this;return j==null?[]:Object.keys(j).map(function(b){b=p.getQueueNameAndStorageType(b);if(b==null)return;b=b[0];return a.$4(b)})};return a}();return new q(a)}catch(a){return null}}g.make=a}),98);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g.make=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="mwChat-"+a;c="RestoreIDBMainLock-"+a;e="dbLock-"+a;f="RestoreConcurrency-"+a;d="lsPlatformLock-"+a;var h="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreBroadcastChannelName=b;g.reStoreCMLockName=c;g.reStoreDBLockName=e;g.restoreConcurrencyBroadcastChannelName=f;g.lsPlatformLockBroadcastChannelName=d;g.lsPlatformLockName=h;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=typeof window!=="undefined"?window:self,j="iwantlock";function k(a,e){a===void 0&&(a=i);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),k=d("LSPlatformLockState").LockState.Waiting,l=c("emptyFunction"),m,n=c("gkx")("3890")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,o=function(){m!=null&&c("clearTimeout")(m);if(k===d("LSPlatformLockState").LockState.Canceled||k===d("LSPlatformLockState").LockState.Acquired)return;m=c("setTimeout")(function(){e()&&k!==d("LSPlatformLockState").LockState.Acquired&&(h.debug("tab has focus and wants to acquire sync lock"),n==null?void 0:n.postMessage(j))},3e4)};function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){h.debug("Sync lock acquired"),k=d("LSPlatformLockState").LockState.Acquired,yield b("Promise").all(Array.from(f.values()).map(function(a){return a()}))});return q.apply(this,arguments)}function r(){k=d("LSPlatformLockState").LockState.Cleaning,l=c("emptyFunction"),g.forEach(function(a){return a()})}function s(){var b=new AbortController(),f=d("LSPlatformErrorChannel").subscribe(function(e){h.debug("syncLock aborted due to "+e.name),c("FBLogger")("messenger_web_product").info("SyncLock aborted due to %s",e.name),l(),b.abort(),k=d("LSPlatformLockState").LockState.Canceled,n==null?void 0:n.removeEventListener("message",g),a.removeEventListener("focus",o),f()}),g=function a(g){if(g==null||g.data==null||g.data!==j||e())return;h.debug("got message from other tab to abort request to sync lock");l();b.abort();f();n==null?void 0:n.removeEventListener("message",a);k=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(t())};n==null?void 0:n.addEventListener("message",g);return b}function t(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:d("MessengerLocksManagerFallback").make(c("pageID"));if(e){k=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");h.debug("Sync lock requested if available");yield new(b("Promise"))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){h.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}h.debug("Attempted to acquire sync lock and suceeded");yield p();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(b("Promise"))(function(a){l=function(){h.debug("Releasing sync lock"),r(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=s();k!==d("LSPlatformLockState").LockState.Acquired&&(h.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield p();return new(b("Promise"))(function(a){l=function(){h.debug("Releasing sync lock"),r(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")h.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}))}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","messenger_web_product")}});return u.apply(this,arguments)}n!=null&&(a.addEventListener("focus",o),o());d("Run").onBeforeUnload(function(){l()},!1);return{_getStateInternal:function(){return k},hasLock:function(){return k===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){l()},requestLock:t}}var l=null;function a(){l==null&&(l=k());return l}function e(){l!=null&&l.release()}g.init=k;g.use=a;g.releaseIfExist=e}),98);
__d("ReStoreDbVersionChange",["ClientConsistencyEventEmitter","CurrentUser","LSPlatformSyncLock"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e=h;b=a.call(this,e)||this;b.message=e;b.name=i;d("LSPlatformSyncLock").releaseIfExist();switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","pdb_mismatch");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","pdb_mismatch")}return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("MAWEncyptionIndexedDbV2",["FBLogger","MAWCurrentUser","MAWErrorObject","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWTransactionMode","Promise","WAWorkerGlobalScope","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="browserEncryptionMetaV2",i="version",j=null,k=null,l=null;function m(){if(j==null)throw c("err")("Encryption IndexDB should've been initialized");return j}function a(){return j!=null}function e(){var a=d("MAWCurrentUser").getID();return new(b("Promise"))(function(b,e){try{if(j==null){if(indexedDB==null)return e();var f=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){e(c("err")("IndexedDB onsuccess and onerror were never called. IndexedDb failed to initialize."))},1e4);l=d("MAWIndexedDbMetadata").encryptionDbName(a);var g=indexedDB.open(l);g.onupgradeneeded=function(a){a=a.target.result;if(!a.objectStoreNames.contains(h)){a=a.createObjectStore(h,{autoIncrement:!0,keyPath:"id"});a.createIndex(i,i,{unique:!0})}};g.onblocked=function(){d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){e(c("err")("EAR Open timed out while blocked"))},2e3)};g.onsuccess=function(a){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(f);var e=a.target.result;e.onversionchange=function(){e.close(),c("FBLogger")("mpf_web_foundations").info("EAR onversionchange triggered"),k==null?void 0:k()};j=e;b()};g.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(f),e(g.error)}}else b()}catch(a){e(a)}})}function f(a){k=k==null?a:k}function n(a){var b=d("MAWTransactionMode").READWRITE===a?"readwrite":"readonly";a=function(a){return function(){var e=m(),f=e.transaction(h,b),g=f.objectStore(h);for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];return a.apply(void 0,[g].concat(j))["catch"](function(a){a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor v2","messenger_e2ee_web",a?{error:a}:{})})}};return a}function o(){j!=null&&j.close(),d("MAWIndexedDBDeletion").deleteDB(l)}g.storeName=h;g.ENCRYPTION_MAW_STORES_INDEX=i;g.getEncryptionDB=m;g.isEncryptionDBInited=a;g.makeEncryptionDB=e;g.maybeSetEncryptionDbOnVersionChange=f;g.makeEncryptionMsgrTransactor=n;g.deleteEncryptionDB=o}),98);
__d("MAWDbBrowserEncryptionMetaTxnsV2",["MAWCryptoConsts","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","MAWKeychainV2","MAWTransactionMode","Promise","WALogger","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Keychain - No Previous Browser Encryption Meta Exists"]);h=function(){return a};return a}function i(a){return new(b("Promise"))(function(b,e){var f=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);f=f.getAll();f.onsuccess=function(a){b(a.target.result||[])};f.onerror=function(a){e(c("err")("Error in fetching browser encryption metadata"))}})}function j(a){return new(b("Promise"))(function(b,e){var f=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);f=f.openCursor(null,"prev");f.onsuccess=function(a){b((a=a.target.result)==null?void 0:a.value)};f.onerror=function(a){e(c("err")("Error in fetching latest browser encryption metadata"))}})}function a(a,e){return new(b("Promise"))(function(b,f){var g=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);g=g.get(e);g.onsuccess=function(a){b(a.target.result)};g.onerror=function(a){f(c("err")("Error in fetching browser encryption metadata by version"))}})}function k(a,d){return new(b("Promise"))(function(b,e){var f=a.add(d);f.onsuccess=function(a){b(a.target.result)};f.onerror=function(a){e(c("err")("Error in setting encryption metadata"))}})}function l(a){return new(b("Promise"))(function(b,d){var e=a.count();e.onsuccess=function(a){b(a.target.result)};e.onerror=function(a){d(c("err")("Error in getting encryption metadata count"))}})}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),f=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();a=(yield b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(e),d("MAWKeychainCrypto").encryptDataToStringBuffer(a,f)]));var g=a[0];a=a[1];var h=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);e={expiration:h,key:e,seed:a,version:c};yield d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(k)(e);return{expiration:h,key:g,seed:f,version:c}});return n.apply(this,arguments)}function e(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a));if(a==null){void d("WALogger").LOG(h());return}if(!d("WATimeUtils").isInFuture(a.expiration))return m(b,a.version+1)});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield i(a));a=e==null?a:a.filter(function(a){return a.version<=e});var f=a.map(function(a){return b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key),d("MAWKeychainCrypto").decryptDataToArrayBuffer(c,a.seed)]).then(function(b){var c=b[0];b=b[1];return{expiration:a.expiration,key:c,seed:b,version:a.version}})});f=(yield b("Promise").all(f));var g=new Map(),h=d("MAWKeychainV2").getLatestVersion();f.map(function(a){g.set(a.version,a),h<a.version&&(h=a.version)});d("MAWKeychainV2").setLatestVersion(h);d("MAWKeychainV2").setEncryptionKeyEntries(g);return{dbEncMetas:a,encEntriesMap:g,latestVersion:h}});return q.apply(this,arguments)}function f(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield p(a,b));var e=a.dbEncMetas,f=a.encEntriesMap;a=a.latestVersion;var g=(yield d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(l)());if(g!==e.length)throw c("err")("MAWKeychain - EncMeta count does not equal the fetched amount");if(g===0&&e.length===0){g=(yield m(b,d("MAWCryptoConsts").VERSION));e=new Map();b=g.version;e.set(b,g);d("MAWKeychainV2").setEncryptionKeyEntries(e);d("MAWKeychainV2").setLatestVersion(b);return{encMaterials:e,latestVersion:b}}return{encMaterials:f,latestVersion:a}});return r.apply(this,arguments)}g.getAllBrowserEncryptionMeta=i;g.getLatestBrowserEncryptionMeta=j;g.getBrowserEncryptionMetaByVersion=a;g.setBrowserEncryptionMeta=k;g.getBrowserEncryptionMetaCount=l;g.generateNewBrowserEncryptionMeta=m;g.maybeRotateBrowserEncryptionMeta=e;g.fetchEncryptionMetas=p;g.fetchOrGenerateEncryptionMetas=f}),98);
__d("MAWKeychainV2",["MAWCryptoConsts","MAWDbBrowserEncryptionMetaTxnsV2","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","MAWTransactionMode","Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Worker Thread"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Main Thread"]);i=function(){return a};return a}var j={accountKey:null,databaseEncryptionKeys:new Map(),encryptionMaterials:new Map(),latestVersion:d("MAWCryptoConsts").VERSION};function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=s();if(a==null){var c=(yield d("MAWKeychainCrypto").genAccountKey());t(c);return c}else return b("Promise").resolve(a)});return l.apply(this,arguments)}function a(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield k());a=(yield d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").fetchOrGenerateEncryptionMetas)(a));var b=a.encMaterials;a=a.latestVersion;yield q(b);void d("WALogger").LOG(i());return a});return m.apply(this,arguments)}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield k());b=(yield d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").fetchEncryptionMetas)(b,a));a=b.encEntriesMap;if(a.size===0)throw c("err")("Worker expected EARKeychain to have been setup in Mainworker");d("WALogger").LOG(h());return q(a)});return n.apply(this,arguments)}function f(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield k());return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").maybeRotateBrowserEncryptionMeta)(a)});return o.apply(this,arguments)}function p(a){var b=a==null?u():a,d=x(b);if(d==null)throw c("err")("expected DBEncryptionKey with version "+b+" to exist - isVersionNull : "+(a==null).toString());return{key:d,version:b}}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.entries()).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];a=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(a.key,a.seed));return{dbEncKey:a,version:b}});return function(b){return a.apply(this,arguments)}}());a=(yield b("Promise").all(a));a.forEach(function(a){var b=a.dbEncKey;a=a.version;y(a,b)})});return r.apply(this,arguments)}function s(){return j.accountKey}function t(a){j.accountKey=a}function u(){return j.latestVersion}function v(a){j.latestVersion=a}function w(a){j.encryptionMaterials=a}function x(a){return j.databaseEncryptionKeys.get(a)}function y(a,b){j.databaseEncryptionKeys.set(a,b)}function z(){return j.databaseEncryptionKeys}function A(){j.accountKey=null,j.encryptionMaterials=new Map(),j.databaseEncryptionKeys=new Map(),j.latestVersion=d("MAWCryptoConsts").VERSION}g.fetchOrGenerateAccountKey=k;g.setupEARKeychain=a;g.fetchEARKeyChainForWorker=e;g.maybeRotateBrowserEncryptionMetaInTxn=f;g.getDbEncryptionKey=p;g.getLatestVersion=u;g.setLatestVersion=v;g.setEncryptionKeyEntries=w;g.getAllDatabaseEncryptionKeys=z;g.resetEARKeyChain=A}),98);
__d("MAWKeychain",["cr:4389","cr:4406"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:4406"))!=null?a:{};d=c.initSetupKeychain;f={fetchEARKeyChainForWorker:b("cr:4389").fetchEARKeyChainForWorker,getDbEncryptionKey:b("cr:4389").getDbEncryptionKey,getLatestVersion:b("cr:4389").getLatestVersion,init:(e=b("cr:4389").init)!=null?e:d,maybeRotateBrowserEncryptionMetaInTxn:b("cr:4389").maybeRotateBrowserEncryptionMetaInTxn};g["default"]=f}),98);
__d("MWEARKeychainV3",["MAWCryptoConsts","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","Promise","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},i="browserEncryptionMetaV2";function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield r(s("readonly")));if(q(a)){var c=(yield n());yield new(b("Promise"))(function(b,d){var e=s("readwrite"),f=e.objectStore(i).getAll();f.onerror=function(a){return d(a)};f.onsuccess=function(){var g;a=f.result;var h=(g=(g=a[a.length-1])==null?void 0:g.version)!=null?g:0;if(q(a)){var j=babelHelpers["extends"]({},c,{version:h+1});g=e.objectStore(i).put(j);g.onerror=function(a){return d(a)};g.onsuccess=function(){a.push(babelHelpers["extends"]({},j,{id:h+1})),b()}}}})}var e=(yield b("Promise").all(a.map(l)));for(e of e)h.databaseEncryptionKeys.set(e.version,e.key);h.latestVersion=Math.max.apply(Math,a.map(function(a){return a.version}));return d("WAResultOrError").makeResult(k())});return j.apply(this,arguments)}function k(){return h.latestVersion}function e(a){a===void 0&&(a=k());var b=h.databaseEncryptionKeys.get(a);if(b==null)throw c("err")("EAR Key "+a+" was null. Latest version: "+k());return{key:b,version:a}}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield p());c=(yield b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key),d("MAWKeychainCrypto").decryptDataToArrayBuffer(c,a.seed)]));var e=c[0];c=c[1];e=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(e,c));return{key:e,version:a.version}});return m.apply(this,arguments)}function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield p()),b=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),c=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();a=(yield d("MAWKeychainCrypto").encryptDataToStringBuffer(a,c));c=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{expiration:c,key:b,seed:a}});return o.apply(this,arguments)}var p=c("memoizeOneWithArgs")(function(){return d("MAWKeychainCrypto").genAccountKey()});function q(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function r(a){return t(a.objectStore(i).getAll()).then(function(a){return a.sort(function(a,b){return a.version-b.version})})}function s(a){var b=d("MAWEncyptionIndexedDbV2").getEncryptionDB();return b.transaction(i,a,{durability:"relaxed"})}function t(a){return new(b("Promise"))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(a){return c(a)}})}g.init=a;g.getLatestVersion=k;g.getDbEncryptionKey=e}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted LSDB was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("MAWLSDBEncryption",["LSPlatformErrorChannel","MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWKeychainV2","MWEARKeychainV3","ReStoreDecryptionFailure","err","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("4090")?d("MWEARKeychainV3").getDbEncryptionKey:d("MAWKeychainV2").getDbEncryptionKey,i=typeof window!=="undefined"?window:self;function j(a){a=atob(a);var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function k(a){var b="";a=new Uint8Array(a);var c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return i.btoa(b)}function l(a){return c("nullthrows")(JSON.stringify(a,function(a,b){if(a===""||b==null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(b instanceof ArrayBuffer)return{type:"ab",value:k(b)};else if(b instanceof Uint8Array)return{l:b.byteLength,o:b.byteOffset,type:"ui8",value:k(b.buffer)};else if(b instanceof Map)return{e:l(Array.from(b.entries())),type:"m"};else if(b instanceof Set)return{type:"s",v:l(Array.from(b.values()))};else if(typeof b==="object")return{type:"o",value:l(b)};throw c("unrecoverableViolation")("Not supported","messenger_comet")}))}function m(a){return JSON.parse(a,function(a,b){if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(typeof b==="object")if(b.type==="ab")return j(b.value);else if(b.type==="ui8")return new Uint8Array(j(b.value),b.o,b.l);else if(b.type==="o")return m(b.value);else if(b.type==="m")return new Map(m(b.e));else if(b.type==="s")return new Set(m(b.v));throw c("unrecoverableViolation")("Not supported","messenger_comet")})}function a(a,b){try{var e=h(),f=e.key;e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);return n(f,c("nullthrows")(l(a)),e)}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherData(a),f=h(e);f=f.key;f=o(f,a,e);return c("nullthrows")(m(f))}catch(a){d("LSPlatformErrorChannel").emit(new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b));throw new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b)}}function n(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(a,new Uint8Array(b),c)}function o(a,b,c){a=d("MAWKeychainNaClCrypto").decryptTweetNaClArrayBuffer(a,b,c);return new TextDecoder().decode(a)}g.stringify=l;g.parse=m;g.encryptLSDBObj=a;g.decryptLSDBObj=b}),98);
__d("MAWInit",["ExecutionEnvironment","MAWEBSwitch","MAWGating","MAWTTRC","QPLUserFlow","UserTimingUtils","asyncToGeneratorRuntime","gkx","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25310776,"6155"),i=!1,j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.error=null;c.name="MAWInitError";c.message=a;c.error=null;return c}var c=a.prototype;c.catching=function(a){this.error=a;return this};return a}(babelHelpers.wrapNativeSuper(Error)),k=!1;function l(){if(k)return;k=!0;c("QPLUserFlow").addAnnotations(h,{bool:{armadillo_init_sync_api_improvements:c("gkx")("1115"),isArmadilloPublicLaunchUser:d("MAWGating").isPublicArmadilloLaunchUser(),isEBEnabled:c("MAWEBSwitch").isEnabled(),isIndexedDbEarEnabled:!0,isTlcPublicUser:d("MAWGating").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}var m=!1;function a(){if(m)return;d("MAWTTRC").markEvent("maw_init_start");m=!0;c("QPLUserFlow").start(h,{cancelOnUnload:!0,onFlowTimeout:function(){i=!0,d("MAWTTRC").addStringAnnotation("mawInitFailReason","timeout")},timeoutInMs:c("ExecutionEnvironment").canUseDOM?6e4:0});l()}function n(a){if(!m||i)return;l();c("QPLUserFlow").addPoint(h,a)}function e(a,b){var d;if(!m||i)return;c("QPLUserFlow").addAnnotations(h,{bool:(d={},d[a]=b,d)})}function f(a,b){l(),i=!0,c("QPLUserFlow").addAnnotations(h,{string:{failReason:a}}),c("QPLUserFlow").endFailure(h,"maw_init_fail",{error:b}),k=!1,d("MAWTTRC").addStringAnnotation("mawInitFailReason",a),d("MAWTTRC").fail("maw_init_end")}function o(a,b){l(),i=!0,c("QPLUserFlow").addAnnotations(h,{string:{cancelReason:a}}),b&&c("QPLUserFlow").markError(h,"maw_init_cancel_with_error",{error:b}),c("QPLUserFlow").endCancel(h),k=!1,d("MAWTTRC").addStringAnnotation("mawInitCancelReason",a),d("MAWTTRC").markEvent("maw_init_end"),d("MAWTTRC").cancel(a,b)}function p(){l(),i=!0,c("QPLUserFlow").endSuccess(h),d("MAWTTRC").markEvent("maw_init_end"),k=!1}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("performanceNow")(),f=a+"_start",g=a+"_end";n(f);f=(yield b());n(g);c("gkx")("8518")&&d("UserTimingUtils").measureModern(a,{end:c("performanceNow")(),start:e});return f});return r.apply(this,arguments)}e={addBoolAnnotation:e,cancel:o,endSuccess:p,fail:f,logPoint:n,measurePerformance:q,start:a};g.MAWInitError=j;g.MAWInit=e}),98);
__d("MWSetupDBEncryption",["FBLogger","LSPlatformLsInitLog","MAWEncyptionIndexedDbV2","MAWKeychain","MAWMainThreadLogger","Promise","asyncToGeneratorRuntime","cr:6468"],(function(a,b,c,d,e,f,g){"use strict";f=(e=b("cr:6468"))!=null?e:{MAWInit:{measurePerformance:function(a,b){return b()}}};var h=f.MAWInit;function i(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("ear_db_init_start");try{yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB()}catch(a){a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).warn("Can not create encryption db with error"):c("FBLogger")("messenger_e2ee_web").warn("IndexedDB onerror when opening db");return{error:"keychain-setup-failure",success:!1}}try{yield h.measurePerformance("rotate_browser_encryption_meta",function(){var a;return(a=c("MAWKeychain").maybeRotateBrowserEncryptionMetaInTxn==null?void 0:c("MAWKeychain").maybeRotateBrowserEncryptionMetaInTxn())!=null?a:b("Promise").resolve()});var a=(yield h.measurePerformance("init_setup_keychain",function(){return c("MAWKeychain").init()}));d("LSPlatformLsInitLog").addPoint("ear_db_init_end");return a}catch(a){a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).warn("Error initializing EAR with error"):c("FBLogger")("messenger_e2ee_web").warn("Error initializing EAR with error");return{error:"keychain-setup-failure",success:!1}}});return j.apply(this,arguments)}function a(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(){d==null&&(d=a().then(function(a){d=c(a)?b("Promise").resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}e=a(function(){d("MAWMainThreadLogger").setupMainWaLogger();return i()},function(a){return(a==null?void 0:a.success)===!0});g.init=e}),98);
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"];b={dbVersion:4,persistedTables:new Set(a),persistedTablesArray:a};c=b;f["default"]=c}),66);
__d("MWTabNotifier",["FBLogger","MWBroadcastChannel","ReStoreNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").reStoreBroadcastChannelName);function b(b,d){try{a.postMessage([b,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function e(b,c){a.addEventListener("message",function(a){a=a.data;var d=a[0];d===b&&c(a[1])})}return{onEventReceive:e,postMessage:b}}();b=a;g["default"]=b}),98);
__d("createReStoreTableNameAllowListPersistence",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),c.clearCache==null?void 0:c.clearCache()},close:function(){a.close==null?void 0:a.close(),c.close==null?void 0:c.close()},flush:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var g=new Map(),h=new Map();e.forEach(function(a,b){d.has(b)?h.set(b,a):g.set(b,a)});yield b("Promise").all([a.flush(g,f),c.flush(h,f)])});function f(a,b){return e.apply(this,arguments)}return f}(),get:function(b,e,f,g){return d.has(e)?c.get(b,e,f,g):a.get(b,e,f,g)},logError:function(b,e,f,g){d.has(b)?c.logError==null?void 0:c.logError(b,e,f,g):a.logError==null?void 0:a.logError(b,e,f,g)},queueCommitWork:a.queueCommitWork,runExclusively:function(b){return a.runExclusively(function(){return c.runExclusively(b)})},shouldApplySync:function(b,e){if(d.has(e))return c.shouldApplySync(b,e);else return a.shouldApplySync(b,e)},shouldSync:function(b,e){if(d.has(e))return c.shouldSync(b,e);else return a.shouldSync(b,e)},types:[].concat(a.types,c.types)}}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",f),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",f),d[0].set("is_message_deletion",!1),d[1]=d[0].get("thread_key"),d[0],c.sp(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",f),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",f),d[2].set("is_message_deletion",!1),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCreateE2EEMetadataThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("offline_thread_key",a[1]),d[0].set("thread_type",a[2]),d[0].set("folder_type",a[3]),d[0].set("bump_timestamp_ms",a[4]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("offline_thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,388]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("MAWCatQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6303045499794432"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("mwReplaceToast",["BaseToasterStateManager","MWXToast.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("BaseToasterStateManager").getInstance();function a(a){var b=a.body,d=a.icon,e=a.startAddOn;e=e===void 0?null:e;var f=a.supressCloseButton;f=f===void 0?!1:f;var g=a.title,j=a.toastId;if(j==null){c("err")("toastId or toasterStateManager is not provided");return}i.replace(j,h.jsx(c("MWXToast.react"),{body:b,icon:d,onDismiss:function(){return i.expire(j)},startAddOn:e,supressCloseButton:f,title:g}))}g.mwReplaceToast=a}),98);
__d("MAWDbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("WAFixedSizeMap",[],(function(a,b,c,d,e,f){a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1["delete"](b),this.$2["delete"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a}),66);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WAFixedSizeMap","WAHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return new(b("Promise"))(function(b,c){a.onsuccess=b,a.onerror=c})}function i(a){return h(a).then(function(a){return a.target.result})}function j(a,c,e){return new(b("Promise"))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var k=new(d("WAFixedSizeMap").FixedSizeMap)({max:100});function a(a,c){var e,f=c.args,g=c.scheduleConfig,h=c.type,k=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([h,(e=k)!=null?e:d("WAHex").randomHex(32)]);var m={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:h,uniqKey:e,version:c,waitUntil:null},n=function(){var b,c=a().add(m),d=i(c);if(m.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(k!=null)return j(a,"uniqKey",e).then(function(c){if(c.length===0)return n();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(l(a,b.jobId))});return b("Promise").all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:n()})});else return n()}function l(a,b){return i(a()["delete"](b))}function c(a,b){return i(a().get(b))}function e(a,b){return i(a().put(b))}function f(a){return i(a().getAll())}function m(a){return h(a().clear()).then(function(){})}g.recentFinishedJobsCache=k;g.maybeCreateJob=a;g.deletePersistedJob=l;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f;g.clearJobs=m}),98);
__d("EphemeralMediaViewMode",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});f["default"]=a}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return c("RavenMessagingState").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return c("RavenMessagingState").UNSEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return c("RavenMessagingState").SEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return c("RavenMessagingState").REPLAYED;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return c("RavenMessagingState").EXPIRED}};b=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c("EphemeralMediaViewMode").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c("EphemeralMediaViewMode").REPLAYABLE;case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return c("EphemeralMediaViewMode").READ_ONCE}};function a(a,b){switch(b){case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?c("RavenMessagingState").SEEN:h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN)return c("RavenMessagingState").SEEN;else if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN)return c("RavenMessagingState").REPLAYED;return h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=b;g.getNextRavenMessageEphemeralState=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadReadyForChatId","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return d("MAWMiActOnMiThreadReadyForChatId").onMiThreadReadyForChatId(a,b.threadId,"MAWBridgeReactionUpsertHandler",function(a,e){return a.table("reactions").upsert({hd:e,tl:{hd:b.messageId,tl:{hd:d("I64").of_string(b.actorId),tl:0}}},{actorId:d("I64").of_string(b.actorId),authorityLevel:d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:b.messageId,reaction:b.reaction,threadKey:e,timestampMs:d("MAWTimeUtils").toTimestamp(b.ts)})})}function a(a,b,e,f,g,h){return d("MAWMiActOnMiThreadReadyForChatId").onMiThreadReadyForChatId(a,e,"MAWBridgeReactionUpsertHandler",function(a,e){return a.table("reactions").upsert({hd:e,tl:{hd:f,tl:{hd:d("I64").of_string(b),tl:0}}},{actorId:d("I64").of_string(b),authorityLevel:d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:f,reaction:h,threadKey:e,timestampMs:d("MAWTimeUtils").toTimestamp(g)})})}function b(a,b){return h(a,b).then(function(){})}g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.removeClientRestoreStatus=b}),66);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","MAWUpdateClientRestoreStatusOperationType","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("encrypted_backups_client_restore_status")).filter(function(a){return a.threadId===c})).then(function(c){if(c!=null)return a.table("encrypted_backups_client_restore_status")["delete"]({hd:c.threadId,tl:0}).then(function(){});else return b("Promise").resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("encrypted_backups_client_restore_status"))).then(function(c){return c.reduce(function(b,c){return b.then(function(){return h(a,c.threadId)})},b("Promise").resolve())})}function c(a,b){var c=b.action;if(c===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus){c=b.threadId;return a.table("encrypted_backups_client_restore_status").put({lastUpdated:d("I64").of_float(Date.now()),threadId:c})}else return h(a,b.threadId)}g.truncateClientRestoreStatusTable=a;g.call=c}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","MAWGating","Promise","WALogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);h=function(){return a};return a}function i(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(!d("MAWGating").isOccamadilloResumeSyncEnabled()&&c!=null)return a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:d("LSIntEnum").ofNumber(c.groupId)}));else return b("Promise").resolve()}function j(a){if(!d("MAWGating").isOccamadilloResumeSyncEnabled())return a.table("network_requests").put({epochId:void 0,failureCount:d("I64").zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:d("I64").zero,lastSyncRequestTimestampMs:d("I64").zero,networkTaskIdentifier:void 0,syncDatabaseId:d("LSIntEnum").ofNumber(95),taskQueueName:""});else return b("Promise").resolve()}function a(a){d("WALogger").LOG(h()),c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all([i(a),j(a)])},"readwrite"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWEBSwitch","MAWGating","QPLUserFlow","UserTimingUtils","asyncToGeneratorRuntime","gkx","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25310984,"169");function a(a){var e=a!=null?{instanceKey:a}:void 0,f=!1,g=!1;function i(){if(g)return;g=!0;c("QPLUserFlow").start(h,babelHelpers["extends"]({cancelOnUnload:!0,onFlowTimeout:function(){f=!0},timeoutInMs:c("ExecutionEnvironment").canUseDOM?6e4:0},e));n()}function j(a){if(!g||f)return;n();c("QPLUserFlow").addPoint(h,a,e)}function k(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(h,{bool:(d={},d[a]=b,d)})}function l(a){n(),f=!0,c("QPLUserFlow").addAnnotations(h,{string:{failReason:a}},e),c("QPLUserFlow").endFailure(h,"maw_init_fail",e),m=!1}var m=!1;function n(){if(m)return;m=!0;c("QPLUserFlow").addAnnotations(h,{bool:{armadillo_init_sync_api_improvements:c("gkx")("1115"),isArmadilloPublicLaunchUser:d("MAWGating").isPublicArmadilloLaunchUser(),isEBEnabled:c("MAWEBSwitch").isEnabled(),isIndexedDbEarEnabled:!0,isTlcPublicUser:d("MAWGating").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function o(a){n(),f=!0,c("QPLUserFlow").addAnnotations(h,{string:{cancelReason:a}},e),c("QPLUserFlow").endCancel(h,e),m=!1}function p(){n(),f=!0,c("QPLUserFlow").endSuccess(h,e),m=!1}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("performanceNow")(),f=a+"_start",g=a+"_end";j(f);f=(yield b());j(g);c("gkx")("8518")&&d("UserTimingUtils").measureModern(a,{end:c("performanceNow")(),start:e});return f});return r.apply(this,arguments)}return{addBoolAnnotation:k,cancel:o,endSuccess:p,fail:l,logPoint:j,measurePerformance:q,start:i}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,e=a.db,f=a.dispatch,g=a.dispatchClearEphemeralSettings,h=a.environment,i=a.getOrSetupWorker,j=a.instanceKey,k=a.logout,l=a.reregisterDevice,m=a.setupBridge;a=d("MAWReinit").getMAWReinit(j);j=function(){f({tag:"InitOfflineQueueSyncComplete",value:void 0})};yield d("MAWCommonBackendSetup").setupArmadilloBackend(i,a,function(a){c("promiseDone")(m({dispatch:f,environment:h,logout:k,reregisterDevice:l,worker:a}).then(function(){b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(e)}))},j,j);a.endSuccess();g()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",INTEROP:"interop",ARCHIVED:"archived",UNKNOWN:""});f["default"]=a}),66);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.OfflineStatus=c}),66);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWClientConsistencyRefresh","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWReinitWorker","MAWStateContext.react","MAWTTRC","MAWWaitForBackendSetup","QPLUserFlow","Run","WALoggerDeferred","asyncToGeneratorRuntime","gkx","qex","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, shared worker is active on a different tab"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);i=function(){return a};return a}a=d("react");var j=a.useCallback,k=a.useEffect,l=a.useMemo,m=c("FBLogger")("messenger_e2ee_web"),n=!1,o=0;function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(document.visibilityState!=="visible")return!1;a=a();var f=window.indexedDB!=null,g=d("MAWLocalStorage").isLocalStorageAvailable();if(a){void d("WALoggerDeferred").DEV(i());return!1}if(!f||!g)return!1;if(yield b()){void d("WALoggerDeferred").DEV(h());c("MAWClientConsistencyRefresh")("worker_mismatch");e();return!1}return!0});return q.apply(this,arguments)}e=function(a,e,f){var g=e.doesWorkerExist,h=e.getOrSetupWorker,i=e.isSharedWorkerActive,q=e.logout,r=e.reregisterDevice,s=e.setupBridge,t=e.terminateWorker,u=e.terminateWorkerPermanently,v=l(function(){return d("MAWAppMutex").use()},[]),w=c("useReStore")(),x=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),y=w.persistenceTypes.includes("indexeddb"),z=j(function(a){var b=v.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;y||d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});t("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();c("gkx")("4146")?(d("MAWTTRC").addBoolAnnotation("workerMutexLost",!0),d("MAWInit").MAWInit.addBoolAnnotation("workerMutexLost",!0)):c("gkx")("5928")&&(d("MAWTTRC").fail("mutex_lost"),d("MAWInit").MAWInit.fail("mutex_lost"));v.onMutexDeath()},[v,y,t]),A=j(function(){t("MAWSetupMutexV2:handleUnload"),v.onMutexDeath()},[v,t]),B=j(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield p(g,i,u));if(!b||n||c("qex")._("215")===!0)return;n=!0;o++;try{yield c("MAWReinitWorker")({allTablesPersisted:y,db:w,dispatch:f,dispatchClearEphemeralSettings:x,environment:a,getOrSetupWorker:h,instanceKey:o,logout:q,reregisterDevice:r,setupBridge:s}),d("MAWWaitForBackendSetup").resolveBackendSetup(),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){m.mustfix("AppMutex - failed to reinitialize worker: "+a.message.concat(" (",a.error,")")),m.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:o})}finally{n=!1}}),[y,w,f,x,g,a,h,i,q,r,s,u]);k(function(){window.addEventListener("storage",z);var a=d("Run").onBeforeUnload(A,!1),b=d("Run").onUnload(A);window.addEventListener("visibilitychange",B);return function(){window.removeEventListener("storage",z),a.remove(),b.remove(),window.removeEventListener("visibilitychange",B)}},[z,A,B])};g.useMutex=e}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.dispatch,c=a.environment;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(c,a,b);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",["I64","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c={},e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).filter(function(a){return d("I64").to_int32(a.threadType)===16||d("I64").to_int32(a.threadType)===15}).map(function(a){return a.threadKey}))),f=(yield b("Promise").all(e.map(function(b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(b).filter(function(a){return!a.isAdminMessage}))})));e.forEach(function(a,b){c[d("I64").to_string(a)]=f[b].length});return c});return h.apply(this,arguments)}function c(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(b).filter(function(a){return!a.isAdminMessage})));return a.length});return i.apply(this,arguments)}g.fetchArmadilloThreadMessageCounts=a;g.fetchArmadilloThreadMessageCount=c}),98);
__d("MWChatDataLossCheckerUtil",["Crypto.bs","FBLogger","I64","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","promiseDone","qex","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("qex")._("460"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield d("Crypto.bs").digest("SHA-256",b));return h(a)}catch(a){return a}});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=(yield i(a));b!=null?(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),c("QuickPerformanceLogger").markerEnd(g,2)):(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),c("QuickPerformanceLogger").markerEnd(g,2))}else b!=null?(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),c("QuickPerformanceLogger").markerEnd(g,2)):(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),c("QuickPerformanceLogger").markerEnd(g,2))});return l.apply(this,arguments)}function m(a){var b=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent,h=a.threadId;return!c("gkx")("7965")?k({currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h}):c("LSDatabaseSingleton").then(function(a){return d("MAWMiActOnActThreadReady").onActThreadReady(a,d("I64").of_string(h),"MWChatDataLossCheckerUtil",function(a,i,j){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","fetchArmadilloThreadMessageCount",{threadId:i}).then(function(a){return k({currentIDBCnt:a,currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h})})["catch"](function(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to fetch IndexDB message count");return k({currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h})})})})}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=c("WebStorage").getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[d("I64").to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return n.apply(this,arguments)}function e(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var e=c("WebStorage").getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return b("Promise").resolve(null);e=JSON.parse(e);return b("Promise").resolve({current:a,previous:e})}).then(function(a){if(a==null)return b("Promise").resolve();var c=a.current;a=a.previous;return o(a,c)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(d,f)&&e.push(f);f=[];for(var g=0;g<e.length;g++){var h=e[g],i={currentMsgCnt:d[h],prevMsgCnt:a[h],threadId:h};a[h]>0&&d[h]===0?(f.push(m(babelHelpers["extends"]({},i,{qplEvent:c("qpl")._(717553665,"1183")}))),f.push(m(babelHelpers["extends"]({},i,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(f.push(m(babelHelpers["extends"]({},i,{qplEvent:c("qpl")._(717553666,"1184")}))),f.push(m(babelHelpers["extends"]({},i,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield b("Promise").all(f)});return p.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(i(b).then(function(d){c("QuickPerformanceLogger").markerStartFromNavStart(c("qpl")._(717567419,"1383")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),c("QuickPerformanceLogger").markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=m;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=o;g.logLocalStatistics=f}),98);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatDataLossCheckerUtil","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i="armadillo_msgr_data_loss_stats";function a(){h(function(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,function(){c("promiseDone")(c("LSDatabaseSingleton").then(function(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){c("WebStorage").setItemGuarded(c("WebStorage").getLocalStorage(),i,JSON.stringify(a)),c("qex")._("1259")&&d("MWChatDataLossCheckerUtil").logLocalStatistics(a)})}))})},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}},[])}g.DATA_LOSS_STATISTICS_STORAGE_KEY=i;g.useDataLossStatisticsStorageListener=a}),98);
__d("useOnMawSetupComplete.react",["promiseDone","react","waitForMAWTTRC"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){h(function(){var b=!1;c("promiseDone")(d("waitForMAWTTRC").promise.then(function(){if(b)return;a()}));return function(){b=!0}},b)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["LSDatabaseSingleton","MWChatDataLossCheckerUtil","asyncToGeneratorRuntime","cr:3504","promiseDone","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener(),d("useOnMawSetupComplete.react").useOnMawSetupComplete(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){b("cr:3504")==null?void 0:b("cr:3504").logMAWDBUsageMetrics();var a=(yield c("LSDatabaseSingleton"));return a.runInTransaction(function(a){return d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)},"readwrite")})())},[])}g["default"]=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;b=24*60*60*1e3;var i=5*b;function a(){h(function(){var a=c("setTimeout")(function(){d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)},i);return function(){return c("clearTimeout")(a)}})}g["default"]=a}),98);
__d("useMAWContactSync",["I64","JSScheduler","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWBridgeFireAndForget","MAWContactRelationshipType","Promise","ReQL","asyncToGeneratorRuntime","debounceCore","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){h(function(){var a=new(b("Promise"))(function(a){c("JSScheduler").scheduleSpeculativeCallback(function(){c("promiseDone")(c("LSDatabaseSingleton").then(function(b){return i(b).then(function(a){return l(a)}).then(function(){return j(b)}).then(function(b){return a(b)})}))})});return function(){c("promiseDone")(a.then(function(a){return a()}))}},[])}function i(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("contacts")).filter(function(a){return d("I64").to_int32(a.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE}))}function j(a){return d("ReQL").fromTableAscending(a.table("contacts")).subscribe(n)}var k=!1;function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(k===!0)return;k=!0;yield d("LSInitSyncCompleteSubscription").use;yield d("MAWBridgeFireAndForget").fireAndForget("backend","updateContacts",{contacts:a.map(o)})});return m.apply(this,arguments)}function n(a,b){if(b.operation==="delete")return;b=b.value;p.set(a,b);q()}function o(a){var b;b=(b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),a))!=null?b:!1;return{fbid:d("I64").to_string(a.id),isBlocked:!d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isRestricted:b,name:a.name,relationship:d("MAWContactRelationshipType").getContactRelationshipType(a)}}var p=new Map(),q=c("debounceCore")(function(){d("MAWBridgeFireAndForget").fireAndForget("backend","updateContacts",{contacts:Array.from(p.values()).map(o)}),p.clear()},1e3);g.useMAWContactSync=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","ODS","WATagsLogger","asyncToGeneratorRuntime","react","shouldUseMAWSharedWorker","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);h=function(){return a};return a}e=d("react");var i=e.useCallback,j=e.useContext,k=!1,l=typeof window!=="undefined"?window:self;function m(){k=!0,d("MAWSetupWorker").terminateWorkerPermanently(),d("ODS").bumpEntityKey(3185,"armadillo_forced_reregister_fail",l.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}function a(a,e){var f=e.getOrSetupWorker,g=e.setupBridge,n=e.terminateWorker,o=c("useReStore")(),p=d("MAWStateContext.react").useDispatchClearEphemeralSettings();e=j(d("MAWStateContext.react").MAWStateContext);var q=e.dispatch;return i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(k)return;d("ODS").bumpEntityKey(3185,"armadillo_forced_deregister",l.location.hostname);yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","removeCurrentDevice");var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();b&&(yield d("MAWSetupWorker").killSharedWorker());n("useMAWReregisterDeviceOnError");try{yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:o,dispatch:q,dispatchClearEphemeralSettings:p,environment:a,getOrSetupWorker:f,logout:m,reregisterDevice:m,setupBridge:g})}catch(a){b=a.description||a.message||a;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(h(),b);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[n,o,q,p,a,f,g])}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWSetupMutex.react","MAWSetupWorker","MAWStateContext.react","MAWWebWorkerInstance","cr:6159","cr:6160","cr:6470","promiseDone","react","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWContactSync","useMAWReregisterDeviceOnError"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useEffect,k=e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");function a(a){var e=a.children,f=a.fbid,g=a.logout,l=a.setupBridge;a=i(d("MAWStateContext.react").MAWStateContext);a=a.dispatch;var m=d("CometRelay").useRelayEnvironment(),n=c("useMAWReregisterDeviceOnError")(m,{doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,isSharedWorkerActive:d("MAWSetupWorker").isSharedWorkerActive,setupBridge:l,terminateWorker:d("MAWSetupWorker").terminateWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently}),o=k(function(){return{doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,isSharedWorkerActive:d("MAWSetupWorker").isSharedWorkerActive,logout:g!=null?g:function(){return c("promiseDone")(n())},reregisterDevice:function(){return c("promiseDone")(n())},setupBridge:l,terminateWorker:d("MAWSetupWorker").terminateWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently}},[g,n,l]);d("MAWCommonSetup").useArmadillo(o);d("useMAWContactSync").useMAWContactSync();c("useLegacyUserWatchdog")();c("useDataLossChecker")();b("cr:6470")==null?void 0:b("cr:6470")();j(function(){d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker()});var p=i(c("BaseHeadingContext")),q=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();return h.jsxs(c("BaseHeadingContext").Provider,{value:p+1,children:[e,q?h.jsx(c("MAWSetupMutex.react"),{dispatch:a,environment:m,fbId:f,platformSetupUtils:o}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSetup.react",["CometPlaceholder.react","CurrentUser","MAWOembedIframeContainer.react","MAWSetupBridge","MAWSetupImpl.react","cr:3487","cr:6809","deferredLoadComponent","promiseDone","qex","react","requireDeferredForDisplay","useSecretConversationsLogOut"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=b("cr:6809")!=null?b("cr:6809").CometLogoutProvider:function(a){a=a.children;return h.jsx(h.Fragment,{children:a})},l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWLoadingStateSpinner.react").__setRef("MAWSetup.react"));function a(a){a=a.children;var e=c("qex")._("1386")===!0,f=c("useSecretConversationsLogOut")(!1),g=i(function(){c("promiseDone")(f())},[f]);j(function(){var a=d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();return function(){a==null?void 0:a.stopListening()}},[]);return h.jsxs(k,{children:[h.jsx(c("MAWSetupImpl.react"),{fbid:c("CurrentUser").getID(),logout:e?g:void 0,setupBridge:d("MAWSetupBridge").setupBridge,children:a}),h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(l,{})}),b("cr:3487")&&h.jsx(b("cr:3487"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWLoadingStateToastSelectors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.offlineQueueCount};b=function(a){return a.offlineQueueProgressDownloaded};c=function(a){return a.offlineQueueProgressProcessed};f.offlineQueueCountSelector=a;f.offlineQueueProgressCountSelector=b;f.offlineQueueConsumerProgressCountSelector=c}),66);
__d("MAWLoadingStateSpinner.react",["fbt","ix","BaseToasterStateManager","CometDarkModeContext","CometIcon.react","CometProgressRingDeterminate.react","MAWLoadingStateToastSelectors","MAWStateContext.react","fbicon","mwPushToast","mwReplaceToast","react","useMAWOfflineQueueLoadingIndicator"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");e=b.memo;var k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=function(a){return h._("__JHASH__LlHcIvsh5It__JHASH__",[h._param("restoredPercentage",a.toFixed(0).toString())])},p=h._("__JHASH__EPxp6BXcf-B__JHASH__");function q(a,b,c){if(c===0)return 100;a=50*(a/c);b=50*(b/c);return Math.min(100,b+a)}var r=c("BaseToasterStateManager").getInstance();function s(a,b,d,e){a=q(a,b,d);b=o(a);return{icon:{comet:j.jsx(c("CometProgressRingDeterminate.react"),{color:e?"dark":"light",percentage:a,size:20})},startAddOn:{source:a,type:"progressRing"},title:b}}function t(a){d("mwReplaceToast").mwReplaceToast({icon:{comet:j.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("498146"),20)}),mds:d("fbicon")._(i("477815"),24)},title:p,toastId:a})}function a(){var a=k(c("CometDarkModeContext")),b=c("useMAWOfflineQueueLoadingIndicator")(!0),e=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueCountSelector),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueProgressCountSelector),g=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueConsumerProgressCountSelector),h=n();m(function(){if(b)h.current==null?h.current=d("mwPushToast").mwPushToast(s(f,g,e,a.currentSetting==="ENABLED"),Number.MAX_SAFE_INTEGER):d("mwReplaceToast").mwReplaceToast(babelHelpers["extends"]({},s(f,g,e,a.currentSetting==="ENABLED"),{toastId:h.current}));else if(h.current!=null){var c=h.current;t(c);window.setTimeout(function(){r.expire(c),h.current=void 0},2750)}},[b,f,g,e,a.currentSetting]);l(function(){return function(){h.current!=null&&r.expire(h.current)}},[]);return null}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10027731370600885"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null});g["default"]=b}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["hasBaseTypeaheadNetworkQueryCache","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var j=a.fetch;a=h(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};j(d)}var h=c("hasBaseTypeaheadNetworkQueryCache")()?d.trimLeft().replace(/\s+/g," "):d.trimLeft();if(!f)return;e?e.trace(function(b){return a(h,b)},h):a(h)},[g,j,f,b,d,e]);i(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.loggingProvider,d=a.queryString;a=a.traceProvider;c("useCometInternalTypeaheadFetchHandler")({loggingProvider:b,queryString:d,traceProvider:a});return null}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.callback,d=a.loggingProvider,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){d!=null&&d.isSessionActive()&&(d.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnAbandonLoggingHandler"),d.endSession()),b&&b()},[f,d,b,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onEnter,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries,g=a.highlightedEntry;return h(function(){g!=null&&(b&&b.addEvent({action:"click",entries:f,entry:g,queryString:e},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),g==null&&(b&&b.addEvent({action:"enter",entries:f,queryString:e},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),b&&b.endSession(),d&&d()},[f,g,b,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onFocus,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&(b.startSession(),b.addEvent({action:"typeahead_appeared",entries:f,queryString:e},"useCometInternalTypeaheadOnFocusLoggingHandler")),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onPressEntry,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(a,c){b!=null&&(b.addEvent({action:"click",entries:f,entry:a,queryString:e},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),b.endSession()),d&&d(a,c)},[f,b,d,e])}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(a){var b=i(null),d=h(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,e=a.layoutStrategyRenderer,f=a.loggingProvider,g=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,o=a.queryString,p=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var q=b.composedRef,r=b.inputRef;b=c("useCometInternalTypeaheadState")();var s=b.highlightedEntry;b=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:f,onEnter:i(function(){s!=null?k&&k(s):l&&l(o),g&&g()},[s,g,k,l,o]),queryString:o});j=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:f,onFocus:j,queryString:o});var t=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:f,onPressEntry:i(function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},[r,k]),queryString:o});m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:m,loggingProvider:f,queryString:o});n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:n,loggingProvider:f,queryString:o});var u=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:f,queryString:o}),v=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:f,queryString:o});return h.jsxs(h.Fragment,{children:[h.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:f,queryString:o,traceProvider:p}),h.jsx(e,babelHelpers["extends"]({},a,{inputRef:q,onAbandonTypeahead_DO_NOT_USE:v,onClick:c("emptyFunction"),onEnter:b,onFocus:j,onHighlightEntry:a.onHighlightEntry,onOutsideClick:u,onPressEntry:t,onShiftTab:m,onTab:n,queryString:o,traceProvider:p,xstyles:a.xstyles}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useState;function a(a){var b=a.children,d=a.isLoading;a=a.source;var e=j(!0),f=e[0],g=e[1];i(function(){d&&g(!1)},[d]);e=["all","network"].includes(a);a=!(e&&f||d);return h.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;a=c("useBaseTypeaheadDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;k((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[k,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=j(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:e,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useState;function a(a){var b=a.autoOpen,d=a.children,e=a.onClose,f=a.onOpen;a=k(b);var g=a[0],l=a[1],m=i(function(a){if(a===g)return;l(a);a?f():e()},[g,e,f]);b=j(function(){return{dispatchIsOpened:m,isOpened:g}},[m,g]);return h.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:b,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=[];function a(a){var b=a.autoOpen,d=a.children,e=a.onOpen,f=a.onClose;a=a.emptyEntries_DO_NOT_USE;var g=a===void 0?n:a;a=m(null);var o=a[0],p=a[1];a=m(null);var q=a[0],r=a[1];a=m(g);var s=a[0],t=a[1],u=l(g);j(function(){if(u.current===g)return;u.current=g;t(function(a){return a.length?a:g})},[t,u,g]);var v=i(function(a){t(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:u.current})},[t,u]),w=i(function(a){var b=a.entry;a=a.source;p(b);r(a)},[]);a=k(function(){return{dispatchActiveEntries:v,dispatchHighlightedEntry:w}},[v,w]);var x=k(function(){return{activeEntries:s,highlightedEntry:o,highlightedEntrySource:q}},[s,o,q]);return h.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:a,children:h.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:x,children:h.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:b,onClose:f,onOpen:e,children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=b.shouldQueryStringFollowHighlightedEntry;return h.forwardRef(function(b,e){var f=b.queryString;b=babelHelpers.objectWithoutPropertiesLoose(b,["queryString"]);var g=c("useCometInternalTypeaheadState")(),i=g.highlightedEntry;g=g.highlightedEntrySource;g=d&&g==="keyboard"&&i!=null?i.label:f;return h.jsx(a,babelHelpers["extends"]({},b,{queryString:g,ref:e}))})}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.inputStrategyRenderer,f=a.dataSource,g=a.dataSourceFetchConfigParams,k=a.decorators,l=k===void 0?[]:k;k=a.emptyEntries_DO_NOT_USE;var m=a.id,n=a.isDisabled;n=n===void 0?!1:n;var o=a.label;o=o===void 0?"":o;var p=a.loggingContext,q=a.onBackspace;q=q===void 0?c("emptyFunction"):q;var r=a.onBlur;r=r===void 0?c("emptyFunction"):r;var s=a.onChange,t=a.onClose;t=t===void 0?c("emptyFunction"):t;var u=a.onEnter;u=u===void 0?c("emptyFunction"):u;var v=a.onEscape;v=v===void 0?c("emptyFunction"):v;var w=a.onFetchEntries_DO_NOT_USE,x=a.onFocus;x=x===void 0?c("emptyFunction"):x;var y=a.onOpen;y=y===void 0?c("emptyFunction"):y;var z=a.onPressEntry,A=a.placeholder;A=A===void 0?"":A;var B=a.shouldQueryStringFollowHighlightedEntry,C=B===void 0?!0:B;B=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var D=B===void 0?!0:B;B=a.testid;B=B===void 0?"":B;B=a.traceProvider;var E=a.viewRole;E=E===void 0?"listbox":E;var F=a.viewStrategyRenderer,G=a.inputRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]);var H=c("useCometUniqueID")(),I=j(function(){var a=c("CometInternalTypeahead.react");l.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[l]),J=i(function(a){D&&s(a.label),z&&z(a)},[s,z,D]),K=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:C})},[e,C]);o=o||A;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:k,onClose:t,onOpen:y,children:h.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:f,dataSourceFetchConfigParams:g,loggingContext:p,onFetchEntries_DO_NOT_USE:w,traceProvider:B,children:h.jsx(I,babelHelpers["extends"]({},a,{autoFocus:d,id:(b=m)!=null?b:H,inputRef:G,inputStrategyRenderer:K,isDisabled:n,label:o,onBackspace:q,onBlur:r,onChange:s,onDownArrow:c("emptyFunction"),onEnter:u,onEscape:v,onFocus:x,onHighlightEntry:c("emptyFunction"),onPressEntry:J,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:A,testid:void 0,traceProvider:B,viewRole:E,viewStrategyRenderer:F}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.text;return h.jsx("div",{className:"x1xmf6yo",children:h.jsx(c("TetraTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.segment.content;return h.jsx(c("TetraText.react"),{type:"bodyLink3",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.segment.content;return h.jsx(c("TetraText.react"),{type:"body3",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.content,f=a.query;a=a.strategy;if(f==null||e==null)return null;var g=null;switch(a){case"match":g=d("cometTypeaheadHighlightUtils").highlightMatch;break;case"non-match":g=d("cometTypeaheadHighlightUtils").highlightNonMatch;break;default:}return g&&f.length!==0?b(h.jsx(h.Fragment,{children:g(f,e).map(function(a,b){return a.isMatched?h.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):h.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))})})):b(h.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:e,isMatched:!1}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadFocusLockRegion.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children;a=a.xstyle;var d=i(function(a){a.preventDefault()},[]);return h.jsx("div",{className:c("stylex")(a),onMouseDown:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onBlur;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return h(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.inputRef,d=a.onBlur,e=a.onFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]);b=c("useCometTypeaheadInputStrategyOnFocusHandler")({inputRef:b,onFocus:e});e=c("useCometTypeaheadInputStrategyOnBlurHandler")({onBlur:d});return babelHelpers["extends"]({},a,{onBlur:e,onFocus:b})}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onChange;return h(function(a){var c=a.target.value;b&&b(c,a)},[b])}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={root:{width:"xh8yej3",$$css:!0}};function a(a,b){var d=a.children,e=a.isInline,f=a.onBackspace,g=a.onDownArrow,l=a.onEnter,m=a.onEscape,n=a.onShiftTab,o=a.onTab,p=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var q=j(function(){return[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__2XTxAX3qgrF__JHASH__"),handler:function(){return f&&f()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return g&&g()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return p&&p()},triggerFromInputs:!0},{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return l&&l()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return o&&o()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return n&&n()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}]},[f,g,l,m,n,o,p]);b=c("useCometTypeaheadInputRefs")(b);var r=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:q,elementType:e===!0?"span":"div",xstyle:k.root,children:d(r,b)})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{WebkitAppearance:"xo6swyp","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=i(null);h(function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=b.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},[a]);return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return h(function(){d({entry:null,source:null}),b&&b()},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onChange,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry;return h(function(a,c){e!=null&&d(null,"keyboard"),b&&b(a,c)},[e,b,d])}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useCometInternalTypeaheadState")(),b=a.activeEntries;a=a.highlightedEntry;var e=c("baseTypeaheadFlattenEntries")(b),f=a!=null?a.key:null;b=h(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(e,f,function(b){a(b,"keyboard")})},[f,e]);a=h(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(e,f,function(b){a(b,"keyboard")})},[f,e]);return{onKeyboardDownArrow:b,onKeyboardUpArrow:a}}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onDownArrow,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardDownArrow;return h(function(){e(d),b&&b()},[b,d,e])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return h(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return h(function(a,c){d({entry:a,source:c}),b&&b(a,c)},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return h(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onPressEntry;return h(function(a,c){b(a,c)},[b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onHighlightEntry,d=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardUpArrow;return h(function(){e(b),d&&d()},[b,e,d])}g["default"]=a}),98);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var c=h(function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},[a,b]);i(function(){document.addEventListener("click",c);return function(){document.removeEventListener("click",c)}},[c])}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=h(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse")}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var d=b.align;d=d===void 0?"stretch":d;var e=b.position;e=e===void 0?"below":e;b=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]);var f=a.description,g=a.errorMessage,j=a.extraLayoutProps,k=j.ariaProps,l=k.ariaDescribedByProps,m=k.ariaInputProps,n=k.ariaViewProps;k=j.helperTextComponent;var o=j.isLoading;j=j.isOpened;var p=a.inputStrategyRenderer,q=a.label,r=a.onBackspace,s=a.onBlur,t=a.onFocus,u=a.onClick,v=a.onDownArrow,w=a.onEnter,x=a.onEscape,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,B=a.queryString,C=a.inputRef,D=a.viewStrategyRenderer,E=a.xstyles,F=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=i(null);var G=i(null),H=G.current,I=c("useCometInternalTypeaheadState")(),J=I.activeEntries,K=I.highlightedEntry,L=c("cometHandleHighlightDropOnMouseLeave")(F.onHighlightEntry);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(E==null?void 0:E.layoutXStyle),ref:G,children:h.jsx("div",{className:c("stylex")(E==null?void 0:E.inputXStyle),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:r,onBlur:s,onChange:F.onChange,onClick:u,onDownArrow:v,onEnter:w,onEscape:x,onFocus:t,onShiftTab:y,onTab:z,onUpArrow:A,ref:C,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({},b,{ariaProps:m,autoFocus:F.autoFocus,description:f,errorMessage:g,id:F.id,inputEndContent:F.inputEndContent,inputExtraProps:F.inputExtraProps,inputStartContent:F.inputStartContent,isDisabled:F.isDisabled,label:q,placeholder:F.placeholder,queryString:B,ref:a,testid:void 0}))}})})}),k!=null&&h.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},l,{children:k})),H&&j&&h.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},b,{align:d,context_DEPRECATED:H,position:e,ref:a,children:h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:F.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(E==null?void 0:E.viewXStyle_DO_NOT_USE),onMouseLeave:L,ref:a,children:h.jsx(D,{ariaProps:n,entries:J,highlightedEntry:K,isLoading:o,onAbandonTypeahead_DO_NOT_USE:F.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:F.onHighlightEntry,onPressEntry:F.onPressEntry,queryString:B})})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onBlur,e=a.onChange,f=a.onDownArrow,g=a.onEnter,i=a.onEscape,j=a.onHighlightEntry,k=a.onOutsideClick,l=a.onPressEntry;a=a.onUpArrow;j=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:j});d=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:d});var m=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:e,onHighlightEntry:j});e=c("useCometTypeaheadLayoutStrategyOnEnterHandler")({inputRef:b,onEnter:g});g=h(function(){m(""),i&&i()},[m,i]);f=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:f,onHighlightEntry:j});a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:j,onUpArrow:a});l=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")({onPressEntry:l});b=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:k});return{onBlur:d,onChange:m,onDownArrow:f,onEnter:e,onEscape:g,onHighlightEntry:j,onOutsideClick:b,onPressEntry:l,onUpArrow:a}}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,i=b.onTab,j=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);b=a.inputRef;a=a.shouldHandleCloseAfterHandlePressEntry;var k=a===void 0?!1:a;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var l=a.dispatchIsOpened,m=a.isOpened;a=h(function(){l(!1),f&&f()},[l,f]);b=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(babelHelpers["extends"]({inputRef:b,onOutsideClick:a},j));a=b.onBlur;var n=b.onChange,o=b.onDownArrow,p=b.onEnter,q=b.onEscape,r=b.onHighlightEntry,s=b.onOutsideClick,t=b.onPressEntry,u=b.onUpArrow;b=h(function(){l(!1),d&&d()},[l,d]);var v=h(function(){l(!0),e&&e()},[l,e]),w=h(function(a,b){l(!0),n&&n(a,b)},[l,n]),x=h(function(){m?o&&o():l(!0)},[l,m,o]),y=h(function(){l(!1),p&&p()},[l,p]),z=h(function(){m?(l(!1),j.onEscape&&j.onEscape()):q&&q()},[l,j,m,q]),A=h(function(a,b){k||l(!1),t&&t(a,b),k&&l(!1)},[l,t,k]),B=h(function(){l(!1),g&&g()},[l,g]),C=h(function(){l(!1),i&&i()},[l,i]),D=h(function(){!m?l(!0):u&&u()},[l,m,u]);return{onAbandonTypeahead_DO_NOT_USE:b,onBlur:a,onChange:w,onClick:v,onDownArrow:x,onEnter:y,onEscape:z,onHighlightEntry:r,onOutsideClick:s,onPressEntry:A,onShiftTab:B,onTab:C,onUpArrow:D}}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=a.isDisabled,c=b===void 0?!1:b;b=a.isError;var d=b===void 0?!1:b;b=a.isOpened;var e=b===void 0?!1:b;b=a.isWarning;var f=b===void 0?!1:b;b=a.xstyles;var g=b.inputXStyle,j=b.layoutOpenedXStyle,k=b.layoutXStyle,l=b.viewXStyle_DO_NOT_USE;return h(function(){return{inputXStyle:g,layoutXStyle:[i.defaultLayout,k,e&&j,c&&i.stateDisabled,e&&i.stateOpened,d&&i.stateError,f&&i.stateWarning],viewXStyle_DO_NOT_USE:[l]}},[g,c,d,e,f,j,k,l])}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}};function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.label,g=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onShiftTab,t=a.onTab,u=a.onUpArrow,v=a.viewRole,w=a.inputRef,x=a.shouldHandleCloseAfterHandlePressEntry;x=x===void 0?!1:x;var y=a.xstyles;y=y===void 0?{}:y;var z=y.viewXStyle_DO_NOT_USE;y=babelHelpers.objectWithoutPropertiesLoose(y,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","xstyles"]);var A=c("useCometInternalTypeaheadFetch")();A=A.isLoading;var B=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();B=B.isOpened;var C=c("useCometInternalTypeaheadState")(),D=C.activeEntries;C=C.highlightedEntry;w=c("useCometTypeaheadInputRefs")(w);var E=w.composedRef;w=w.inputRef;g=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")({handlers:{onAbandonTypeahead_DO_NOT_USE:g,onBlur:j,onChange:k,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onShiftTab:s,onTab:t,onUpArrow:u},inputRef:w,shouldHandleCloseAfterHandlePressEntry:x});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:D,helperText:e,highlightedEntry:C,inputLabel:f,isOpened:B,viewRole:v});k=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:B,xstyles:babelHelpers["extends"]({viewXStyle_DO_NOT_USE:[i.view,z]},y)});return h.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},a,g,{extraLayoutProps:{afterViewContent:d,ariaProps:j,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:A,isOpened:B},helperText:e,inputRef:E,label:f,viewRole:v,xstyles:k}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.extraLayoutProps,d=b.ariaProps,e=d.ariaDescribedByProps,f=d.ariaInputProps,g=d.ariaViewProps;d=b.helperTextComponent;var i=b.isLoading;b=b.isOpened;var j=a.description,k=a.errorMessage,l=a.extraViewProps,m=a.id,n=a.inputStrategyRenderer,o=a.label,p=a.onBackspace,q=a.onBlur,r=a.onChange,s=a.onClick,t=a.onDownArrow,u=a.onEnter,v=a.onEscape,w=a.onFocus,x=a.onShiftTab,y=a.onTab,z=a.onUpArrow,A=a.queryString,B=a.inputRef,C=a.viewStrategyRenderer,D=a.xstyles;D=D===void 0?{}:D;var E=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var F=a.activeEntries,G=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:b,xstyles:D});D=a.inputXStyle;var H=a.layoutXStyle,I=a.viewXStyle_DO_NOT_USE,J=c("cometHandleHighlightDropOnMouseLeave")(E.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(H),children:[h.jsx("div",{className:c("stylex")(D),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:p,onBlur:q,onChange:r,onClick:s,onDownArrow:t,onEnter:u,onEscape:v,onFocus:w,onShiftTab:x,onTab:y,onUpArrow:z,ref:B,children:function(a,b){return h.jsx(n,babelHelpers["extends"]({},b,{ariaProps:f,autoFocus:E.autoFocus,description:j,errorMessage:k,id:m,inputEndContent:E.inputEndContent,inputExtraProps:E.inputExtraProps,inputStartContent:E.inputStartContent,isDisabled:E.isDisabled,label:o,placeholder:E.placeholder,queryString:A,ref:a,testid:void 0}))}})}),d!=null&&h.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},e,{children:d})),b&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:E.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(I),onMouseLeave:J,ref:a,children:h.jsx(C,{ariaProps:g,entries:F,extraViewProps:l,highlightedEntry:G,isLoading:i,onAbandonTypeahead_DO_NOT_USE:E.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:E.onHighlightEntry,onPressEntry:E.onPressEntry,queryString:A})})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a){var b=c("useCometRouterDispatcher")(),d=i(c("CometProductAttributionContext"));return h(function(e,f){if(e==null)return;if(b!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:d};c("isCometRouterUrl")(e)?b.go(e,{productAttributionUpdateProps:g}):c("goForceFullPageRedirectTo")(e)}else f&&f(e)},[b,d,a==null?void 0:a.tapPoint])}g["default"]=a}),98);
__d("CometTypeaheadViewItemIcon.react",["ix","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderTopStartRadius:"x1o1ewxj",borderTopEndRadius:"x3x9cwd",borderBottomEndRadius:"x1e5q0jg",borderBottomStartRadius:"x13rtm0m",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0}};function k(a){var b=a.children;a=a.isActive;return i.jsx("div",{className:c("stylex")(j.icon,a&&j.iconActive),children:b})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.isActive;return i.jsx(k,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("478801"),20),size:20})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.isActive;return i.jsx(k,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=a.isActive;return i.jsx(k,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("491282"),16),size:16})})}e.displayName=e.name+" [from "+f.id+"]";function l(a){a=a.isActive;return i.jsx(k,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16})})}l.displayName=l.name+" [from "+f.id+"]";g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=l}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["TetraText.react","react","stylex","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var d=c("useCometTypeaheadEmptyState")();return d?h.jsx("div",{"aria-live":"polite","aria-selected":!1,className:c("stylex")(i.root,a),"data-testid":void 0,role:"option",children:h.jsx(c("TetraText.react"),{color:"tertiary",numberOfLines:1,type:"body3",children:b})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e}),testid:void 0,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:b.label,query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraText.react"),{numberOfLines:1,type:"body3",children:a})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive;a.queryString;var f=a.testid;f=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},f,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:e}),testid:void 0,children:h.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:(a=b.label)!=null?a:""})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,j=d.inputRef;d=i(function(a){j.current&&j.current.blur(),e&&e(a)},[j,e]);var k=i(function(a){j.current&&j.current.blur(),f&&f(a)},[j,f]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useCallback;function a(a){return function(c){var e=c.onFocus;c=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]);var f=d("CometRelay").useRelayEnvironment(),g=j(function(){d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}}),e&&e()},[e,f]);return i.jsx(a,babelHelpers["extends"]({},c,{onFocus:g}))}}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._("__JHASH__H5N-2GNjT0N__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometActivityLogControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/allactivity/",Object.freeze({manage_mode:!1,should_load_landing_page:!1,activity_history:!1}),void 0);b=a;g["default"]=b}),98);
__d("XCometMarketplaceComposerControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/marketplace/create/{listing_type}/",Object.freeze({shipping:!1}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(u.test(i)||!v.test(i))b=h;else if(w.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(x.test(i))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,d("WAProtoConst").TYPES.STRING],fromMe:[2,d("WAProtoConst").TYPES.BOOL],id:[3,d("WAProtoConst").TYPES.STRING],participant:[4,d("WAProtoConst").TYPES.STRING]};e.internalSpec={commandType:[1,d("WAProtoConst").TYPES.ENUM,a],offset:[2,d("WAProtoConst").TYPES.UINT32],length:[3,d("WAProtoConst").TYPES.UINT32],validationToken:[4,d("WAProtoConst").TYPES.STRING]};f.internalSpec={text:[1,d("WAProtoConst").TYPES.STRING],mentionedJid:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],commands:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d("WAProtoConst").TYPES.BYTES],version:[2,d("WAProtoConst").TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,PORTRAIT:3};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var h={};f.internalSpec={associatedMessage:[1,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],targetType:[2,d("WAProtoConst").TYPES.ENUM,e],targetUsername:[3,d("WAProtoConst").TYPES.STRING],targetId:[4,d("WAProtoConst").TYPES.STRING],targetExpiringAtSec:[5,d("WAProtoConst").TYPES.INT64],xmaLayoutType:[6,d("WAProtoConst").TYPES.ENUM,c],ctas:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,h],previews:[8,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],titleText:[9,d("WAProtoConst").TYPES.STRING],subtitleText:[10,d("WAProtoConst").TYPES.STRING],maxTitleNumOfLines:[11,d("WAProtoConst").TYPES.UINT32],maxSubtitleNumOfLines:[12,d("WAProtoConst").TYPES.UINT32],favicon:[13,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerImage:[14,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerTitle:[15,d("WAProtoConst").TYPES.STRING],overlayIconGlyph:[16,d("WAProtoConst").TYPES.ENUM,a],overlayTitle:[17,d("WAProtoConst").TYPES.STRING],overlayDescription:[18,d("WAProtoConst").TYPES.STRING],sentWithMessageId:[19,d("WAProtoConst").TYPES.STRING],messageText:[20,d("WAProtoConst").TYPES.STRING],headerSubtitle:[21,d("WAProtoConst").TYPES.STRING],xmaDataclass:[22,d("WAProtoConst").TYPES.STRING],contentRef:[23,d("WAProtoConst").TYPES.STRING]};h.internalSpec={buttonType:[1,d("WAProtoConst").TYPES.ENUM,b],title:[2,d("WAProtoConst").TYPES.STRING],actionUrl:[3,d("WAProtoConst").TYPES.STRING],nativeUrl:[4,d("WAProtoConst").TYPES.STRING],ctaType:[5,d("WAProtoConst").TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=h}),98);/*FB_PKG_DELIM*/
__d("CometTypeaheadProgressGlimmer.react",["CometProgressRingIndeterminate.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xdd8jsf xl56j7k",children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a.length===0){c(null);return}var d=b!=null?a.findIndex(function(a){return a.key===b})+1:0;d===a.length&&(d=0);c(a[d])}function b(a,b,c){if(a.length===0){c(null);return}var d=b!=null?a.findIndex(function(a){return a.key===b})-1:a.length-1;d===-1&&(d=a.length-1);c(a[d])}f.moveDown=a;f.moveUp=b}),66);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadFetchContext"))}g["default"]=a}),98);
__d("useCometTypeaheadViewLabel",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a){var b=a.activeEntries;return i(function(){var a=b.length;return a===0?h._("__JHASH__n-kQyB08R28__JHASH__"):h._("__JHASH__71Zs7ul5B_o__JHASH__",[h._plural(a,"number")])},[b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.activeEntries,d=a.helperText,e=a.highlightedEntry,f=a.inputLabel,g=f===void 0?"":f,i=a.isOpened,j=a.viewRole,k=c("useCometUniqueID")();f=c("useCometInternalTypeaheadFetch")();var l=f.isLoading,m=c("useCometUniqueID")(),n=c("useCometTypeaheadViewLabel")({activeEntries:b});return h(function(){var a=e!=null?{"aria-activedescendant":e.key}:{},c=i&&b.length>0?{"aria-controls":k}:null,f=d!=null&&String(d).length>0?{"aria-describedby":m}:null,h={"aria-busy":l,"aria-label":n,id:k,role:j};return{ariaDescribedByProps:{id:m},ariaInputProps:babelHelpers["extends"]({},a,c,f,{"aria-autocomplete":"list","aria-expanded":b.length>0&&i,"aria-label":g,role:"combobox"}),ariaViewProps:h}},[b.length,m,d,e,g,l,i,k,j,n])}g["default"]=a}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootActive:{backgroundColor:"x1wpzbip","@media (forced-colors:active)_backgroundColor":"xugaqoy",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootHover:{":hover_backgroundColor":"x8du52y",$$css:!0},itemIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},pressable:{width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.additionalEndContentOutsideOfPressable,d=a.children,e=a.cursorDisabled_SEARCH_ONLY;e=e===void 0?!1:e;var f=a.entry,g=a.isActive,l=a.isEmphasized;l=l===void 0?!1:l;var m=a.isDisabled;m=m===void 0?!1:m;var n=a.itemEndContent,o=a.itemStartContent,p=a.linkProps;a.onHighlightEntry;var q=a.onPressEntry,r=a.onPressEntryIn,s=a.overlayDisabled_SEARCH_ONLY;s=s===void 0?!1:s;var t=a.role,u=a.testid;u=a.xstyle;u=u===void 0?j.root:u;a=a.debugElement;var v=i(function(a){q&&q(f,a)},[f,q]),w=i(function(a){r&&r(f,a)},[f,r]),x=t==="row"?"gridcell":"none";return h.jsxs("li",{"aria-selected":g,className:"xh8yej3","data-testid":void 0,id:f.key,role:t,children:[a,h.jsxs("div",{className:c("stylex")([k.contentRoot,!s&&k.contentRootHover,g&&k.contentRootActive,l&&k.contentRootEmphasized,u]),role:x,children:[h.jsx(c("CometPressable.react"),{cursorDisabled:e,disabled:m,display:"block",expanding:!0,focusable:!1,label:f.label,linkProps:p,onPress:m?c("emptyFunction"):v,onPressIn:m?c("emptyFunction"):w,overlayDisabled:!0,role:"none",xstyle:b==null?k.pressable:k.pressableWithAdditionalEndContent,children:h.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[o!=null?h.jsx(c("CometRowItem.react"),{children:h.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu",children:o})}):null,h.jsx(c("CometRowItem.react"),{expanding:!0,children:d}),n!=null?h.jsx(c("CometRowItem.react"),{children:n}):null]})}),b,h.jsx("div",{className:c("stylex")(m&&k.contentRootDisabled)})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder,e=a.mergeBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=e;this.$4=a}var b=a.prototype;b.add=function(a){var b=this;a.forEach(function(a){var c=b.$4(a),d=b.$1.get(c);b.$1.set(c,d!=null&&b.$3!=null?b.$3(a,d):a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){a=this.$4(a);this.$1.remove(a)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("baseTypeaheadContainsMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp(""+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp("^"+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadPrefixWithDocumentContainsMatchBuilder",["baseTypeaheadContainsMatchBuilder","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return a.key.includes("diff:")||a.key.includes("task:")||a.key.includes("gdocs:")||a.key.includes("quip:")||a.key.includes("notes:")||a.key.includes("wiki:")?c("baseTypeaheadContainsMatchBuilder")({query:b})(a):c("baseTypeaheadStartsWithMatchBuilder")({query:b})(a)}}g["default"]=a}),98);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(h," ")}function s(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d){var e=d[0];c.push(e);d=b.exec(a)}return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(b),u=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:s};q=p;g["default"]=q}),98);
__d("baseTypeaheadQueryMatchBuilder",["TokenizeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return c("TokenizeUtil").isQueryMatch(b,a.label)}}g["default"]=a}),98);
__d("CometTypeaheadGraphQLBootstrapDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadContainsMatchBuilder","baseTypeaheadPrefixWithDocumentContainsMatchBuilder","baseTypeaheadQueryMatchBuilder","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={prefix:c("baseTypeaheadStartsWithMatchBuilder"),prefix_with_document_substring:c("baseTypeaheadPrefixWithDocumentContainsMatchBuilder"),substring:c("baseTypeaheadContainsMatchBuilder"),token:c("baseTypeaheadQueryMatchBuilder")};a=function(){function a(a){var b=a.bootstrapDataProvider,d=a.matchStrategy;d=d===void 0?"prefix":d;a=a.normalize;this.$2=!1;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:h[d]});this.$3=a;this.$4=b}var b=a.prototype;b.isBootstrapped=function(){return this.$2};b.bootstrap=function(){var a=this;c("promiseDone")(this.$4.fetch({query:""}).then(function(b){b=b.response;return a.$3(b)}).then(function(b){a.$1.add(b,null)}).then(function(){return a.$2=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$1.match(b);return{entries:b,params:a}};return a}();g["default"]=a}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometRelayErrorHandling").markErrorAsHandled;f.markErrorAsHandled=a}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(b("Promise"))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("XPlatReactRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)return[];b=g(a,b);var c=b.entryIndex;b=b.entryUnionIndex;if(b===void 0)return a;a=a.slice(0,b+1);if(c!==void 0&&b!==void 0){b=a[b];b.type==="section"&&(b.entries=b.entries.slice(0,c+1))}return a}function g(a,b){b=b;for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=="section"){b--;if(b===0)return{entryUnionIndex:c}}else if(b<=d.entries.length)return{entryIndex:b-1,entryUnionIndex:c};else b-=d.entries.length}return{}}f["default"]=a}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.entries;return babelHelpers["extends"]({},b,{entries:c("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(d,a)})}}g["default"]=a}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useUnsafeRef_DEPRECATED")(a),e=b(d.current,a)?d.current:a;h(function(){d.current=e},[e]);return e}g["default"]=a}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCustomEqualityMemo")(a,c("areEqual"))}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapDataSource",["BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,i=a.normalize,j=a.queryVariables,k=h(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),l=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var m=h(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:l});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:i})},[a,l]);return h(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))}}},[m,k])}g["default"]=a}),98);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=!1;a=d("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),e=!0);return e}g["default"]=a}),98);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=b;c("isStringNullOrEmpty")(f)||(g=f);var h=d;a!=null&&a!==0&&(h=a);function j(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(b||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}a=e.get(b);if(a==null){j("could not find feedback record");return}c("forEachUFI2DisplayCommentsConnection")(e,a,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});var k=a.getValue("comment_count");typeof k==="number"&&a.setValue(k+d,"comment_count");k=e.get(g);if(k==null){j("could not find top level feedback record");return}e=k.getLinkedRecord("top_level_comments");if(e==null){j("could not find top level comments");return}j=e.getValue("total_count");j=Math.max(0,Number(j)+h);e.setValue(j,"total_count");var l=k.getValue("comment_count_reduced");Number(l).toString()===l&&k.setValue(j.toString(),"comment_count_reduced");e.setValue(j===0,"is_empty");l=k.getValue("comment_count");typeof l==="number"&&a.getDataID()!==k.getDataID()&&k.setValue(l+h,"comment_count");f==null&&i(e,h)}function i(a,b){var c=a.getValue("count");if(c==null)return;c=Math.max(0,Number(c)+b);a.setValue(c,"count");b=a.getValue("display_count");Number(b).toString()===b&&a.setValue(c.toString(),"display_count")}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};h.updateTopLevelCount=function(a,b){return i(a,b)};a=h;g["default"]=a}),98);
__d("BaseTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("BaseTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};return a}();g["default"]=a}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-network",c)})}g["default"]=a}),98);
__d("hasBaseTypeaheadNetworkQueryCache",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("9187")}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.dataSource;return h(function(a){var c=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=b.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");c(a);return a},[b])}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var d=a[0],e=a[1],f=j(0),g=j(!1);i(function(){g.current=!1;return function(){g.current=!0}},[]);a=h(function(a){var d=a.onResolvePayload;a=a.requestParams;f.current++;var h=f.current,i=a.perfTraceAPI;e(!0);c("promiseDone")(b.fetchNetwork(a).then(function(a){!g.current&&h===f.current&&(d(a),i&&i.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!g.current&&h===f.current&&(f.current=0,e(!1))}))},[b]);return[{isLoading:d},a]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","hasBaseTypeaheadNetworkQueryCache","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;e=(a=e)!=null?a:c("emptyObject");a=e.renderLimit;var g=a===void 0?j:a;a=e.shouldDebounceNetwork;var k=a===void 0?!0:a;a=e.networkDebounceWaitDuration;e=e.requestFlow;var l=i(e),m=i({}),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});e=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=e[0].isLoading,p=e[1],q=c("useDebouncedComet")(p,{wait:a});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||(f(b,{isTraceComplete:e,source:d}),d!=="cache"&&(m.current[b.params.query]=!0))}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function h(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(l.current=f);f=null;if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});var h=f;h=h.entries;h=c("baseTypeaheadFlattenEntries")(h).length;if(h>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){h={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:l.current})};(!c("hasBaseTypeaheadNetworkQueryCache")()||m.current[b.query]==null||f==null)&&(Boolean(k)?q(h):p(h))}}b!=null&&h(b);return function(){a=!0}}h(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTypeaheadDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a;b.forEach(function(a){c=a(c)});return c}f["default"]=a}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d){var e=new Set(c("baseTypeaheadFlattenEntries")(b).map(function(b){return a(b)})),f=new Map();for(var g=b,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(j.type!=="section")continue;f.set(j.key,j)}j=d.map(function(b){if(b.type==="section"){var c=b.entries.filter(function(b){return!e.has(a(b))});if(c.length===0)return null;var d=f.get(b.key);if(d!=null){d.entries=[].concat(d.entries,c);return null}else{b.entries=c;return b}}else return e.has(a(b))?null:b}).filter(Boolean);return[].concat(b,j)}}g["default"]=a}),98);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("BaseTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("baseTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("BaseDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("CometTypeaheadCompositeDataSource",["BaseDataEntryKeyBuilder","Promise","baseTypeaheadDedupEntriesBuilder","baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.bootstrapDataSource,c=a.limit,d=a.networkDataSource;a=a.nullstateDataSource;this.$1=!1;this.$2=b;this.$3=c;this.$4=d;this.$5=a}var d=a.prototype;d.bootstrap=function(){if(this.$1)return;this.$2!=null&&this.$2.bootstrap();this.$5!=null&&void this.$5.fetchNetwork({query:""});this.$1=!0};d.fetchCache=function(a){var b=a.query;if(this.$5!=null&&b==="")return this.$5.fetchCache(a);if(b==="")return{entries:[],params:a};if(this.$2==null)return this.$4!=null?this.$4.fetchCache(a):{entries:[],params:a};b=this.$2.fetchCache(a);var d=b.entries,e=c("baseTypeaheadFlattenEntries")(d).length;if(e>=this.$3||this.$4==null)return b;e=this.$4.fetchCache(a);b=e.entries;a=e.params;e=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((e=d)!=null?e:[],(d=b)!=null?d:[]);return{entries:e,params:a}};d.fetchNetwork=function(a){var d=a.query;if(this.$5!=null&&d==="")return this.$5.fetchNetwork(a);if(d==="")return b("Promise").resolve({entries:[],params:a});d=this.$2;if(d==null&&this.$4==null)return b("Promise").resolve({entries:[],params:a});if(d==null)return this.$4!=null?this.$4.fetchNetwork(a):b("Promise").resolve({entries:[],params:a});var e=d.fetchCache(a);return this.$4==null?b("Promise").resolve(e):this.$4.fetchNetwork(a).then(function(a){var b=e.entries,d=a.entries;a=a.params;d=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((b=b)!=null?b:[],(b=d)!=null?b:[]);return{entries:d,params:a}})};return a}();g["default"]=a}),98);
__d("cometTypeaheadCreateOrGetCachedCompositeDataSource",["CometLruCache","CometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(5);function a(a){var b=a.cacheKey_SEARCH_ONLY;a=babelHelpers.objectWithoutPropertiesLoose(a,["cacheKey_SEARCH_ONLY"]);b=i(b);var d=h.get(b);if(d!=null)return d;d=new(c("CometTypeaheadCompositeDataSource"))(a);h.set(b,d);return d}function i(a){switch(a.type){case"group_rules_mentions_intentful_datasource_cache_key":case"groups_mentions_intentful_datasource_cache_key":case"groups_mentions_non_intentful_datasource_cache_key":return a.type+"-"+a.groupID;case"feed_mentions_intentful_datasource_cache_key":return a.enableTypeSelection.toString()+"-"+a.type+"-"+a.mentionTypes.join(",");case"workplace_chat_composer_mentions_datasource_cache_key":return a.participants.toString()+"-"+a.type+"-"+a.threadID+"}";case"groups_post_mentions_intentful_datasource_cache_key":return a.type+"-"+a.groupID+"-"+a.postID;default:return String(a.type)}}g["default"]=a}),98);
__d("useCometTypeaheadCompositeDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometTypeaheadCompositeDataSource","baseTypeaheadFetchPayloadDecorate","cometTypeaheadCreateOrGetCachedCompositeDataSource","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo;function a(a){var b=a.bootstrapDataSource,d=a.cacheKey_SEARCH_ONLY,e=a.limit,f=a.networkDataSource,g=a.nullstateDataSource,j=a.payloadDecorators,k=h(function(a){return c("baseTypeaheadFetchPayloadDecorate")(a,[].concat((a=j)!=null?a:[],[c("BaseTypeaheadPayloadDecoratorAddLimit")(e)]))},[e,j]),l=i(function(){return{bootstrapDataSource:b,limit:e,networkDataSource:f,nullstateDataSource:g}},[b,e,f,g]),m=i(function(){return d!=null?c("cometTypeaheadCreateOrGetCachedCompositeDataSource")(babelHelpers["extends"]({},l,{cacheKey_SEARCH_ONLY:d})):new(c("CometTypeaheadCompositeDataSource"))(l)},[d,l]);return i(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))},fetchNetwork:function(a){return m.fetchNetwork(a).then(function(a){return k(a)})}}},[m,k])}g["default"]=a}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.gqlQuery,d=a.normalize,e=a.options,f=a.queryVariablesBuilderFunction;a=a.relayEnvironment;var g=function(){return f};g=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(g);e=new(c("BaseTypeaheadDataProvider"))({options:e,query:b,queryVariablesBuilder:g,relayEnvironment:a});b=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:c("baseTypeaheadLabelSuffixBuilder")});this.$1=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,b,{normalizeFunc:d})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();g["default"]=a}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,i=a.queryVariablesBuilderFunction,j=h(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(e)},[e]),k=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(i({query:""}));var l=h(function(){return new(c("CometTypeaheadGraphQLDataSource"))({gqlQuery:b,normalize:f,options:g,queryVariablesBuilderFunction:i,relayEnvironment:k})},[a,k]);return h(function(){return{fetchCache:function(a){return j(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return j(a)})}}},[l,j])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}b=a;f["default"]=b}),66);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";var g="v1",h="v1",i="v1",j="v1",k="v1",l="messenger_web_"+g,m="messenger_web_encryption_"+h,n="messenger_web_signal_"+i,o="messenger_web_log_"+j,p="messenger_web_eb_lsdb_"+k;function a(a){return l+"_"+a}function b(a){return m+"_"+a}function c(a){return n+"_"+a}function d(a){return o+"_"+a}function e(a){return p+"_"+a}f.dbName=a;f.encryptionDbName=b;f.signalDbName=c;f.logDbName=d;f.ebLSDBName=e}),66);
__d("MAWDbChatId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerceToChatId=a}),66);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b}),66);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("WALogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS([]);b=a.DEV;c=a.DEV_XMPP;e=a.LOG;f=a.WARN;d=a.ERROR;g.DEV=b;g.DEV_XMPP=c;g.LOG=e;g.WARN=f;g.ERROR=d}),98);
__d("WADynamicRouter",["Promise","WAErr","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);h=function(){return a};return a}var i={sentinel:"RESPONSE_NAMESPACE"},j={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=b("Promise").resolve();this.$2=new Map();this.$4=0;this.$5=null;this.$6=null;this.$7=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$9(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$3==null?void 0:a.$3(c,d,e);return new(b("Promise"))(function(b,g){a.$9(c,d,e,function(c){try{var d=m(c);d?d.call(c,function(c){a.$9(i,"",c,b,f)},function(b){a.$9(i,"",b,g,!1)}):a.$9(i,"",c,b,f)}catch(b){a.$9(i,"",b,g,!1)}},f)})};this.$8=function(){var b=a.$6;if(!b)return;var c=a.$2,d;while(b&&!(d=k(c,b)))a.$6=b=b.nextRoute;if(!b||!d)return;c=a.$10(d,b);var e=!0;if(c!==j){var f=b.prevRoute,g=b.nextRoute;a.$6===b&&(a.$6=g);f?f.nextRoute=g:a.$5=g;g?g.prevRoute=f:(e=!1,a.$7=f)}e&&a.$1.then(a.$8);return c}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$4;c.set(a,b);if(!d){c=this.$5;c&&(this.$6||this.$1.then(this.$8),this.$6=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(h(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$9=function(a,b,c,d,e){var f=this.$7;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$7=a;b=!0;f?(f.nextRoute=a,b=!this.$6):this.$5=a;b&&k(this.$2,a)&&(this.$6=a,this.$1.then(this.$8))};e.$10=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var h=this.$4,i=null,k=null;try{i=a(e,f,g,d)}catch(a){k=b("Promise").reject(a)}if(i===j)if(h===this.$4)k=b("Promise").reject(c("WAErr")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return j;if(g){k&&g(k);return}else return k};return a}();function k(a,b){b=b.namespace;return b===i?l:a.get(b)}function l(a,b,c){c(b)}function m(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=j;g.DynamicRouter=a}),98);
__d("WABridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getBridge=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWODSProxy",["CurrentUser","MAWBridge","ODS","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!((b=c("gkx")("9024"))!=null?b:!1);function a(a,b){var e=a.amount,f=a.entity;a=a.key;b===void 0&&(b=!0);h?d("ODS").bumpEntityKey(3185,f,a+"."+(c("CurrentUser").getAppID()||"unknown"),e):d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:e,entity:f,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,n="@msgr",ba="msgr",o="@interop",ca="interop",da="@call",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",ga="@call",w="@newsletter",x=/^([1-9][0-9]{0,19})@newsletter$/,y=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,z=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,A="@lid",ha="lid",B=/^([1-9][0-9]{0,14})@lid$/,C=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ia="@broadcast",D=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,E=/^([0-9a-fA-F]{18,32})@call$/,F="@hosted",G="hosted",H=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[1-9][0-9]{0,1})))@hosted$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+A}function I(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(w)?a:""+a+w}function f(a){return a.endsWith(F)?a:""+a+F}function la(){return l}function J(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(A))return a.slice(0,-A.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function ma(a,b){return Y(J(a)+":"+b+u)}function na(a,b){return Z(J(a)+":"+b+n)}function K(a,b){return nb(Q(a)+":"+b+A)}function oa(a,b){return X(J(a)+":"+b+ib(a))}function pa(a){return""+a+ia}function L(a){return a.split("@")[0]}function M(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function N(a){a=M(a);return a.deviceID}function qa(a,b){if(a===i||a===j)return b;else return L(a)}function ra(a){return a===i||a===j?null:a}function sa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function O(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function ta(a){if(a.endsWith(u))return O(a);else if(a.endsWith(A))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function P(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(A)?a:null}function ua(a){return a.endsWith(u)?a:null}function va(a){return a===k?null:$(a)}function wa(a){return a===k?null:$(a)}function xa(a){return a===k?k:null}function Q(a){if(!a.endsWith(A))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-A.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===G&&(a=v);return ob(b+"@"+a)}function ya(a){return R(a)}function za(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else{a.jidType;return a.broadcastJid}}function Aa(a){return Y(J(a)+":"+h+u)}function Ba(a){return Z(J(a)+":"+h+n)}function Ca(a){return K(a,h)}function Da(a){return N(a)===h}function Ea(a){return sb(a)}function Fa(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Ga(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Ha(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Ia(a){if(a===k)return{jidType:"status",statusJid:k};else if(z.test(a))return{jidType:"phoneUser",userJid:pb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:qb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:rb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:I(b)}}else if(y.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:mb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(D.test(a))return{jidType:"broadcast",broadcastJid:a};else if(E.test(a))return{jidType:"call",callJid:a};else if(B.test(a))return{jidType:"lidUser",userJid:a};else if(C.test(a))return{jidType:"lidDevice",deviceJid:a};else if(x.test(a))return{jidType:"newsletter",newsletterJid:a};else if(H.test(a))return{jidType:"hosted",hostedDeviceJid:a};else return{jidType:"unknown"}}function Ja(a){return a==="status@broadcast"?a:null}function Ka(a){if(z.test(a)||q.test(a)||s.test(a)||B.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return I(a)}else return null}function La(a){return D.test(a)?a:null}function Ma(a){if(y.test(a)||r.test(a)||p.test(a)||C.test(a)||H.test(a))return a;return z.test(a)?jb(a):null}function T(a){return m.test(a)?a:null}function Na(a){return Ja(a)||T(a)||La(a)?a:null}function Oa(a){return E.test(a)?a:null}function Pa(a){return a==="s.whatsapp.net"||a==="g.us"?a:null}function Qa(a){return Ka(a)||T(a)}function Ra(a){return x.test(a)?a:null}function Sa(a){return H.test(a)?a:null}function Ta(a){return P(a)==null?$(a):null}function Ua(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function Va(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function Wa(a){var b=Ia(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Ha(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function Xa(a){return!a.includes("@")?a:a.replace(ka,Wa)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(A))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function Ya(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function Za(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function $a(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function ab(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function bb(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function cb(a){return a.endsWith(A)}function db(a){return a==="@me"}function eb(a){return a==="@system"}function fb(){return n}function gb(){return u}function hb(){return ea}function ib(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(A))return A;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function jb(a){return X(J(a)+":"+h+ib(a))}function kb(a){a=a.platform;var b=a==="msgr"?n:u,c=a==="msgr"?da:ga;function d(a){return""+a+b}function e(){return b}function f(){return c}return{toUserJid:d,getUserDomain:e,getGroupCallDomain:f}}function lb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function mb(a){return a}function nb(a){return a}function ob(a){return a}function pb(a){return a}function qb(a){return a}function rb(a){return a}function $(a){return a}function sb(a){return a}function tb(a){return a}function ub(a){return a}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ba;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=ca;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_NEWSLETTER_JID_DOMAIN=w;g.LID_DOMAIN=A;g.LID_SUFFIX=ha;g.HOSTED_DOMAIN=F;g.HOSTED_SUFFIX=G;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=I;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.getGroupDomain=la;g.userIdFromJid=J;g.toPhoneDeviceJid=ma;g.toMsgrDeviceJid=na;g.toLidDeviceJid=K;g.toDeviceJid=oa;g.toBroadcastJid=pa;g.extractUserId=L;g.extractDeviceIDParts=M;g.extractDeviceId=N;g.authorToUserId=qa;g.authorAsUserJid=ra;g.authorAsPhoneUserJid=sa;g.phoneNumberFromJid=O;g.lidOrPhoneFromUserJid=ta;g.interpretAsUserJid=P;g.interpretAsPhoneUserJid=ua;g.asChatJid=va;g.asPhoneChatJid=wa;g.asStatusJid=xa;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=ya;g.extractJidFromJidWithType=za;g.defaultPhoneDeviceJidForUser=Aa;g.defaultMsgrDeviceJidForUser=Ba;g.defaultLidDeviceJidForLidUserJid=Ca;g.isPrimaryDevice=Da;g.interpretAsDeviceId=Ea;g.interpretAsNumber=Fa;g.parseJidParts=S;g.fullFormDeviceJidString=Ga;g.extractFromJid=Ha;g.interpretAndValidateJid=Ia;g.validateStatusJid=Ja;g.validateUserJid=Ka;g.validateBroadcastJid=La;g.validateDeviceJid=Ma;g.validateGroupJid=T;g.validateMulticastJid=Na;g.validateCallJid=Oa;g.validateDomainJid=Pa;g.validateChatJid=Qa;g.validateNewsletterJid=Ra;g.validateHostedDeviceJid=Sa;g.asMulticastJid=Ta;g.stripAgentIdFromPhoneDeviceJid=Ua;g.groupIdFromJid=Va;g.sanitizeJidForLogging=Wa;g.maybeSanitizeLogLineText=Xa;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=Ya;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=Za;g.switchOnPhoneJidType=$a;g.switchOnJidType=ab;g.switchOnMulticastJidType=bb;g.isLidUser=cb;g.isAuthorMe=db;g.isAuthorSystem=eb;g.getMsgrUserDomain=fb;g.getWhatsappUserDomain=gb;g.getServerDomain=hb;g.defaultDeviceJidForUser=jb;g.createJidUtils=kb;g.unsafeCoerceToChatJid=lb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=mb;g.unsafeCoerceToLidDeviceJid=nb;g.unsafeCoerceToUserJid=ob;g.unsafeCoerceToPhoneUserJid=pb;g.unsafeCoerceToInteropUserJid=qb;g.unsafeCoerceToMsgrUserJid=rb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=sb;g.unsafeCoerceToNewsletterJid=tb;g.unsafeCoerceToHostedDeviceJid=ub}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=d("WAJids").createJidUtils({platform:"msgr"});b=a.toUserJid;g.jidUtils=a;g.toDeviceJid=d("WAJids").toDeviceJid;g.toUserJid=b;g.toGroupJid=d("WAJids").toGroupJid;g.userIdFromJid=d("WAJids").userIdFromJid;g.interpretAsDeviceId=d("WAJids").interpretAsDeviceId;g.groupIdFromJid=d("WAJids").groupIdFromJid;g.defaultDeviceJidForUser=d("WAJids").defaultDeviceJidForUser}),98);
__d("MAWJidUtils",["MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WAJids").switchOnMsgrChatJidType(a,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}})}function b(a,b,c){if(d("WAJids").isAuthorSystem(a)||b==null||c==null)return;return{author:a,chat:b,externalId:c}}g.threadIdForChatJid=a;g.maybeToProtocolMsgId=b}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MSG_ENCRYPTION:"armadillo_message_encryption",MSG_DECRYPTION:"armadillo_message_decryption",GET_DEVICES:"armadillo_get_devices",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",MAW_WEBWORKER_LOG_TEST:"maw_webworker_log_test",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_STARTED_WITH_UNUSED_STANZA_CACHE:"wa_started_with_unused_stanza_cache",WA_UNUSED_STANZA_STATS:"wa_unused_stanza_stats"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){function a(a,c){return new(b("Promise"))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(b("Promise"))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWGating","MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWGating").isClientTimeoutsEnabled()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWDbChatId","MAWJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("I64").to_string(a.jid);b=b?d("MAWJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{chatId:d("MAWDbChatId").unsafeCoerceToChatId(d("I64").to_int32(a.clientThreadPk)),jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").lt(a,d("I64").zero)}g.isPlaceholderChatId=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",ACT_THREAD_ONLY_BY_CHAT_ID:"ACT_THREAD_ONLY_BY_CHAT_ID",ACT_THREAD_ONLY_BY_JID:"ACT_THREAD_ONLY_BY_JID",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("LSDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[[]];function i(a,b){var d=a===h,e=b===h;if(d&&e)return 0;if(d)return 1;if(e)return-1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;else if(Array.isArray(a)){if(!Array.isArray(b))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");d=a[0];e=b[0];if(d<e)return-1;if(d>e)return 1;d=a[1];e=b[1];if(d<e)return-1;if(d>e)return 1}else if(typeof a==="string"){if(typeof b!=="string")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(!a&&b)return-1;if(a&&!b)return 1}else throw c("unrecoverableViolation")("Unexpected type","messenger_comet");return 0}function a(a,b){for(a=a,b=b;;a=a.tl,b=b.tl){if(a===0&&b===0)return 0;if(a===0)return-1;if(b===0)return 1;var c=i(a.hd,b.hd);if(c!==0)return c}return 0}g.MAX_KEY=h;g.compareValue=i;g.compareKey=a}),98);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){var f=d("LSIntEnum").toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"OPTIMISTIC_THREAD_WITH_ACT"});else return{serverThreadKey:a.threadKey,thread:a,type:"OPTIMISTIC_THREAD_NO_ACT"};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return{serverThreadKey:a.threadKey,type:"CLIENT_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:"SERVER_PARTIAL_MI_THREAD"};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,type:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW"};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:"MI_AND_ACT_THREAD_COMPLETE"});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderChatId(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:"AUTHORITATIVE_THREAD_ONLY"}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",d("I64").to_string(a.threadKey),f,e)}function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange(d("I64").of_int32(b))));if(e==null)return{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{chatId:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID}:h(a,e,c)});return i.apply(this,arguments)}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:h(a,e,c)});return j.apply(this,arguments)}function f(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:h(f,a,e)});return k.apply(this,arguments)}g.getThreadLifecycleStateByChatId=a;g.getThreadLifecycleStateByJid=e;g.getThreadLifecycleStateByThreadKey=f}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(b("Promise"))(function(a,b){h=a,i=b}),k=h,l=i;function m(a){return j["catch"](function(){throw c("err")("'"+a+"' rejected because backend setup failed.")})}function a(a,b){c("promiseDone")(m(b).then(function(){a()}))}function d(){j=new(b("Promise"))(function(a,b){h=a,i=b}),k=h,l=i}function e(){k==null?void 0:k()}function f(a){l==null?void 0:l(a)}g.waitForBackendSetup=m;g.runAfterBackendSetup=a;g.resetBackendSetup=d;g.resolveBackendSetup=e;g.rejectBackendSetup=f}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWTimedBridge",["FBLogger","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e){e===void 0&&(e=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(b).then(function(){return a()}),e,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",b)},b)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWTimedBridge").bridgeTimeout(function(){return d("MAWBridge").getBridge().sendAndReceive(a,b,c)},b,e)}g.sendAndReceive=a}),98);
__d("MAWWebWorkerInstance",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}d=function(){return g!==null};function b(){g=null}function c(){return g}f.setWorkerInstancePromise=a;f.doesWorkerExist=d;f.destroyWorkerInstance=b;f.getWorkerInstancePromise=c}),66);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("useCometHomeChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9976213915752418"}),null);